local this = {}




this.missionID										= 20020
this.cpID											= "e20020_cp"


this.Timer_MTSquad_wareHouse						= (25)
this.Timer_MTSquad_Asylum							= (125)
this.Timer_MTSquad_Heliport_WoodTurret				= (90)
this.Timer_MTSquad_wareHouse_WoodTurret				= (90)
this.Timer_MTSquad_eastTent							= (180)
this.Timer_MTSquad_Heliport_Conversation			= (120)
this.Timer_MTSquad_DeadLost							= (20)

this.Timer_MTSquad_WaitWestTent						= (120)
this.Timer_MTSquad_WaitEastTent						= (120)

this.Timer_MTCetner_ControlTower					= (60)
this.Timer_MTCetner_WestCenter						= (120)
this.Timer_MTCetner_EastCenter						= (90)
this.Timer_MTCenter_Heliport_Conversation			= (120)
this.Timer_MTCenter_DeadLost						= (20)

this.Timer_MTSquad_AreaMarkerOn						= (50)												
this.Timer_MTCenter_AreaMarkerOn					= (50)												
this.Timer_MTSquad_AreaMarkerOff					= (30)												
this.Timer_MTCenter_AreaMarkerOff					= (30)												
this.Timer_Alert_AreaMakrerOff						= (2)												

this.Timer_EnemyWestern_MoveStart					= (90)												

this.Timer_EnemyReinforce							= (1)												

this.Timer_SequenceChage							= (0.5)

this.Timer_EscapeVehicleSound						= (1)

this.Timer_OutsideAreaCamera						= (1.0)

this.Timer_FocusMapIcon								= (10)


this.RouteSet_Sneak									= "e20020_route_n01"
this.RouteSet_Caution								= "e20020_route_c01"


this.CharacterID_MT_Center							= "Enemy_US_MissionTargetCenter000"					
this.CharacterID_E_Center01							= "Enemy_US_MissionTargetCenterSquad000"			
this.CharacterID_E_Center02							= "Enemy_US_MissionTargetCenterSquad001"			
this.CharacterID_MT_Squad							= "Enemy_US_MissionTargetSquad000"					
this.CharacterID_E_Squad							= "Enemy_US_MissionTargetSquad001"					
this.CharacterID_E_Vehicle01						= "Enemy_US_Vehicle000"								
this.CharacterID_E_Vehicle02						= "Enemy_US_Vehicle001"								
this.CharacterID_E_Western01						= "Enemy_US_Western000"								
this.CharacterID_E_Imitation						= "Enemy_US_Imitation000"							
this.CharacterID_E_ArmoredVehicle					= "Enemy_US_Stryker000"								
this.CharacterID_E_eastTentNorth01					= "Enemy_US_eastTent_north000"						
this.CharacterID_E_eastTentNorth02					= "Enemy_US_eastTent_north001"						
this.CharacterID_E_Reinforce01						= "Enemy_US_Reinforce000"							
this.CharacterID_E_Reinforce02						= "Enemy_US_Reinforce001"							
this.CharacterID_E_Reinforce03						= "Enemy_US_Reinforce002"							
this.CharacterID_E_Reinforce04						= "Enemy_US_Reinforce003"							
this.CharacterID_E_Reinforce05						= "Enemy_US_Reinforce004"							
this.CharacterID_E_Reinforce06						= "Enemy_US_Reinforce005"							
this.CharacterID_E_Reinforce07						= "Enemy_US_Reinforce006"							
this.CharacterID_E_Reinforce08						= "Enemy_US_Reinforce007"							

this.CharacterID_SupportHelicopter					= "SupportHelicopter"								


this.CharacterID_Hostage_PickingDoor08				= "Hostage_e20020_000"								
this.CharacterID_Hostage_PickingDoor22				= "Hostage_e20020_001"								


this.VehicleID_Vehicle00							= "Tactical_Vehicle_WEST_000"						
this.VehicleID_Vehicle01							= "Tactical_Vehicle_WEST_001"						
this.VehicleID_Vehicle02							= "Tactical_Vehicle_WEST_002"						
this.VehicleID_Western01							= "Cargo_Truck_WEST_000"							
this.VehicleID_Western02							= "Cargo_Truck_WEST_001"							
this.VehicleID_ArmoredVehicle						= "Armored_Vehicle_WEST_001"						


this.ConversationName_Vehicle						= "CTF0040_0040"									
this.ConversationName_Western						= "CTE0020_0010"									
this.ConversationName_MT							= "CTE0020_0020"									
this.ConversationName_MT_Squad						= "CTE0020_0030"									
this.ConversationName_MT_Center						= "CTE0020_0040"									
this.ConversationName_Common_01						= "CTF0000_0010"									
this.ConversationName_Common_02						= "CTF0040_0010"									
this.ConversationName_Common_03						= "CTF0040_0045"									


this.PhotoID_MT_Squad								= 10												
this.PhotoID_MT_Center								= 20												


this.CassetteID										= "tp_chico_06"										


this.AreaMarkerID_MT_Squad_westTent					= "20020_marker_MTSquad0000"						
this.AreaMarkerID_MT_Squad_Asylum					= "20020_marker_MTSquad0001"						
this.AreaMarkerID_MT_Squad_Heliport					= "20020_marker_MTSquad0002"						
this.AreaMarkerID_MT_Squad_wareHouse				= "20020_marker_MTSquad0003"						
this.AreaMarkerID_MT_Squad_eastTent					= "20020_marker_MTSquad0004"						
this.AreaMarkerID_MT_Squad_Heliport_Conversation	= "20020_marker_MTSquad0005"						
this.AreaMarkerID_MT_Center_westCenter				= "20020_marker_MTCenter0000"						
this.AreaMarkerID_MT_Center_Heliport_Conversation	= "20020_marker_MTCenter0001"						
this.MarkerID_EscapeWest							= "TppMarkerLocator_EscapeWest"						
this.MarkerID_EscapeNorth							= "TppMarkerLocator_EscapeNorth"					


this.AnnounceLogID_MT_Squad_Kill					= "announce_mission_40_20020_001_from_0_prio_0"		
this.AnnounceLogID_MT_Squad_Heli					= "announce_mission_40_20020_003_from_0_prio_0"		
this.AnnounceLogID_MT_Center_Kill					= "announce_mission_40_20020_000_from_0_prio_0"		
this.AnnounceLogID_MT_Center_Heli					= "announce_mission_40_20020_002_from_0_prio_0"		

this.AnnounceLogID_MapUpdate						= "announce_map_update"								
this.AnnounceLogID_MissionInfoUpdate				= "announce_mission_info_update"					
this.AnnounceLogID_MissionAreaWarning				= "announce_mission_area_warning"					
this.AnnounceLogID_MissionGoal						= "announce_mission_goal"							
this.AnnounceLogID_EnemyIncrease					= "announce_enemyIncrease"							
this.AnnounceLogID_EnemyDecrease					= "announce_enemyDecrease"							
this.AnnounceLogID_EnemyCollection					= "announce_collection_enemy"						
this.AnnounceLogID_HeliDestroyed					= "announce_destroyed_support_heli"					


this.RegisterVipMemberID_MTSquad					= "RegisterVipMember_MTSquad"						
this.RegisterVipMemberID_MTCenter					= "RegisterVipMember_MTCenter"						


this.TrophyID_GZ_VipRecovery						= 7													
this.TrophyID_GZ_SideOpsClear						= 2													
this.TrophyID_GZ_RankSClear							= 4													


this.MissionSubGoal_VipKillTwo						= 1													
this.MissionSubGoal_VipKillOne						= 2													
this.MissionSubGoal_Escape							= 3													


this.tmpChallengeString = 0
this.tmpBestRank = 0				
this.tmpRewardNum = 0				


this.InterrogationID_TargetA						= "InterrogationID_Target_A"						
this.InterrogationID_TargetB						= "InterrogationID_Target_B"						
this.InterrogationName_TargetA						= "enqt1000_1r1010"									
this.InterrogationName_TargetB						= "enqt1000_1r1110"									
this.InterrogationCount_TargetA						= 8													
this.InterrogationCount_TargetB						= 4													


this.RecoveryExternalScore							= (7500)


this.DebugPrint2DOn									= false												
this.DebugVehicleAllDisable							= false												
this.DebugMissionAreaOutMTSquadOFF					= false												
this.DebugMissionAreaOutMTCenterOFF					= false												
this.DebugSetSniperRifle							= false												




this.RequiredFiles = {
	"/Assets/tpp/script/common/GZCommon.lua",
}

this.Sequences = {
	{ "Seq_MissionPrepare" },
	{ "Seq_MissionSetup" },
	{ "Seq_OpeningDemoLoad" },
	{ "Seq_OpeningShowTransition" },
	{ "Seq_OpeningDemo" },
	{ "Seq_MissionLoad" },
	{ "Seq_Waiting_KillMT_Squad_and_Center" },
	{ "Seq_Waiting_KillMT_Center" },
	{ "Seq_Waiting_KillMT_Squad" },
	{ "Seq_Mission_FailedPlayerRideHelicopter" },
	{ "Seq_Mission_FailedPlayerEscapeMissionArea" },
	{ "Seq_Mission_FailedMTEscapeMissionArea" },
	{ "Seq_Waiting_MissionClearPlayerRideHelicopter" },
	{ "Seq_MissionClearEscapeMissionArea" },
	{ "Seq_MissionClearEscapeMissionAreaEnd" },
	{ "Seq_MissionClearPlayerRideHelicopter" },
	{ "Seq_MissionClearShowTransition" },
	{ "Seq_MissionFailed" },
	{ "Seq_MissionEnd_Radio" },
	{ "Seq_MissionGameOver" },
	{ "Seq_ShowClearReward" },
	{ "Seq_MissionEnd" },
}


this.checkings = {
	"CheckLookingTarget"
}

this.OnStart = function( manager )
	GZCommon.Register( this, manager )
	TppMission.Setup()
end


this.ChangeExecSequenceList =  {

	"Seq_OpeningDemo",
	"Seq_MissionLoad",
	"Seq_Waiting_KillMT_Squad_and_Center",
	"Seq_Waiting_KillMT_Center",
	"Seq_Waiting_KillMT_Squad",
	"Seq_Mission_FailedPlayerRideHelicopter",
	"Seq_Mission_FailedPlayerEscapeMissionArea",
	"Seq_Mission_FailedMTEscapeMissionArea",
	"Seq_Waiting_MissionClearPlayerRideHelicopter",
	"Seq_MissionClearEscapeMissionArea",
	"Seq_MissionClearPlayerRideHelicopter",

}


local IsChangeExecSequence = function()
	local sequence = TppSequence.GetCurrentSequence()

	for i = 1, #this.ChangeExecSequenceList do
		if sequence == this.ChangeExecSequenceList[i] then
			return true
		end
	end
	return false
end


this.OnEnterCommon = function()
	local sequence = TppSequence.GetCurrentSequence()



	
	if IsChangeExecSequence() then
		TppMission.ChangeState( "exec" )
	end
end

this.OnLeaveCommon = function()
	local sequence = TppSequence.GetCurrentSequence()



end




this.MissionFlagList = {

	isSeq_Advance									= 0,									
	isSupportHelicopterDead							= false,								
	
	
	
	isMissionSetupInit								= false,								
	isMissionPhotoInit								= false,								
	isEnemyMarkerInit								= false,								
	isEnemyCombatInit								= false,								
	isEnemyDisableRouteInit							= false,								
	
	
	
	isPlayerRideSneak								= false,								
	isPlayerGetTruckSniper							= false,								
	
	
	
	isMT_TargetMarker_MTSquad						= false,								
	isMT_TargetMarker_MTCenter						= false,								
	isMT_BuildingMarker_MTSquad						= false,								
	isMT_BuildingMarker_MTCenter					= false,								
	isMT_InterroMarker_MTSquad						= false,								
	isMT_InterroMarker_MTCenter						= false,								
	isMT_AreaMarker_MTSquad							= 0,									
	isMT_AreaMarker_MTCenter						= 0,									
	isMT_SquadKill									= 0,									
	isMT_CenterKill									= 0,									
	isAlert											= false,								
	isKeepCaution									= false,								
	isMbDvcActOpenTop								= false,								
	
	isAlert											= false,								
	isKeepCaution									= false,								
	isMT_Squad_GroupVehicleFailed					= false,								
	isMT_Center_GroupVehicleFailed					= false,								
	
	isMT_Squad_StateMove							= 0,									
	isMT_Center_StateMove							= 0,									
	isEnemy_Vehicle_StateMove						= 0,									
	isEnemy_Western01_StateMove						= 0,									
	isEnemy_Imitation_StateMove						= 0,									
	isEnemy_eastTent01_StateMove					= 0,									
	isEnemy_eastTent02_StateMove					= 0,									
	isEnemy_Reinforce_StateMove						= 0,									
	
	isMT_WaitVehicleRaid_eastTent					= false,								
	isMT_WaitVehicleRaid_westTent					= false,								
	isMT_WestTentMoveEnd							= false,								
	isMT_Center_EastCenterMoveEnd					= false,								
	
	
	
	isGimmick_Break_WoodTurret02					= false,								
	
	
	
	isInterrogation_Count							= 0,									
	isInterrogation_MTSquad							= false,								
	isInterrogation_MTCenter						= false,								
	
	
	
	isRadio_MissionStart							= false,								
	isRadio_MissionStartPlay						= false,								
	isRadio_MissionOutLine01						= false,								
	isRadio_MissionOutLine02						= false,								
	isRadio_CheckMbPhotoTutorial					= false,								
	isRadio_MarkerOutFirst							= false,								
	isRadio_MarkerIn								= false,								
	isRadio_MbDvcActOpenTop							= false,								
	isRadio_MTMbDvcAct_A_Start						= false,								
	isRadio_MTMbDvcAct_A_End						= false,								
	isRadio_MTMbDvcAct_B_Start						= false,								
	isRadio_MTMbDvcAct_B_End						= false,								
	isRadio_MTMbDvcAct_AB							= false,								
	isRadio_MTSquadCarried							= false,								
	isRadio_MTCenterCarried							= false,								
	isRadio_MarkerOnMissionTargetA					= false,								
	isRadio_MarkerOnMissionTargetB					= false,								
	isRadio_AlertTargetEscape						= false,								
	isRadio_FocusMapIcon							= false,								
	
	
	
	isIntelRadio_Western							= false,								
	
	
	
	isSwitchLightDemo								= false,								
	
	
	
	isDebug_EscapeArea_West							= false,								
	isDebug_EscapeArea_East							= false,								
	isPrimaryWPIcon									= false,								
	isCarTutorial									= false,								
	isAVMTutorial									= false,								
	isHeliLandNow									= false,								
}




this.CounterList = {
	DEBUG_commonPrint2DCount						= 0,									
	
	VipOnEscapeVehicleID							= "NoRide",								
	VipOnEscapeCharacterID							= "NoCharacterID",						
	VipOnEscapeArea									= "NoArea",								
	ForceRoute_MTSquad								= "OFF",								
	ForceRoute_MTCenter								= "OFF",								
	IntelRadioBuilding_MTSquad						= false,								
	IntelRadioBuilding_MTCenter						= false,								
	
	VehicleEndName_Vehicle							= "NoName",								
	VehicleEndName_Western							= "NoName",								
	
	GameOverRadioName								= "NoRadio",							
	GameOptionalRadioName							= "NoRadio",							
	GameOverFadeTime								= GZCommon.FadeOutTime_MissionFailed,	
	
	NextSequenceName								= "NoName",								
	HeliRendezvousPointName							= "NoName",								
	
	DEBUG_commonPrint2DCount						= 0,									
}




this.DemoList = {
	Demo_Opening 									= "p12_010000_000",						
	Demo_AreaEscapeNorth							= "p11_020010_000",						
	Demo_AreaEscapeWest								= "p11_020020_000",						
	SwitchLightDemo									= "p11_020003_000",
}





this.RadioList = {

	
	
	
	
	Radio_MissionStart								= "e0020_rtrg0010",						
	Radio_MissionStartContinue						= "e0020_rtrg0009",						
	
	Radio_MbDvcActOpenTop							= { "e0020_rtrg0011", 1 },				
	Radio_MissionOutLine01							= { "e0020_rtrg0030", 1 },				
	Radio_MissionOutLine02							= { "e0020_rtrg0029", 1 },				
	Radio_CheckMbPhotoTutorial						= "e0020_rtrg0018",						
	Radio_CheckMbPhoto								= "e0020_rtrg0019",						
	Radio_MarkerOutFirst							= "e0020_rtrg0015",						
	Radio_MarkerOutSecond							= "e0020_rtrg0016",						
	Radio_MarkerIn									= "e0020_rtrg0017",						
	
	Radio_KeepCaution_KillOne						= "e0020_rtrg0050",						
	Radio_KeepCaution_KillTwo						= "e0020_rtrg0055",						
	
	Radio_AlertTargetEscapeTwo						= "e0020_rtrg0039",						
	Radio_AlertTargetEscapeOne						= "e0020_rtrg0038",						
	
	
	
	
	Radio_MissionClearRank_D						= "e0020_rtrg0090",						
	Radio_MissionClearRank_C						= "e0020_rtrg0091",						
	Radio_MissionClearRank_B						= "e0020_rtrg0092",						
	Radio_MissionClearRank_A						= "e0020_rtrg0093",						
	Radio_MissionClearRank_S						= "e0020_rtrg0094",						
	
	Radio_MissionFailed_Warning_Heli				= "e0020_rtrg0080",						
	Radio_MissionFailed_Warning_OutsideArea			= "f0090_rtrg0310",						
	Radio_MissionClear_Warning_OutsideArea			= "f0090_rtrg0315",						
	
	Radio_MissionFailed_PlayerDead					= "f0033_gmov0010",						
	Radio_MissionFailed_PlayerHeliDead				= "f0033_gmov0010",						
	Radio_MissionFailed_PlayerEscapeMissionArea		= "f0033_gmov0020",						
	Radio_MissionFailed_PlayerRideHelicopter		= "f0033_gmov0040",						
	Radio_MissionFailed_MTEscapeMissionArea			= "f0033_gmov0130",						
	Radio_RideHeli_Warning							= "f0090_rtrg0130",						
	Radio_RideHeli_Clear							= "f0090_rtrg0460",						
	
	Radio_MissionClear_Recovery						= { "e0020_rtrg0099", 1 },				
	Radio_MissionClear_Kill							= { "e0020_rtrg0100", 1 },				
	
	
	
	
	Radio_MbDvcActMissionTargetA					= { "e0020_rtrg0025", 1 },
	Radio_MbDvcActMissionTargetB					= { "e0020_rtrg0020", 1 },
	Radio_MbDvcActMissionTargetAB					= { "e0020_rtrg0027", 1 },
	
	Radio_MarkerOnFirstMissionTargetA				= { "e0020_rtrg0033", 1 },
	Radio_MarkerOnFirstMissionTargetB				= { "e0020_rtrg0031", 1 },
	
	Radio_MarkerOnSecondMissionTargetA				= "e0020_rtrg0035",
	Radio_MarkerOnSecondMissionTargetB				= "e0020_rtrg0035",
	
	Radio_MarkerOnCarriedMissionTargetA				= "e0020_rtrg0036",
	Radio_MarkerOnCarriedMissionTargetB				= "e0020_rtrg0036",
	
	Radio_MarkerOnRestrainMissionTargetA			= "e0020_rtrg0036",
	Radio_MarkerOnRestrainMissionTargetB			= "e0020_rtrg0036",
	
	Radio_MissionTargetKillOne						= "e0020_rtrg0040",
	Radio_MissionTargetKillTwo						= "e0020_rtrg0070",
	
	Radio_MissionTargetHeliOne						= "e0020_rtrg0045",
	Radio_MissionTargetHeliTwo						= "e0020_rtrg0075",
	
	Raio_MissionTargetGoalAdvice					= "e0020_rtrg0077",
	
	Radio_MissionTargetSleepFaint					= "e0020_rtrg0037",
	
	Radio_MissionTargetCarriedOne					= "e0020_rtrg0079",
	Radio_MissionTargetCarriedTwo					= "e0020_rtrg0078",
	
	Radio_MissionTargetInBuilding					= "e0020_rtrg0060",
	
	Radio_MissionTargetFocusMapIcon					= "f0090_rtrg0335",
	
	
	
	
	Radio_DiscoverHostage							= { "f0090_rtrg0470", 1 },				
	
	Radio_HostageOnHeli								= "f0090_rtrg0210",						
	Radio_HostageDead								= "f0090_rtrg0540",						
	
	
	
	
	Miller_DontSneakPhase							= "f0090_rtrg0110",						
	Miller_ReturnToSneak							= "f0090_rtrg0270",						
	Miller_RecoveryLifeAdvice						= {"f0090_rtrg0280", 1},				
	Miller_SpRecoveryLifeAdvice						= {"f0090_rtrg0290", 1},				
	Miller_RevivalAdvice							= {"f0090_rtrg0300", 1},				
	Miller_CuarAdvice								= "f0090_rtrg0300",						
	Miller_EnemyOnHeli								= "f0090_rtrg0210",						
	Miller_BreakSuppressor							= "f0090_rtrg0530",						
	Miller_HeliDead									= "f0090_rtrg0220",						
	Miller_HeliDeadSneak							= "f0090_rtrg0155",						
	Miller_HeliNoCall								= "f0090_rtrg0166",						
	Miller_CallHeli01								= "f0090_rtrg0170",						
	Miller_CallHeli02								= "f0090_rtrg0171",						
	Miller_HeliAttack 								= "f0090_rtrg0225",						
	Miller_HeliLeave 								= "f0090_rtrg0465",						
	Miller_AllGetTape								= {"f0090_rtrg0560", 1},				
	Miller_CallHeliHot01							= "f0090_rtrg0175",						
	Miller_CallHeliHot02							= "f0090_rtrg0176",						
}


this.OptionalRadioList = {
	
	OptionalRadio_001								= "Set_e0020_oprg0010",					
	OptionalRadio_001_TargetOn						= "Set_e0020_oprg0011",					
	OptionalRadio_001_Alert							= "Set_e0020_oprg0012",					
	OptionalRadio_001_Escape						= "Set_e0020_oprg0015",					
	OptionalRadio_002								= "Set_e0020_oprg0020",					
	OptionalRadio_002_Escape						= "Set_e0020_oprg0025",					
	OptionalRadio_003								= "Set_e0020_oprg0030",					
}


this.IntelRadioList = {
	
	Enemy_US_MissionTargetSquad000					= "e0020_esrg0010",						
	Enemy_US_MissionTargetCenter000					= "e0020_esrg0015",						
	
	Enemy_US_Vehicle000								= "e0020_esrg0020",						
	
	Enemy_US_Western								= "e0020_esrg0020",						
	
	Enemy_US_Imitation000							= "e0020_esrg0020",						
	
	Enemy_US_Asylum000								= "e0020_esrg0020",						
	Enemy_US_bridge000								= "e0020_esrg0020",						
	Enemy_US_center000								= "e0020_esrg0020",						
	Enemy_US_center001								= "e0020_esrg0020",						
	Enemy_US_center002								= "e0020_esrg0020",						
	Enemy_US_center003								= "e0020_esrg0020",						
	Enemy_US_eastTentGroup_north000					= "e0020_esrg0020",						
	Enemy_US_Heliport000							= "e0020_esrg0020",						
	Enemy_US_Heliport001							= "e0020_esrg0020",						
	Enemy_US_Heliport002							= "e0020_esrg0020",						
	Enemy_US_Heliport003							= "e0020_esrg0020",						
	Enemy_US_Heliport004							= "e0020_esrg0020",						
	Enemy_US_Imitation000							= "e0020_esrg0020",						
	Enemy_US_MissionTargetSquad001					= "e0020_esrg0020",						
	Enemy_US_Seaside000								= "e0020_esrg0020",						
	Enemy_US_Stryker000								= "e0020_esrg0020",						
	Enemy_US_WareHouse000							= "e0020_esrg0020",						
	Enemy_US_WareHouse001							= "e0020_esrg0020",						
	Enemy_US_westTentGroup_north000					= "e0020_esrg0020",						
	Enemy_US_westTentGroup_north001					= "e0020_esrg0020",						
	Enemy_US_WoodTurret000							= "e0020_esrg0020",						
	Enemy_US_MissionTargetCenterSquad000			= "e0020_esrg0020",						
	Enemy_US_MissionTargetCenterSquad001			= "e0020_esrg0020",						
	Enemy_US_Vehicle001								= "e0020_esrg0020",						
	Enemy_US_Western000								= "e0020_esrg0020",						
	Enemy_US_eastTent_south000						= "e0020_esrg0020",						
	Enemy_US_IronTurret000							= "e0020_esrg0020",						
	Enemy_US_WareHouse002							= "e0020_esrg0020",						
	Enemy_US_eastTent_north000						= "e0020_esrg0020",						
	Enemy_US_eastTent_north001						= "e0020_esrg0020",						
	Enemy_US_westTent000							= "e0020_esrg0020",						
	Enemy_US_westTent001							= "e0020_esrg0020",						
	Enemy_US_IronTurret001							= "e0020_esrg0020",						
	Enemy_US_Reinforce004							= "e0020_esrg0020",						
	Enemy_US_Reinforce005							= "e0020_esrg0020",						
	Enemy_US_Reinforce006							= "e0020_esrg0020",						
	Enemy_US_Reinforce007							= "e0020_esrg0020",						
	Enemy_US_Reinforce001							= "e0020_esrg0020",						
	Enemy_US_Reinforce000							= "e0020_esrg0020",						
	Enemy_US_Reinforce002							= "e0020_esrg0020",						
	Enemy_US_Reinforce003							= "e0020_esrg0020",						
	
	Cargo_Truck_WEST_000							= "f0090_esrg0050",						
	Cargo_Truck_WEST_001							= "e0020_esrg0100",						
	
	Armored_Vehicle_WEST_001						= "e0020_esrg0050",						
	
	intel_e0020_esrg0070a							= "e0020_esrg0070",						
	intel_e0020_esrg0070b							= "e0020_esrg0070",						
	intel_e0020_esrg0070c							= "e0020_esrg0070",						
	
	intel_e0020_esrg0080a_a							= "e0020_esrg0080",						
	intel_e0020_esrg0080a_b							= "e0020_esrg0080",						
	
	intel_e0020_esrg0080b_a							= "e0020_esrg0080",						
	intel_e0020_esrg0080b_b							= "e0020_esrg0080",						
	
	intel_e0020_esrg0081							= "e0020_esrg0081",						
	
	intel_f0090_esrg0110							= "f0090_esrg0110",						
	intel_f0090_esrg0120							= "f0090_esrg0120",						
	intel_f0090_esrg0130							= "f0090_esrg0130",						
	intel_f0090_esrg0140							= "f0090_esrg0140",						
	intel_f0090_esrg0150							= "f0090_esrg0150",						
	intel_f0090_esrg0190							= "f0090_esrg0190",						
	intel_f0090_esrg0200							= "f0090_esrg0200",						
	
	WoodTurret01									= "e0020_esrg0090",
	WoodTurret02									= "e0020_esrg0090",
	WoodTurret03									= "e0020_esrg0090",
	WoodTurret04									= "e0020_esrg0090",
	WoodTurret05									= "e0020_esrg0090",
	intel_e0020_esrg0090							= "e0020_esrg0090",
	
	gntnCom_drum0002								= "f0090_esrg0180",
	gntnCom_drum0005								= "f0090_esrg0180",
	gntnCom_drum0011								= "f0090_esrg0180",
	gntnCom_drum0012								= "f0090_esrg0180",
	gntnCom_drum0015								= "f0090_esrg0180",
	gntnCom_drum0019								= "f0090_esrg0180",
	gntnCom_drum0020								= "f0090_esrg0180",
	gntnCom_drum0021								= "f0090_esrg0180",
	gntnCom_drum0022								= "f0090_esrg0180",
	gntnCom_drum0023								= "f0090_esrg0180",
	gntnCom_drum0024								= "f0090_esrg0180",
	gntnCom_drum0025								= "f0090_esrg0180",
	gntnCom_drum0027								= "f0090_esrg0180",
	gntnCom_drum0028								= "f0090_esrg0180",
	gntnCom_drum0029								= "f0090_esrg0180",
	gntnCom_drum0030								= "f0090_esrg0180",
	gntnCom_drum0031								= "f0090_esrg0180",
	gntnCom_drum0035								= "f0090_esrg0180",
	gntnCom_drum0037								= "f0090_esrg0180",
	gntnCom_drum0038								= "f0090_esrg0180",
	gntnCom_drum0039								= "f0090_esrg0180",
	gntnCom_drum0040								= "f0090_esrg0180",
	gntnCom_drum0041								= "f0090_esrg0180",
	gntnCom_drum0042								= "f0090_esrg0180",
	gntnCom_drum0043								= "f0090_esrg0180",
	gntnCom_drum0044								= "f0090_esrg0180",
	gntnCom_drum0045								= "f0090_esrg0180",
	gntnCom_drum0046								= "f0090_esrg0180",
	gntnCom_drum0047								= "f0090_esrg0180",
	gntnCom_drum0048								= "f0090_esrg0180",
	gntnCom_drum0065								= "f0090_esrg0180",
	gntnCom_drum0066								= "f0090_esrg0180",
	gntnCom_drum0068								= "f0090_esrg0180",
	gntnCom_drum0069								= "f0090_esrg0180",
	gntnCom_drum0070								= "f0090_esrg0180",
	gntnCom_drum0071								= "f0090_esrg0180",
	gntnCom_drum0072								= "f0090_esrg0180",
	gntnCom_drum0101								= "f0090_esrg0180",
	
	e20020_SecurityCamera_01						= "f0090_esrg0210",
	e20020_SecurityCamera_02						= "f0090_esrg0210",
	e20020_SecurityCamera_03						= "f0090_esrg0210",
	e20020_SecurityCamera_05						= "f0090_esrg0210",
	
	intel_f0090_esrg0220							= "f0090_esrg0220",
	Tactical_Vehicle_WEST_001						= "f0090_esrg0040", 
	Tactical_Vehicle_WEST_002						= "f0090_esrg0040", 
	Tactical_Vehicle_WEST_003						= "f0090_esrg0040", 
	Tactical_Vehicle_WEST_004						= "f0090_esrg0040", 
	Tactical_Vehicle_WEST_005						= "f0090_esrg0040", 
	gntn_area01_antiAirGun_000						= "f0090_esrg0030", 
	gntn_area01_antiAirGun_001						= "f0090_esrg0030", 
	gntn_area01_antiAirGun_002						= "f0090_esrg0030", 
	gntn_area01_antiAirGun_003						= "f0090_esrg0030", 
}




this.AllEnemyDisableList = {
	"Enemy_US_Asylum000",
	"Enemy_US_bridge000",
	"Enemy_US_center000",
	"Enemy_US_center001",
	"Enemy_US_center002",
	"Enemy_US_center003",
	"Enemy_US_eastTentGroup_north000",
	"Enemy_US_Heliport000",
	"Enemy_US_Heliport001",
	"Enemy_US_Heliport002",
	"Enemy_US_Heliport003",
	"Enemy_US_Heliport004",
	"Enemy_US_Imitation000",
	"Enemy_US_Seaside000",
	"Enemy_US_Stryker000",
	"Enemy_US_WareHouse000",
	"Enemy_US_WareHouse001",
	"Enemy_US_westTentGroup_north000",
	"Enemy_US_westTentGroup_north001",
	"Enemy_US_WoodTurret000",
	"Enemy_US_Vehicle001",
	"Enemy_US_Western000",
	"Enemy_US_eastTent_south000",
	"Enemy_US_IronTurret000",
	"Enemy_US_WareHouse002",
	"Enemy_US_eastTent_north000",
	"Enemy_US_eastTent_north001",
	"Enemy_US_westTent000",
	"Enemy_US_westTent001",
	"Enemy_US_IronTurret001",
	"Enemy_US_Reinforce000",
	"Enemy_US_Reinforce001",
	"Enemy_US_Reinforce002",
	"Enemy_US_Reinforce003",
	"Enemy_US_Reinforce004",
	"Enemy_US_Reinforce005",
	"Enemy_US_Reinforce006",
	"Enemy_US_Reinforce007",
}



this.ContinueHostageRegisterList = {
	
	CheckList01 = {
		Pos						= "e20020_Vehicle0000",
		VehicleType				= "Vehicle",
		HostageRegisterPoint	= { "e20020_Vehicle0000_H0001", "e20020_Vehicle0000_H0002", },
	},
	CheckList02 = {
		Pos						= "e20020_Vehicle0001",
		VehicleType				= "Vehicle",
		HostageRegisterPoint	= { "e20020_Vehicle0001_H0001", "e20020_Vehicle0001_H0002", },
	},
	CheckList03 = {
		Pos						= "e20020_Vehicle0002",
		VehicleType				= "Vehicle",
		HostageRegisterPoint	= { "e20020_Vehicle0002_H0001", "e20020_Vehicle0002_H0002", },
	},
	
	CheckList04 = {
		Pos						= "e20020_Truck0000",
		VehicleType				= "Truck",
		HostageRegisterPoint	= { "e20020_Truck0000_H0001", "e20020_Truck0000_H0002", },
	},
	CheckList05 = {
		Pos						= "e20020_Truck0001",
		VehicleType				= "Truck",
		HostageRegisterPoint	= { "e20020_Truck0001_H0001", "e20020_Truck0001_H0002", },
	},
	
	CheckList06 = {
		Pos						= "e20020_ArmoredVehicle0000",
		VehicleType				= "Armored_Vehicle",
		HostageRegisterPoint	= { "e20020_ArmoredVehicle0000_H0001", "e20020_ArmoredVehicle0000_H0002", },
	},
	
	CheckList07 = {
		Pos						= "e20020_EV00_01_V",
		VehicleType				= "Vehicle",
		HostageRegisterPoint	= { "e20020_EV00_01_V_H0001", "e20020_EV00_01_V_H0002", },
	},
	
	CheckList08 = {
		Pos						= "e20020_MT00_01_V",
		VehicleType				= "Vehicle",
		HostageRegisterPoint	= { "e20020_MT00_01_V_H0001", "e20020_MT00_01_V_H0002", },
	},
	
	CheckList09 = {
		Pos						= "e20020_MT00_02_V",
		VehicleType				= "Vehicle",
		HostageRegisterPoint	= { "e20020_MT00_02_V_H0001", "e20020_MT00_02_V_H0002", },
	},
	
	CheckList10 = {
		Pos						= "e20020_MT00_03_V",
		VehicleType				= "Vehicle",
		HostageRegisterPoint	= { "e20020_MT00_03_V_H0001", "e20020_MT00_03_V_H0002", },
	},
	
	CheckList11 = {
		Pos						= "e20020_MT00_04_V0000",
		VehicleType				= "Vehicle",
		HostageRegisterPoint	= { "e20020_MT00_04_V0000_H0001", "e20020_MT00_04_V0000_H0002", },
	},
	
	CheckList12 = {
		Pos						= "e20020_MT00_04_V0001",
		VehicleType				= "Vehicle",
		HostageRegisterPoint	= { "e20020_MT00_04_V0001_H0001", "e20020_MT00_04_V0001_H0002", },
	},
	
	CheckList13 = {
		Pos						= "e20020_MT00_05_V",
		VehicleType				= "Vehicle",
		HostageRegisterPoint	= { "e20020_MT00_05_V_H0001", "e20020_MT00_05_V_H0002", },
	},
}

this.ClearRankRewardList = {

	
	RankS = "e20020_Assult",
	RankA = "e20020_Sniper",
	RankB = "e20020_ShotGun",
	RankC = "e20020_MachineGun",
}

this.ClearRankRewardPopupList = {

	
	RankS = "reward_clear_s_rifle",
	RankA = "reward_clear_a_sniper",
	RankB = "reward_clear_b_shotgun",
	RankC = "reward_clear_c_submachine",
}




local commonPrint2D = function( string, num )
	local	params
			string = string or 0
			num = num or 0
	
	if( this.DebugPrint2DOn == true ) then
		if( this.CounterList.DEBUG_commonPrint2DCount == 20 ) then
			this.CounterList.DEBUG_commonPrint2DCount = 0
		else
			this.CounterList.DEBUG_commonPrint2DCount = this.CounterList.DEBUG_commonPrint2DCount + 1
		end
		if( num == 0 ) then
			params = {
				life = 150,
				x = 50, y = 200+(this.CounterList.DEBUG_commonPrint2DCount*15) ,
				size = 10, color = Color( 1.0, 0.0, 0.0, 1.0 ),
				args = { string },
			}
		elseif( num == 1 ) then
			params = {
				life = 150,
				x = 50, y = 200+(this.CounterList.DEBUG_commonPrint2DCount*15) ,
				size = 10, color = Color( 0.0, 1.0, 0.0, 1.0 ),
				args = { string },
			}
		elseif( num == 2 ) then
			params = {
				life = 150,
				x = 50, y = 200+(this.CounterList.DEBUG_commonPrint2DCount*15) ,
				size = 10, color = Color( 0.0, 0.0, 1.0, 1.0 ),
				args = { string },
			}
		elseif( num == 3 ) then
			params = {
				life = 150,
				x = 50, y = 200+(this.CounterList.DEBUG_commonPrint2DCount*15) ,
				size = 10, color = Color( 1.0, 1.0, 1.0, 1.0 ),
				args = { string },
			}
		end
		GrxDebug.Print2D( params )
	end
end





local commonSetUniqueRouteChange = function( icharacterID, iRouteSetName, iOnRoute, iOffRoute, iRoutePoint )
	if( iOnRoute ~= 0 ) then
		if( iOffRoute ~= -1 ) then
			TppCommandPostObject.GsAddDisabledRoutes(	this.cpID, 								iOffRoute,	false )
		end
		TppCommandPostObject.GsDeleteDisabledRoutes(	this.cpID, 								iOnRoute,	false )
		TppEnemy.ChangeRoute( 							this.cpID, icharacterID, iRouteSetName,	iOnRoute,	iRoutePoint )
	end
end


this.TimerRouteChageTable = {}


this.TimerRouteChageMax = 20


local commonTimerRouteChageTableSetup = function()
	for i=1, 255, 1 do
		this.TimerRouteChageTable[i] = 0
	end
end


local commonSetTimeRouteChage = function( iTimer, iOnRoute, iOffRoute )
	local isSetTimeRouteChage = false
	if( iTimer == 0 ) then
		TppCommandPostObject.GsSetExclusionRoutes( this.cpID, iOnRoute, iOffRoute )
	else
		for i=1, this.TimerRouteChageMax, 2 do
			if( isSetTimeRouteChage == false ) then
				if( this.TimerRouteChageTable[i] == 0 and this.TimerRouteChageTable[i+1] == 0 ) then
					if( i == 1) then



						TppTimer.Start("Timer_RouteChageTable01", iTimer )
					elseif( i == 3 ) then



						TppTimer.Start("Timer_RouteChageTable02", iTimer )
					elseif( i == 5 ) then



						TppTimer.Start("Timer_RouteChageTable03", iTimer )
					elseif( i == 7 ) then



						TppTimer.Start("Timer_RouteChageTable04", iTimer )
					elseif( i == 9 ) then



						TppTimer.Start("Timer_RouteChageTable05", iTimer )
					elseif( i == 11 ) then



						TppTimer.Start("Timer_RouteChageTable06", iTimer )
					elseif( i == 13 ) then



						TppTimer.Start("Timer_RouteChageTable07", iTimer )
					elseif( i == 15 ) then



						TppTimer.Start("Timer_RouteChageTable08", iTimer )
					elseif( i == 17 ) then



						TppTimer.Start("Timer_RouteChageTable09", iTimer )
					elseif( i == 19 ) then



						TppTimer.Start("Timer_RouteChageTable10", iTimer )
					end
					this.TimerRouteChageTable[i] = iOnRoute
					this.TimerRouteChageTable[i+1] = iOffRoute
					isSetTimeRouteChage = true
				end
			end
		end
	end
end

local commonTimerRouteChage = function( num )
	if( this.TimerRouteChageTable[num] ~= 0 and this.TimerRouteChageTable[num+1] ~= 0 ) then



		TppCommandPostObject.GsSetExclusionRoutes( this.cpID, this.TimerRouteChageTable[num], this.TimerRouteChageTable[num+1] )
		this.TimerRouteChageTable[num] = 0
		this.TimerRouteChageTable[num+1] = 0
	end
end


local commonSearchTargetSetup = function( manager )



	
	manager.CheckLookingTarget:ClearSearchTargetEntities()
	
	if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 )  then
		GZCommon.SearchTargetCharacterSetup( manager, this.CharacterID_MT_Squad )
	end
	
	if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 )	then
		GZCommon.SearchTargetCharacterSetup( manager, this.CharacterID_MT_Center )
	end
end


local IsDemoAndEventBlockActive = function()
	if( TppMission.IsDemoBlockActive() == false ) then
		return false
	end
	if( TppMission.IsEventBlockActive() == false ) then
		return false
	end
	if( TppVehicleBlockControllerService.IsHeliBlockExist() ) then
		
		if ( TppVehicleBlockControllerService.IsHeliBlockActivated() == false ) then
			return false
		end
	end
	
	if( MissionManager.IsMissionStartMiddleTextureLoaded() == false ) then
		return false
	end
	
	local hudCommonData = HudCommonDataManager.GetInstance()
	if( hudCommonData:IsEndLoadingTips() == false ) then
		hudCommonData:PermitEndLoadingTips() 
		
		return false
	end
	return true
end






local commonCallAnnounceLog = function( langNo )



	local hudCommonData = HudCommonDataManager.GetInstance()
	hudCommonData:AnnounceLogViewLangId( langNo )

	
	if( langNo == this.AnnounceLogID_MT_Squad_Heli ) then
		
		PlayRecord.RegistPlayRecord( "SOLDIER_RESCUE", this.CharacterID_MT_Squad )
	elseif( langNo == this.AnnounceLogID_MT_Center_Heli ) then
		
		PlayRecord.RegistPlayRecord( "SOLDIER_RESCUE", this.CharacterID_MT_Center )
	elseif( langNo == this.AnnounceLogID_EnemyCollection ) then
		
		PlayRecord.RegistPlayRecord( "SOLDIER_RESCUE" )
	end

end






local commonGetMissionEscapeAreaEnemy = function( isClearArea, isCarried, iPlayerVehicleRide, iMissionClearAnnounceLog )



	local pos				= TppPlayerUtility.GetLocalPlayerCharacter():GetPosition()	
	local size				= Vector3( 20, 12, 20 )										
	local rot				= Quat( 0.0 , 0.50, 0.0, 0.50 )								
	local npcIds			= TppNpcUtility.GetNpcByBoxShape( pos, size, rot )
	local sequence			= TppSequence.GetCurrentSequence()
	local VipCount			= 0
	local isRideVehicle		= false
	local npctype
	local enemytype
	local status
	local lifestatus
	local CharacterID
	
	if( npcIds and #npcIds.array > 0 ) then
		
		for i,id in ipairs(npcIds.array) do
			npctype = TppNpcUtility.GetNpcType( id )



			if( npctype == "Enemy" ) then
				
				if( iMissionClearAnnounceLog == false ) then
					enemytype = TppEnemyUtility.GetEnemyType( id )



					if( enemytype == "Vip" ) then
						status		= TppEnemyUtility.GetStatus( id )
						lifestatus	= TppEnemyUtility.GetLifeStatus( id )






						
						if( isCarried == false and iPlayerVehicleRide == false ) then
							if( sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
								if( ( lifestatus == "Sleep" or lifestatus == "Faint" ) and ( status == "Carried" or status == "RideVehicle" ) ) then
									if( isClearArea == true ) then
										if( ( status == "RideVehicle" and GZCommon.PlayerOnVehicle ~= "NoRide" ) or ( status == "Carried" and GZCommon.PlayerOnVehicle == "NoRide" ) ) then
											commonPrint2D("【クリア】条件成立:"..sequence )
											return true
										end
									else
										if( ( status == "RideVehicle" and GZCommon.PlayerOnVehicle ~= "NoRide" ) or ( status == "Carried" and GZCommon.PlayerOnVehicle == "NoRide" ) ) then
											commonPrint2D("【クリア】条件成立:"..sequence )
											return true
										end
									end
								end
							elseif( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
								if( ( lifestatus == "Sleep" or lifestatus == "Faint" ) and status == "RideVehicle" ) then
									VipCount = VipCount + 1
									if( VipCount == 2 ) then
										if( isClearArea == true ) then
											if( GZCommon.PlayerOnVehicle ~= "NoRide" ) then
												commonPrint2D("【クリア】条件成立:"..sequence )
												return true
											end
										else
											if( GZCommon.PlayerOnVehicle ~= "NoRide" ) then
												commonPrint2D("【クリア】条件成立:"..sequence )
												return true
											end
										end
									end
								end
							end
						
						elseif( isCarried == true ) then
							if( sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
								if( isCarried == true and status == "Carried" ) then
									commonPrint2D("【クリア】条件成立:"..sequence )
									return true
								end
							end
						
						elseif( iPlayerVehicleRide == true ) then
							if( ( lifestatus == "Sleep" or lifestatus == "Faint" ) and status == "RideVehicle" ) then
								VipCount = VipCount + 1
								if( ( sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) and VipCount >= 1 ) then
									commonPrint2D("【クリア】条件成立:"..sequence )
									return true
								elseif( sequence == "Seq_Waiting_KillMT_Squad_and_Center" and VipCount >= 2 ) then
									commonPrint2D("【クリア】条件成立:"..sequence )
									return true
								end
							end
						end
					end
				
				else



					enemytype	= TppEnemyUtility.GetEnemyType( id )
					status		= TppEnemyUtility.GetStatus( id )
					lifestatus	= TppEnemyUtility.GetLifeStatus( id )









					
					if( lifestatus ~= "Dead" ) then
						
						if( status == "RideVehicle" or status == "Carried" ) then
							if( enemytype == "Patrol" ) then
								
								commonCallAnnounceLog( this.AnnounceLogID_EnemyCollection )
							elseif( enemytype == "Vip" ) then
								CharacterID = TppCharacterUtility.GetCharacterIdFromUniqueId( id )



								if( CharacterID == this.CharacterID_MT_Squad ) then
									
									commonCallAnnounceLog( this.AnnounceLogID_MT_Squad_Heli )
								elseif( CharacterID == this.CharacterID_MT_Center ) then
									
									commonCallAnnounceLog( this.AnnounceLogID_MT_Center_Heli )
								end
							end
						end
					end
				end
			
			elseif( npctype == "Hostage" ) then
				if( iMissionClearAnnounceLog == true ) then



					status = TppHostageUtility.GetStatus( id )



					
					if( status == "RideOnVehicle" or status == "Carried" ) then
						CharacterID = TppCharacterUtility.GetCharacterIdFromUniqueId( id )
						
						GZCommon.NormalHostageRecovery( CharacterID )
					end
				end
			end
		end
	end
	
	if( iMissionClearAnnounceLog == false ) then
		commonPrint2D("【クリア】条件失敗:"..sequence )
		return false
	end
end






local commonRegisterRadioCondition = function( flag )



	
	if( flag == "ON" ) then
		TppRadioConditionManagerAccessor.Register(
			"Tutorial", 	   								
			TppRadioConditionTutorialPlayer{
				time = 1.5,    								
				descMessage = {
															
					"PlayerBehind", "Behind",
					"PlayerBinocle", "BinocleHold",
					"PlayerRecovering", "Recovering"
				},
			}
		)
	TppRadioConditionManagerAccessor.Register( "Basic", TppRadioConditionPlayerBasic{ time = 0.3 } )
	
	else
		TppRadioConditionManagerAccessor.Unregister( "Tutorial" )
		TppRadioConditionManagerAccessor.Unregister( "Basic" )
	end
end


local commonRegisterOptionalRadioSetup = function( escape, AlertFlag )
			escape		= escape or false
	local	sequence	= TppSequence.GetCurrentSequence()



	
	if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
		
		if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == true and TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == true ) then
			if( this.CounterList.GameOptionalRadioName ~= "OptionalRadio_001_TargetOn" ) then



				TppRadio.RegisterOptionalRadio( "OptionalRadio_001_TargetOn" )
				this.CounterList.GameOptionalRadioName = "OptionalRadio_001_TargetOn"
			end
		
		elseif( AlertFlag == true ) then
			if( this.CounterList.GameOptionalRadioName ~= "OptionalRadio_001_Alert" ) then



				TppRadio.RegisterOptionalRadio( "OptionalRadio_001_Alert" )
				this.CounterList.GameOptionalRadioName = "OptionalRadio_001_Alert"
			end
		
		else
			
			if( escape == false ) then
				if( this.CounterList.GameOptionalRadioName ~= "OptionalRadio_001" ) then



					TppRadio.RegisterOptionalRadio( "OptionalRadio_001" )
					this.CounterList.GameOptionalRadioName = "OptionalRadio_001"
				end
			
			else
				if( this.CounterList.GameOptionalRadioName ~= "OptionalRadio_001_Escape" ) then



					TppRadio.RegisterOptionalRadio( "OptionalRadio_001_Escape" )
					this.CounterList.GameOptionalRadioName = "OptionalRadio_001_Escape"
				end
			end
		end
	
	elseif( sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
		
		if( escape == false ) then
			if( this.CounterList.GameOptionalRadioName ~= "OptionalRadio_002" ) then



				TppRadio.RegisterOptionalRadio( "OptionalRadio_002" )
				this.CounterList.GameOptionalRadioName = "OptionalRadio_002"
			end
		
		else
			if( this.CounterList.GameOptionalRadioName ~= "OptionalRadio_002_Escape" ) then



				TppRadio.RegisterOptionalRadio( "OptionalRadio_002_Escape" )
				this.CounterList.GameOptionalRadioName = "OptionalRadio_002_Escape"
			end
		end
	
	elseif( sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
		if( this.CounterList.GameOptionalRadioName ~= "OptionalRadio_003" ) then



			TppRadio.RegisterOptionalRadio( "OptionalRadio_003" )
			this.CounterList.GameOptionalRadioName = "OptionalRadio_003"
		end
	end
end


local commonMbDvcActWatchPhotoRadio = function()
	local PhotoID = TppData.GetArgument(1)



	
	local EndMbDvcActA = {
		onEnd = function()
			TppMission.SetFlag( "isRadio_MTMbDvcAct_A_End", true )
			if( TppMission.GetFlag( "isRadio_MTMbDvcAct_A_End" ) == true and TppMission.GetFlag( "isRadio_MTMbDvcAct_B_End" ) == true and TppMission.GetFlag( "isRadio_MTMbDvcAct_AB" ) == false )	then
				TppRadio.DelayPlay( "Radio_MbDvcActMissionTargetAB", "short", "end" )
				TppMission.SetFlag( "isRadio_MTMbDvcAct_AB", true )
			end
		end,
	}
	
	local EndMbDvcActB = {
		onEnd = function()
			TppMission.SetFlag( "isRadio_MTMbDvcAct_B_End", true )
			if( TppMission.GetFlag( "isRadio_MTMbDvcAct_A_End" ) == true and TppMission.GetFlag( "isRadio_MTMbDvcAct_B_End" ) == true and TppMission.GetFlag( "isRadio_MTMbDvcAct_AB" ) == false )	then
				TppRadio.DelayPlay( "Radio_MbDvcActMissionTargetAB", "short", "end" )
				TppMission.SetFlag( "isRadio_MTMbDvcAct_AB", true )
			end
		end,
	}
	
	if( TppMission.GetFlag( "isRadio_MissionStartPlay" ) == false and TppMission.GetFlag( "isRadio_MbDvcActOpenTop" ) == false ) then
		local radioDaemon = RadioDaemon:GetInstance()
		
		if ( radioDaemon:IsPlayingRadio() == false ) then
			
			if( PhotoID == this.PhotoID_MT_Squad ) then
				
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 ) then
					if( ( TppMission.GetFlag( "isRadio_MTMbDvcAct_B_Start" ) == false  and TppMission.GetFlag( "isRadio_MTMbDvcAct_B_End" ) == false ) or
						( TppMission.GetFlag( "isRadio_MTMbDvcAct_B_Start" ) == true  and TppMission.GetFlag( "isRadio_MTMbDvcAct_B_End" ) == true ) ) then
						if( TppMission.GetFlag( "isRadio_MTMbDvcAct_A_Start" ) == false )  then
							TppMission.SetFlag( "isRadio_MTMbDvcAct_A_Start", true )
							TppRadio.Play( "Radio_MbDvcActMissionTargetA", EndMbDvcActA )
						end
					end
				else
					TppMission.SetFlag( "isRadio_MTMbDvcAct_A_Start", true )
					TppMission.SetFlag( "isRadio_MTMbDvcAct_A_End", true )
				end
			
			elseif( PhotoID == this.PhotoID_MT_Center ) then
				
				if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 ) then
					if( ( TppMission.GetFlag( "isRadio_MTMbDvcAct_A_Start" ) == false  and TppMission.GetFlag( "isRadio_MTMbDvcAct_A_End" ) == false ) or
						( TppMission.GetFlag( "isRadio_MTMbDvcAct_A_Start" ) == true  and TppMission.GetFlag( "isRadio_MTMbDvcAct_A_End" ) == true ) ) then
						if( TppMission.GetFlag( "isRadio_MTMbDvcAct_B_Start" ) == false )  then
							TppMission.SetFlag( "isRadio_MTMbDvcAct_B_Start", true )
							TppRadio.Play( "Radio_MbDvcActMissionTargetB", EndMbDvcActB )
						end
					end
				
				else
					TppMission.SetFlag( "isRadio_MTMbDvcAct_B_Start", true )
					TppMission.SetFlag( "isRadio_MTMbDvcAct_B_End", true )
				end
			end
		end
		
		if( TppMission.GetFlag( "isMT_SquadKill" ) ~= 0 or TppMission.GetFlag( "isMT_CenterKill" ) ~= 0 ) then
			TppMission.SetFlag( "isRadio_MTMbDvcAct_AB", true )
		end
	end
end


local commonMbDvcActOpenTopRadio = function()
	local sequence = TppSequence.GetCurrentSequence()
	local RaioMbDvcActOpenTop = {
		onStart = function()
			
			TppMission.SetFlag( "isRadio_MbDvcActOpenTop", true )
		end,
		onEnd = function()
			
			TppMission.SetFlag( "isRadio_MbDvcActOpenTop", false )
		end,
	}



	
	if( TppMission.GetFlag( "isRadio_MissionStartPlay" ) == false ) then
		
		if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
			
			if( this.CounterList.ForceRoute_MTSquad == "OFF" and this.CounterList.ForceRoute_MTCenter == "OFF" ) then
				
				TppRadio.Play( "Radio_MbDvcActOpenTop", RaioMbDvcActOpenTop )
			end
		end
	else
		
		if( TppMission.GetFlag( "isMbDvcActOpenTop" ) == false ) then
			
			TppRadio.DelayPlayEnqueue( "Radio_MbDvcActOpenTop", "short", "end", RaioMbDvcActOpenTop )
		end
	end
	
	if( TppMission.GetFlag( "isMbDvcActOpenTop" ) == false ) then
		TppMission.SetFlag( "isMbDvcActOpenTop", true )
	end
end


local commonMissionOutlineRadio01 = function()
	local sequence = TppSequence.GetCurrentSequence()



	
	if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" or sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
		if( TppMission.GetFlag( "isRadio_MissionOutLine01" ) == false ) then
			TppRadio.DelayPlayEnqueue( "Radio_MissionOutLine01", "short", nil )
			TppMission.SetFlag( "isRadio_MissionOutLine01", true )
		end
	end
end


local commonMissionOutlineRadio02 = function()
	local sequence = TppSequence.GetCurrentSequence()



	
	if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" or sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
		if( TppMission.GetFlag( "isRadio_MissionOutLine02" ) == false ) then
			TppRadio.DelayPlayEnqueue( "Radio_MissionOutLine02", "short" )
			TppMission.SetFlag( "isRadio_MissionOutLine02", true )
		end
	end
end


local commonMissionOutlineMarkerOutRadio = function( CharacterID, RadioOff )
	local sequence = TppSequence.GetCurrentSequence()



	local funcs = {
		onEnd = function()
			
			if( CharacterID == this.CharacterID_MT_Center ) then
				if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 and
					TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == false and TppMission.GetFlag( "isMT_InterroMarker_MTCenter" ) == false and TppMission.GetFlag( "isMT_BuildingMarker_MTCenter" ) == false ) then
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			
			elseif( CharacterID == this.CharacterID_MT_Squad ) then
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 and
					TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == false and TppMission.GetFlag( "isMT_InterroMarker_MTSquad" ) == false and TppMission.GetFlag( "isMT_BuildingMarker_MTSquad" ) == false ) then
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			end
		end,
	}
	if( RadioOff == false ) then
		
		if( TppMission.GetFlag( "isMbDvcActOpenTop" ) == false ) then
			
			if( CharacterID == this.CharacterID_MT_Center ) then
				if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 and
					TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == false and TppMission.GetFlag( "isMT_InterroMarker_MTCenter" ) == false and TppMission.GetFlag( "isMT_BuildingMarker_MTCenter" ) == false ) then
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			
			elseif( CharacterID == this.CharacterID_MT_Squad ) then
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 and
					TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == false and TppMission.GetFlag( "isMT_InterroMarker_MTSquad" ) == false and TppMission.GetFlag( "isMT_BuildingMarker_MTSquad" ) == false ) then
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			end
		else
			
			if( TppMission.GetFlag( "isRadio_MarkerOutFirst" ) == false ) then
				if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
					TppRadio.Play( "Radio_MarkerOutFirst", funcs )
				else
					TppRadio.Play( "Radio_MarkerOutSecond", funcs )
				end
				TppMission.SetFlag( "isRadio_MarkerOutFirst", true )
			
			else
				TppRadio.Play( "Radio_MarkerOutSecond", funcs )
			end
		end
	end
end


local commonMissionOutlineMarkerInRadio = function( CharacterID, RadioOff )



	local funcs = {
		onEnd = function()
			
			if( CharacterID == this.CharacterID_MT_Center ) then
				if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 and
					TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == false and TppMission.GetFlag( "isMT_InterroMarker_MTCenter" ) == false and TppMission.GetFlag( "isMT_BuildingMarker_MTCenter" ) == false ) then
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			
			elseif( CharacterID == this.CharacterID_MT_Squad ) then
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 and
					TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == false and TppMission.GetFlag( "isMT_InterroMarker_MTSquad" ) == false and TppMission.GetFlag( "isMT_BuildingMarker_MTSquad" ) == false ) then
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			end
		end,
	}
	if( RadioOff == false ) then
		
		if( TppMission.GetFlag( "isMbDvcActOpenTop" ) == false ) then
			
			if( CharacterID == this.CharacterID_MT_Center ) then
				if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 and
					TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == false and TppMission.GetFlag( "isMT_InterroMarker_MTCenter" ) == false and TppMission.GetFlag( "isMT_BuildingMarker_MTCenter" ) == false ) then
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			
			elseif( CharacterID == this.CharacterID_MT_Squad ) then
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 and
					TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == false and TppMission.GetFlag( "isMT_InterroMarker_MTSquad" ) == false and TppMission.GetFlag( "isMT_BuildingMarker_MTSquad" ) == false ) then
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			end
		else
			
			TppRadio.Play( "Radio_MarkerIn", funcs )
			TppMission.SetFlag( "isRadio_MarkerIn", true )
		end
	end
end


local commonMissionTargetInBuildingRadio = function( CharacterID )



	local funcs = {
		onEnd = function()
			if( CharacterID == this.CharacterID_MT_Squad ) then
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 and TppMission.GetFlag( "isMT_BuildingMarker_MTSquad" ) == true ) then
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			elseif( CharacterID == this.CharacterID_MT_Center ) then
				if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 and TppMission.GetFlag( "isMT_BuildingMarker_MTCenter" ) == true ) then
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			end
		end,
	}
	
	local radioDaemon = RadioDaemon:GetInstance()
	if ( radioDaemon:IsPlayingRadioWithGroupName( "e0020_rtrg0060" ) == false ) then
		
		if( CharacterID == this.CharacterID_MT_Squad ) then
			if( TppMission.GetFlag( "isMT_BuildingMarker_MTSquad" ) == true ) then
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 ) then
					TppRadio.DelayPlay( "Radio_MissionTargetInBuilding", "mid", nil, funcs )
				end
			end
		
		elseif( CharacterID == this.CharacterID_MT_Center ) then
			if( TppMission.GetFlag( "isMT_BuildingMarker_MTCenter" ) == true ) then
				if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 ) then
					TppRadio.DelayPlay( "Radio_MissionTargetInBuilding", "mid", nil, funcs )
				end
			end
		end
	end
end


local commonTargetEscapeRadio = function( phase )
	local sequence				= TppSequence.GetCurrentSequence()
	local MTCenterStatus		= TppEnemyUtility.GetLifeStatus( this.CharacterID_MT_Center )
	local MTSquadStatus			= TppEnemyUtility.GetLifeStatus( this.CharacterID_MT_Squad )
	local registerOptionalRadio	= false



	
	if( TppMission.GetFlag( "isRadio_AlertTargetEscape" ) == false ) then
		
		if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
			if( MTCenterStatus == "Normal" and MTCenterStatus == "Normal" ) then
				TppRadio.DelayPlay( "Radio_AlertTargetEscapeTwo", "mid" )
				registerOptionalRadio = true
				TppMission.SetFlag( "isRadio_AlertTargetEscape", true )
			elseif( MTCenterStatus == "Normal" or MTCenterStatus == "Normal" ) then
				TppRadio.DelayPlay( "Radio_AlertTargetEscapeOne", "mid" )
				registerOptionalRadio = true
				TppMission.SetFlag( "isRadio_AlertTargetEscape", true )
			end
		
		elseif( sequence == "Seq_Waiting_KillMT_Center" ) then
			if( MTCenterStatus == "Normal" ) then
				TppRadio.DelayPlay( "Radio_AlertTargetEscapeOne", "mid" )
				registerOptionalRadio = true
				TppMission.SetFlag( "isRadio_AlertTargetEscape", true )
			end
		
		elseif( sequence == "Seq_Waiting_KillMT_Squad" ) then
			if( MTSquadStatus == "Normal" ) then
				TppRadio.DelayPlay( "Radio_AlertTargetEscapeOne", "mid" )
				registerOptionalRadio = true
				TppMission.SetFlag( "isRadio_AlertTargetEscape", true )
			end
		end
		
		if( registerOptionalRadio == true ) then
			if( phase == "Alert" ) then
				commonRegisterOptionalRadioSetup( true, true )
			else
				commonRegisterOptionalRadioSetup( true, false )
			end
		end
		
		TppTimer.Start( "Timer_Alert_AreaMarkerOff", this.Timer_Alert_AreaMakrerOff )
	end
end


local commonCheckTargetPhotoTimeSetup = function( Name )



	if( Name == "Start" ) then
		
		TppTimer.Stop( "Timer_CheckTargetPhoto" )
		TppTimer.Start( "Timer_CheckTargetPhoto", GZCommon.Time_HintPhotoCheck )
	elseif( Name == "End" ) then
		
		TppTimer.Stop( "Timer_CheckTargetPhoto" )
	end
end


local commonCheckTargetPhoto = function()



	
	
	local funcs = {
		onEnd = function()
			commonCheckTargetPhotoTimeSetup("Start")
		end,
	}
	if(	
		TppEnemy.GetPhase( this.cpID ) == "sneak" and
		(
			
			( TppMission.GetFlag( "isRadio_MTMbDvcAct_B_Start" ) == false and TppMission.GetFlag( "isRadio_MarkerOnMissionTargetB" ) == false and TppMission.GetFlag( "isMT_CenterKill" ) == 0 )
			or
			
			( TppMission.GetFlag( "isRadio_MTMbDvcAct_A_Start" ) == false and TppMission.GetFlag( "isRadio_MarkerOnMissionTargetA" ) == false and TppMission.GetFlag( "isMT_SquadKill" ) == 0 )
		)
	  ) then
		local radioDaemon = RadioDaemon:GetInstance()
		
		if ( radioDaemon:IsPlayingRadio() == false ) then
			
			TppRadio.PlayEnqueue( "Radio_CheckMbPhoto", funcs )
			
			if( TppMission.GetFlag( "isRadio_CheckMbPhotoTutorial" ) == false ) then
				TppMission.SetFlag( "isRadio_CheckMbPhotoTutorial", true )
				TppRadio.DelayPlayEnqueue( "Radio_CheckMbPhotoTutorial", "short" )
			end
		else
			
			commonCheckTargetPhotoTimeSetup("Start")
		end
	end
end


local commonSuppressorIsBroken = function()
	local VehicleId = TppPlayerUtility.GetRidingVehicleCharacterId()
	if( VehicleId == "SupportHelicopter" ) then
	else
		TppRadio.DelayPlayEnqueue( "Miller_BreakSuppressor", "short" )
	end
end






local commonFocusMapIcon = function()
	local Id_32Bit = TppEventSequenceManagerCollector.GetMessageArg( 0 )
	local sequence = TppSequence.GetCurrentSequence()



	
	if( StringId.IsEqual32( Id_32Bit, this.CharacterID_MT_Center ) ) then
		if( TppMission.GetFlag( "isRadio_FocusMapIcon" ) == false ) then
			
			if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == true ) then
				TppRadio.DelayPlay( "Radio_MissionTargetFocusMapIcon", "short" )
				TppMission.SetFlag( "isRadio_FocusMapIcon", true )
				TppTimer.Start( "Timer_FocusMapIcon", this.Timer_FocusMapIcon )
			end
		end
	
	elseif( StringId.IsEqual32( Id_32Bit, this.CharacterID_MT_Squad ) ) then
		if( TppMission.GetFlag( "isRadio_FocusMapIcon" ) == false ) then
			
			if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == true ) then
				TppRadio.DelayPlay( "Radio_MissionTargetFocusMapIcon", "short" )
				TppMission.SetFlag( "isRadio_FocusMapIcon", true )
				TppTimer.Start( "Timer_FocusMapIcon", this.Timer_FocusMapIcon )
			end
		end
	
	elseif( StringId.IsEqual32( Id_32Bit, this.MarkerID_EscapeWest ) or StringId.IsEqual32( Id_32Bit, this.MarkerID_EscapeNorth ) ) then
	end
end


local commonTimeFocusMapIcon = function()



	TppMission.SetFlag( "isRadio_FocusMapIcon", false )
end






local commonMTSquadIconUniqueInformationAllDisable = function( luaData )



	
	luaData:UnRegisterIconUniqueInformation( this.CharacterID_MT_Squad )
	luaData:UnRegisterIconUniqueInformation( this.AreaMarkerID_MT_Squad_westTent )
	luaData:UnRegisterIconUniqueInformation( this.AreaMarkerID_MT_Squad_Asylum )
	luaData:UnRegisterIconUniqueInformation( this.AreaMarkerID_MT_Squad_Heliport )
	luaData:UnRegisterIconUniqueInformation( this.AreaMarkerID_MT_Squad_wareHouse )
	luaData:UnRegisterIconUniqueInformation( this.AreaMarkerID_MT_Squad_eastTent )
	luaData:UnRegisterIconUniqueInformation( this.AreaMarkerID_MT_Squad_Heliport_Conversation )
end


local commonMTCenterIconUniqueInformationAllDisable = function( luaData )



	
	luaData:UnRegisterIconUniqueInformation( this.CharacterID_MT_Center )
	luaData:UnRegisterIconUniqueInformation( this.AreaMarkerID_MT_Center_westCenter )
	luaData:UnRegisterIconUniqueInformation( this.AreaMarkerID_MT_Center_Heliport_Conversation )
end


local commonMTSquadIconUniqueInformation = function()



	local marker				= TppMission.GetFlag( "isMT_AreaMarker_MTSquad" )
	local targetmarker			= TppMission.GetFlag( "isMT_TargetMarker_MTSquad" )
	local Buildingmarker		= TppMission.GetFlag( "isMT_BuildingMarker_MTSquad" )
	local Interrogationmarker	= TppMission.GetFlag( "isMT_InterroMarker_MTSquad" )
	local commonDataManager = UiCommonDataManager.GetInstance()
	if( commonDataManager == NULL ) then
		return
	end
	local luaData = commonDataManager:GetUiLuaExportCommonData()
	if( luaData == NULL )then
		return
	end
	
	commonMTSquadIconUniqueInformationAllDisable( luaData )
	
	if( targetmarker == true ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.CharacterID_MT_Squad,							langId = "marker_info_finger" }
	elseif( Buildingmarker == true ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.CharacterID_MT_Squad,							langId = "marker_info_mission_targetArea" }
	elseif( Interrogationmarker == true ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.CharacterID_MT_Squad,							langId = "marker_info_mission_targetArea" }
	elseif( marker == 1 ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.AreaMarkerID_MT_Squad_westTent,					langId = "marker_info_mission_targetArea" }
	elseif( marker == 2 ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.AreaMarkerID_MT_Squad_Asylum,					langId = "marker_info_mission_targetArea" }
	elseif( marker == 3 ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.AreaMarkerID_MT_Squad_Heliport,					langId = "marker_info_mission_targetArea" }
	elseif( marker == 4 ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.AreaMarkerID_MT_Squad_wareHouse,					langId = "marker_info_mission_targetArea" }
	elseif( marker == 5 ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.AreaMarkerID_MT_Squad_eastTent,					langId = "marker_info_mission_targetArea" }
	elseif( marker == 6 ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.AreaMarkerID_MT_Squad_Heliport_Conversation,		langId = "marker_info_mission_targetArea" }
	end
end


local commonMTCenterIconUniqueInformation = function()



	local marker				= TppMission.GetFlag( "isMT_AreaMarker_MTCenter" )
	local targetmarker			= TppMission.GetFlag( "isMT_TargetMarker_MTCenter" )
	local Buildingmarker		= TppMission.GetFlag( "isMT_BuildingMarker_MTCenter" )
	local Interrogationmarker	= TppMission.GetFlag( "isMT_InterroMarker_MTCenter" )
	local commonDataManager		= UiCommonDataManager.GetInstance()
	if( commonDataManager == NULL ) then
		return
	end
	local luaData = commonDataManager:GetUiLuaExportCommonData()
	if( luaData == NULL )then
		return
	end
	
	commonMTCenterIconUniqueInformationAllDisable( luaData )
	
	if( targetmarker == true ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.CharacterID_MT_Center,								langId = "marker_info_eye" }
	elseif( Buildingmarker == true ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.CharacterID_MT_Center,								langId = "marker_info_mission_targetArea" }
	elseif( Interrogationmarker == true ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.CharacterID_MT_Center,								langId = "marker_info_mission_targetArea" }
	elseif( marker == 1 ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.AreaMarkerID_MT_Center_westCenter,					langId = "marker_info_mission_targetArea" }
	elseif( marker == 2 ) then
		luaData:RegisterIconUniqueInformation{ markerId = this.AreaMarkerID_MT_Center_Heliport_Conversation,		langId = "marker_info_mission_targetArea" }
	end
end


local commonCallButtonGuide = function( num )



	local hudCommonData = HudCommonDataManager.GetInstance()
	
	if( num == 0 ) then
		hudCommonData:CallButtonGuide( "tutorial_mb_device", "MB_DEVICE" )
	end
end






local commonAreaMarkerMTSquadAllDisable = function()



	TppMarker.Disable( this.AreaMarkerID_MT_Squad_westTent )
	TppMarker.Disable( this.AreaMarkerID_MT_Squad_Asylum )
	TppMarker.Disable( this.AreaMarkerID_MT_Squad_Heliport )
	TppMarker.Disable( this.AreaMarkerID_MT_Squad_wareHouse )
	TppMarker.Disable( this.AreaMarkerID_MT_Squad_eastTent )
	TppMarker.Disable( this.AreaMarkerID_MT_Squad_Heliport_Conversation )
end


local commonAreaMarkerMTSquad = function( Compulsionflag, AnnounceLog, MarkerOff, RadioOff, IconNameFlag, InitIconName )
			Compulsionflag	= Compulsionflag or false
	local	IconName		= false
	local	state			= TppMission.GetFlag( "isMT_Squad_StateMove" )
	local	marker			= TppMission.GetFlag( "isMT_AreaMarker_MTSquad" )



	
	if( MarkerOff == false and TppMission.GetFlag( "isMT_SquadKill" ) == 0 and marker ~= 255 ) then
		
		if( ( Compulsionflag == true or marker ~= 1 ) and state >= 0 and state <= 5 )  then
			TppMission.SetFlag( "isMT_AreaMarker_MTSquad", 1 )
			
			commonAreaMarkerMTSquadAllDisable()
			
			TppMarker.Enable( this.AreaMarkerID_MT_Squad_westTent,					3, "moving", "map", 0, true, true )
			
			IconName = true
			
			if( AnnounceLog == true ) then
				commonMissionOutlineMarkerInRadio( this.CharacterID_MT_Squad, RadioOff )
			end
		
		elseif( ( Compulsionflag == true or marker ~= 2 ) and state >= 6 and state <= 7 )  then
			TppMission.SetFlag( "isMT_AreaMarker_MTSquad", 2 )
			
			commonAreaMarkerMTSquadAllDisable()
			
			TppMarker.Enable( this.AreaMarkerID_MT_Squad_Asylum,					2, "moving", "map", 0, true, true )
			
			IconName = true
			
			if( AnnounceLog == true ) then
				commonMissionOutlineMarkerInRadio( this.CharacterID_MT_Squad, RadioOff )
			end
		
		elseif( ( Compulsionflag == true or marker ~= 3 ) and state >=	8 and state <= 9 )	then
			TppMission.SetFlag( "isMT_AreaMarker_MTSquad", 3 )
			
			commonAreaMarkerMTSquadAllDisable()
			
			TppMarker.Enable( this.AreaMarkerID_MT_Squad_Heliport,					2, "moving", "map", 0, true, true )
			
			IconName = true
			
			if( AnnounceLog == true ) then
				commonMissionOutlineMarkerInRadio( this.CharacterID_MT_Squad, RadioOff )
			end
		
		elseif( ( Compulsionflag == true or marker ~= 4 ) and state >= 10 and state <= 11 )  then
			TppMission.SetFlag( "isMT_AreaMarker_MTSquad", 4 )
			
			commonAreaMarkerMTSquadAllDisable()
			
			TppMarker.Enable( this.AreaMarkerID_MT_Squad_wareHouse,					2, "moving", "map", 0, true, true )
			
			IconName = true
			
			if( AnnounceLog == true ) then
				commonMissionOutlineMarkerInRadio( this.CharacterID_MT_Squad, RadioOff )
			end
		
		elseif( ( Compulsionflag == true or marker ~= 5 ) and state >= 12 and state <= 14 )  then
			TppMission.SetFlag( "isMT_AreaMarker_MTSquad", 5 )
			
			commonAreaMarkerMTSquadAllDisable()
			
			TppMarker.Enable( this.AreaMarkerID_MT_Squad_eastTent,					2, "moving", "map", 0, true, true )
			
			IconName = true
			
			if( AnnounceLog == true ) then
				commonMissionOutlineMarkerInRadio( this.CharacterID_MT_Squad, RadioOff )
			end
		
		elseif( ( Compulsionflag == true or marker ~= 6 ) and state >= 15 )  then
			TppMission.SetFlag( "isMT_AreaMarker_MTSquad", 6 )
			
			commonAreaMarkerMTSquadAllDisable()
			
			TppMarker.Enable( this.AreaMarkerID_MT_Squad_Heliport_Conversation,		2, "moving", "map", 0, true, true )
			
			IconName = true
			
			if( AnnounceLog == true ) then
				commonMissionOutlineMarkerInRadio( this.CharacterID_MT_Squad, RadioOff )
			end
		end
	
	else
		
		commonAreaMarkerMTSquadAllDisable()
		
		if( AnnounceLog == true and marker ~= 255 ) then
			commonMissionOutlineMarkerOutRadio( this.CharacterID_MT_Squad, RadioOff )
		end
		if( marker == 255 ) then
			
			IconName = true
		end
	end
	
	if( InitIconName == false and ( IconNameFlag == true or IconName == true ) ) then
		commonMTSquadIconUniqueInformation()
	end
end


local commonAreaMarkerMTCenterAllDisable = function()



	TppMarker.Disable( this.AreaMarkerID_MT_Center_westCenter )
	TppMarker.Disable( this.AreaMarkerID_MT_Center_Heliport_Conversation )
end


local commonAreaMarkerMTCenter = function( Compulsionflag, AnnounceLog, MarkerOff, RadioOff, IconNameFlag, InitIconName )
			Compulsionflag	= Compulsionflag or false
	local	IconName		= false
	local	state			= TppMission.GetFlag( "isMT_Center_StateMove" )
	local	marker			= TppMission.GetFlag( "isMT_AreaMarker_MTCenter" )



	
	if( MarkerOff == false and TppMission.GetFlag( "isMT_CenterKill" ) == 0 and marker ~= 255 ) then
		if( ( Compulsionflag == true or  marker ~= 1 ) and state >= 0 and state <= 9 ) then
			TppMission.SetFlag( "isMT_AreaMarker_MTCenter", 1 )
			
			commonAreaMarkerMTCenterAllDisable()
			
			TppMarker.Enable( this.AreaMarkerID_MT_Center_westCenter,					4, "moving", "map", 0, true, true )
			
			IconName = true
			
			if( AnnounceLog == true ) then
				commonMissionOutlineMarkerInRadio( this.CharacterID_MT_Center, RadioOff )
			end
		elseif( ( Compulsionflag == true or marker ~= 2 ) and state >= 10 and state <= 13 ) then
			TppMission.SetFlag( "isMT_AreaMarker_MTCenter", 2 )
			
			commonAreaMarkerMTCenterAllDisable()
			
			TppMarker.Enable( this.AreaMarkerID_MT_Center_Heliport_Conversation,		2, "moving", "map", 0, true, true )
			
			IconName = true
			
			if( AnnounceLog == true ) then
				commonMissionOutlineMarkerInRadio( this.CharacterID_MT_Center, RadioOff )
			end
		end
	
	else
		
		commonAreaMarkerMTCenterAllDisable()
		
		if( AnnounceLog == true and marker ~= 255 ) then
			commonMissionOutlineMarkerOutRadio( this.CharacterID_MT_Center, RadioOff )
		end
		if( marker == 255 ) then
			
			IconName = true
		end
	end
	
	if( InitIconName == false and ( IconNameFlag == true or IconName == true ) ) then
		commonMTCenterIconUniqueInformation()
	end
end


local commonTargetMarker = function( num, CharacterID, CallSEOff )
	local CallSE					= false
	local TargetMarkerFlag			= false
	local BuildingMarkerFlag		= false
	local InterrogationMarkerFlag	= false



	
	if( num == "ON" ) then
		if( CharacterID == this.CharacterID_MT_Squad ) then
			
			if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == true ) then
				TargetMarkerFlag			= true
			
			elseif( TppMission.GetFlag( "isMT_BuildingMarker_MTSquad" ) == true ) then
				BuildingMarkerFlag			= true
			
			elseif( TppMission.GetFlag( "isMT_InterroMarker_MTSquad" ) == true ) then
				InterrogationMarkerFlag		= true
			end
		elseif( CharacterID == this.CharacterID_MT_Center ) then
			
			if( TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == true ) then
				TargetMarkerFlag			= true
			
			elseif( TppMission.GetFlag( "isMT_BuildingMarker_MTCenter" ) == true ) then
				BuildingMarkerFlag			= true
			
			elseif( TppMission.GetFlag( "isMT_InterroMarker_MTCenter" ) == true ) then
				InterrogationMarkerFlag		= true
			end
		end
		
		if( TargetMarkerFlag == true or BuildingMarkerFlag == true or InterrogationMarkerFlag == true ) then
			
			TppMarkerSystem.ResetAllNewMarker()
		end
		
		if( TargetMarkerFlag == true ) then
			TppMarkerSystem.EnableMarker{ markerId = CharacterID, viewType = { "VIEW_MAP_ICON", "VIEW_WORLD_ICON" } }
			TppMarkerSystem.DisableMarker{ markerId = CharacterID, viewType = { "VIEW_MAP_GOAL", "VIEW_WORLD_GOAL" } }
			TppMarkerSystem.SetMarkerGoalType{ markerId = CharacterID, goalType = "GOAL_NONE", radiusLevel = 0, randomLevel = 0 }
			TppMarkerSystem.SetMarkerImportant{ markerId = CharacterID, isImportant = true }
			TppMarkerSystem.SetMarkerNew{ markerId = CharacterID, isNew = true }
			CallSE = true
		
		elseif( BuildingMarkerFlag == true ) then
			TppMarkerSystem.EnableMarker{ markerId = CharacterID, viewType = { "VIEW_MAP_GOAL", "VIEW_WORLD_GOAL" } }
			TppMarkerSystem.DisableMarker{ markerId = CharacterID, viewType = { "VIEW_MAP_ICON", "VIEW_WORLD_ICON" } }
			TppMarkerSystem.SetMarkerGoalType{ markerId = CharacterID, goalType = "GOAL_MOVE", radiusLevel = 2, randomLevel = 0 }
			TppMarkerSystem.SetMarkerImportant{ markerId = CharacterID, isImportant = false }
			TppMarkerSystem.SetMarkerNew{ markerId = CharacterID, isNew = true }
			CallSE = false
		
		elseif( InterrogationMarkerFlag == true ) then
			TppMarkerSystem.EnableMarker{ markerId = CharacterID, viewType = { "VIEW_MAP_GOAL", "VIEW_WORLD_GOAL" } }
			TppMarkerSystem.DisableMarker{ markerId = CharacterID, viewType = { "VIEW_MAP_ICON", "VIEW_WORLD_ICON" } }
			TppMarkerSystem.SetMarkerGoalType{ markerId = CharacterID, goalType = "GOAL_MOVE", radiusLevel = 1, randomLevel = 0 }
			TppMarkerSystem.SetMarkerImportant{ markerId = CharacterID, isImportant = false }
			TppMarkerSystem.SetMarkerNew{ markerId = CharacterID, isNew = true }
			CallSE = false
		end
	
	else
		if( CharacterID == this.CharacterID_MT_Squad or CharacterID == this.CharacterID_MT_Center ) then
			
			TppMarkerSystem.EnableMarker{ markerId = CharacterID }
			TppMarkerSystem.SetMarkerGoalType{ markerId = CharacterID, goalType = "GOAL_NONE", radiusLevel = 0, randomLevel = 0 }
			TppMarkerSystem.SetMarkerImportant{ markerId = CharacterID, isImportant = false }
		end
	end
 	
	if( CallSE == true and CallSEOff == false ) then
		GZCommon.CallSearchTarget()
	end
end


local commonMissionTargetMarkerOn = function( num, InterrogationFlag, RadioOff, InterrogationAnnounceLog )
	local CharacterID
	local EnemyLife
	local phase				= TppCharacterUtility.GetCpPhaseName( this.cpID )
	local AreaMarkerOff		= false
	
	local EndRaioMissionTargetA = {
		onEnd = function()
			if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 ) then
				commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
			end
		end,
	}
	
	local EndRaioMissionTargetB = {
		onEnd = function()
			if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 ) then
				commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
			end
		end,
	}



	
	if( num == 0 ) then
		CharacterID = TppData.GetArgument(1)
	
	elseif( num == this.CharacterID_MT_Squad ) then
		CharacterID = this.CharacterID_MT_Squad
	elseif( num == this.CharacterID_MT_Center ) then
		CharacterID = this.CharacterID_MT_Center
	end
	
	EnemyLife = TppEnemyUtility.GetLifeStatus( CharacterID )
	
	if ( EnemyLife ~= "Dead" ) then
		
		if( CharacterID == this.CharacterID_MT_Squad ) then
			
			if( InterrogationFlag == false ) then
				if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == false ) then
					TppMission.SetFlag( "isMT_TargetMarker_MTSquad", true )
					TppMission.SetFlag( "isMT_InterroMarker_MTSquad", false )
					TppMission.SetFlag( "isMT_BuildingMarker_MTSquad", false )
					commonTargetMarker( "ON", CharacterID, false )
					if( RadioOff == false ) then
						
						if( TppMission.GetFlag( "isRadio_MarkerOnMissionTargetA" ) == false ) then
							TppMission.SetFlag( "isRadio_MarkerOnMissionTargetA", true )
							
							TppRadio.DelayPlay( "Radio_MarkerOnFirstMissionTargetA", "mid", nil, EndRaioMissionTargetA )
						else
							
							TppRadio.DelayPlay( "Radio_MarkerOnSecondMissionTargetA", "mid", nil, EndRaioMissionTargetA )
						end
					else
						if( TppMission.GetFlag( "isRadio_MarkerOnMissionTargetA" ) == false ) then
							TppMission.SetFlag( "isRadio_MarkerOnMissionTargetA", true )
						end
					end
					AreaMarkerOff = true
				end
			
			else
				
				if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == false and TppMission.GetFlag( "isMT_BuildingMarker_MTSquad" ) == false and TppMission.GetFlag( "isMT_InterroMarker_MTSquad" ) == false ) then
					TppMission.SetFlag( "isMT_InterroMarker_MTSquad", true )
					TppMission.SetFlag( "isMT_TargetMarker_MTSquad", false )
					TppMission.SetFlag( "isMT_BuildingMarker_MTSquad", false )
					commonTargetMarker( "ON", CharacterID, false )
					AreaMarkerOff = true
				end
				
				if( TppMission.GetFlag( "isMT_InterroMarker_MTSquad" ) == true and InterrogationAnnounceLog == true ) then
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			end
			if( AreaMarkerOff == true ) then
				
				if( TppMission.GetFlag( "isMT_AreaMarker_MTSquad" ) ~= 255 ) then
					TppMission.SetFlag( "isMT_AreaMarker_MTSquad", 255 )
					commonAreaMarkerMTSquad( false, false, false, true, false, false )
				else
					
					commonMTSquadIconUniqueInformation()
				end
			end
		
		elseif( CharacterID == this.CharacterID_MT_Center ) then
			
			if( InterrogationFlag == false ) then
				if( TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == false ) then
					TppMission.SetFlag( "isMT_TargetMarker_MTCenter", true )
					TppMission.SetFlag( "isMT_InterroMarker_MTCenter", false )
					TppMission.SetFlag( "isMT_BuildingMarker_MTCenter", false )
					commonTargetMarker( "ON", CharacterID, false )
					if( RadioOff == false ) then
						
						if( TppMission.GetFlag( "isRadio_MarkerOnMissionTargetB" ) == false ) then
							TppMission.SetFlag( "isRadio_MarkerOnMissionTargetB", true )
							
							TppRadio.DelayPlay( "Radio_MarkerOnFirstMissionTargetB", "mid", nil, EndRaioMissionTargetB )
						else
							
							TppRadio.DelayPlay( "Radio_MarkerOnSecondMissionTargetB", "mid", nil, EndRaioMissionTargetB )
						end
					else
						if( TppMission.GetFlag( "isRadio_MarkerOnMissionTargetB" ) == false ) then
							TppMission.SetFlag( "isRadio_MarkerOnMissionTargetB", true )
						end
					end
					AreaMarkerOff = true
				end
			
			else
				
				if( TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == false and TppMission.GetFlag( "isMT_BuildingMarker_MTCenter" ) == false and TppMission.GetFlag( "isMT_InterroMarker_MTCenter" ) == false ) then
					TppMission.SetFlag( "isMT_InterroMarker_MTCenter", true )
					TppMission.SetFlag( "isMT_TargetMarker_MTCenter", false )
					TppMission.SetFlag( "isMT_BuildingMarker_MTCenter", false )
					commonTargetMarker( "ON", CharacterID, false )
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
					AreaMarkerOff = true
				end
				
				if( TppMission.GetFlag( "isMT_InterroMarker_MTCenter" ) == true and InterrogationAnnounceLog == true ) then
					
					commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
				end
			end
			if( AreaMarkerOff == true ) then
				
				if( TppMission.GetFlag( "isMT_AreaMarker_MTCenter" ) ~= 255 ) then
					TppMission.SetFlag( "isMT_AreaMarker_MTCenter", 255 )
					commonAreaMarkerMTCenter( false, false, false, true, false, false )
				else
					
					commonMTCenterIconUniqueInformation()
				end
			end
		end
		
		if( phase ~= "Alert" and this.CounterList.ForceRoute_MTSquad == "OFF" and this.CounterList.ForceRoute_MTCenter == "OFF" and TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == true and TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == true ) then
			commonRegisterOptionalRadioSetup( false, false )
		end
	end
end


local commonMissionTargetMarkerOFF = function( CharacterID, BuildingFlag, IntelRadioName )



	
	if( CharacterID == this.CharacterID_MT_Squad ) then
		
		if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == true ) then
			TppMission.SetFlag( "isMT_TargetMarker_MTSquad", false )
			TppMission.SetFlag( "isMT_BuildingMarker_MTSquad", false )
			TppMission.SetFlag( "isMT_InterroMarker_MTSquad", false )
			
			if( BuildingFlag == true ) then
				
				TppMission.SetFlag( "isMT_BuildingMarker_MTSquad", true )
				commonTargetMarker( "ON", CharacterID, false )
				
				commonMissionTargetInBuildingRadio( CharacterID )
				
				commonMTSquadIconUniqueInformation()
				if( IntelRadioName ~= "NoIntelRadioName" ) then
					
					TppRadio.EnableIntelRadio( IntelRadioName )
					
					this.CounterList.IntelRadioBuilding_MTSquad = true
					if( IntelRadioName == "intel_e0020_esrg0080b_a" ) then
						
						TppRadio.DisableIntelRadio( "intel_e0020_esrg0070a" )
					elseif( IntelRadioName == "intel_e0020_esrg0080b_b" ) then
						
						TppRadio.DisableIntelRadio( "intel_e0020_esrg0070b" )
						
						if( this.CounterList.IntelRadioBuilding_MTCenter == true ) then
							TppRadio.DisableIntelRadio( "intel_e0020_esrg0080b_b" )
							TppRadio.EnableIntelRadio( "intel_e0020_esrg0081" )
						end
					end
				end
			end
		
		else
			
			if( BuildingFlag == false ) then
				if( TppMission.GetFlag( "isMT_AreaMarker_MTSquad" ) ~= 255 ) then
					TppMission.SetFlag( "isMT_AreaMarker_MTSquad", 255 )
					commonAreaMarkerMTSquad( false, false, false, true, false, false )
				end
			end
		end
	
	elseif( CharacterID == this.CharacterID_MT_Center ) then
		
		if( TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == true ) then
			TppMission.SetFlag( "isMT_TargetMarker_MTCenter", false )
			TppMission.SetFlag( "isMT_BuildingMarker_MTCenter", false )
			TppMission.SetFlag( "isMT_InterroMarker_MTCenter", false )
			
			if( BuildingFlag == true ) then
				
				TppMission.SetFlag( "isMT_BuildingMarker_MTCenter", true )
				commonTargetMarker( "ON", CharacterID, false )
				
				commonMissionTargetInBuildingRadio( CharacterID )
				
				commonMTCenterIconUniqueInformation()
				if( IntelRadioName ~= "NoIntelRadioName" ) then
					
					this.CounterList.IntelRadioBuilding_MTCenter = true
					
					TppRadio.EnableIntelRadio( IntelRadioName )
					
					TppRadio.EnableIntelRadio( IntelRadioName )
					if( IntelRadioName == "intel_e0020_esrg0080a_a" ) then
						
						TppRadio.DisableIntelRadio( "intel_e0020_esrg0070c" )
					elseif( IntelRadioName == "intel_e0020_esrg0080a_b" ) then
						
						TppRadio.DisableIntelRadio( "intel_e0020_esrg0070b" )
						
						if( this.CounterList.IntelRadioBuilding_MTSquad == true ) then
							TppRadio.DisableIntelRadio( "intel_e0020_esrg0080a_b" )
							TppRadio.EnableIntelRadio( "intel_e0020_esrg0081" )
						end
					end
				end
			end
		
		else
			
			if( BuildingFlag == false ) then
				if( TppMission.GetFlag( "isMT_AreaMarker_MTCenter" ) ~= 255 ) then
					TppMission.SetFlag( "isMT_AreaMarker_MTCenter", 255 )
					commonAreaMarkerMTCenter( false, false, false, true, false, false )
				end
			end
		end
	end
end


local commonAlertAreaMarkerOff = function()



	local AnnounceLogFlag = false
	
	if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 and TppMission.GetFlag( "isMT_AreaMarker_MTSquad" ) ~= 255 ) then
		commonAreaMarkerMTSquad( false, false, true, true, true, false )
		AnnounceLogFlag = true
	end
	
	if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 and TppMission.GetFlag( "isMT_AreaMarker_MTCenter" ) ~= 255 ) then
		commonAreaMarkerMTCenter( false, false, true, true, true, false )
		AnnounceLogFlag = true
	end
	
	if( AnnounceLogFlag == true ) then
		commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
	end
end


local commonEscapeMarker = function()



	
	TppMarker.Enable( this.MarkerID_EscapeWest, 1, "moving", "all", 0, true, true )
	
	TppMarker.Enable( this.MarkerID_EscapeNorth, 1, "moving", "all", 0, true, true )

end






local commonMTSquadRouteDisable = function( iCheckPointFlag, iAllDisableFlag, iSubRouteEnableFlag )
	iCheckPointFlag		= iCheckPointFlag or false
	iAllDisableFlag		= iAllDisableFlag or false
	local state			= TppMission.GetFlag( "isMT_Squad_StateMove" )



	if( iAllDisableFlag == false ) then
		
		if( iCheckPointFlag == true ) then
			if( state == 0 or state == 1 )	then
			else
				TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000" )
				TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0001" )
				TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0002" )
			end
		end
		if( state == 0 or state == 1 or state == 2 or state == 3 ) then
			TppEnemy.DisableRoute( this.cpID, "gntn_common_d01_route0008" )
		end
	else
		TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0001" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0002" )
	end
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_01_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_01_0002" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_01_0000_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_01_0001_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_02_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_02_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_02_0000_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_02_0001_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_03_0000" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_03_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_03_0002" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_03_0000_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_03_0001_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0003" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0004" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0005" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0006" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0000" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0002" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0003" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0004" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0005" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0006" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0000_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0002_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0001_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0002_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_05_0000" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_05_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_06_0000" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_07_0000_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_07_0001_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_05_0000_Con" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_05_0001_Con" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_01_0000_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_02_0000_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_03_0000_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0000_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0001_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_05_0000_C" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000_DE" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000_DEC" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_01_0000_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_02_0000_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_03_0000_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0000_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0001_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_05_0000_EC" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000_Escape" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_01_0000_Escape" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_02_0000_Escape" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_03_0000_Escape" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0000_Escape" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0001_Escape" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_05_0000_Escape" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0000_VSE" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_01_0000_VSE" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_02_0000_VSE" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_03_0000_VSE" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0000_VSE" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0001_VSE" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_05_0000_VSE" )
	
	if( iSubRouteEnableFlag == true ) then
		TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0008" )
		TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0011" )
		TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0008" )
		if( state == 12 or state == 13 or state == 14 ) then
			TppEnemy.EnableRoute( this.cpID, "e20020_route_eastTent01_0002" )
			TppEnemy.EnableRoute( this.cpID, "e20020_route_eastTent02_0002" )
		end
	end
end


local commonMTCenterRouteDisable = function( iCheckPointFlag, iAllDisableFlag )
	iCheckPointFlag		= iCheckPointFlag or false
	iAllDisableFlag		= iAllDisableFlag or false
	local state			= TppMission.GetFlag( "isMT_Center_StateMove" )



	if( iAllDisableFlag == false ) then
		if( iCheckPointFlag == true ) then
			if( state == 0 ) then
				TppEnemy.EnableRoute( this.cpID, "e20020_route_MT01_00_0000" )
				TppEnemy.EnableRoute( this.cpID, "e20020_route_MT01_00_0001" )
				TppEnemy.EnableRoute( this.cpID, "e20020_route_MT01_00_0002" )
			else
				TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0000" )
				TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0001" )
				TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0002" )
			end
		end
	else
		TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0000" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0001" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0002" )
	end
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_01_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_01_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_01_0002_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_02_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_03_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_03_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_03_0002_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_04_0000" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_04_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_04_0002" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_05_0000" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_05_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_05_0002" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_06_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_06_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_06_0002_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_07_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_08_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_09_0000_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_10_0000" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_10_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_10_0002" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_10_0000_Con" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_10_0001_Con" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_10_0002_Con" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_11_0000" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_12_0000_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_12_0001_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_12_0002_VS" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_13_0000_S" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0000_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_01_0000_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_02_0000_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_03_0000_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_04_0000_C" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0000_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0001_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_01_0000_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_01_0001_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_02_0000_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_02_0001_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_03_0000_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_03_0001_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_04_0000_EC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_04_0001_EC" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0000_Escape" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_01_0000_Escape" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0000_DE" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0001_DE" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0000_DEC" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_00_0001_DEC" )
end


local commonEnemyVehicleRouteDisable = function( iCheckPointFlag, iAllDisableFlag, InitFlag )
	iCheckPointFlag		= iCheckPointFlag or false
	iAllDisableFlag		= iAllDisableFlag or false
	local state			= TppMission.GetFlag( "isEnemy_Vehicle_StateMove" )



	if( iAllDisableFlag == false ) then
		if( iCheckPointFlag == true ) then
			if( state == 0 ) then
			else
				TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0000" )
				TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle01_0000" )
			end
		end
		
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0000_VS" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0000_VSE" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0001" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0001_VS" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0001_VSE" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle01_0000_VS" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle01_0001" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle01_0002" )
		
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0001_C" )
		TppEnemy.DisableRoute( this.cpID, "gntn_common_c01_route0001" )
	else
		
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0000" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0000_VS" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0000_VSE" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0001" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0001_VS" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0001_VSE" )
		if( InitFlag == false ) then
			TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle01_0000" )
			TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle01_0000_VS" )
			TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle01_0001" )
			TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle01_0002" )
			
			TppEnemy.DisableRoute( this.cpID, "e20020_route_Vehicle00_0001_C" )
			TppEnemy.DisableRoute( this.cpID, "gntn_common_c01_route0001" )
		end
	end
end


local commonEnemyWestern01RouteDisable = function( iCheckPointFlag, iAllDisableFlag )
	iCheckPointFlag		= iCheckPointFlag or false
	iAllDisableFlag		= iAllDisableFlag or false
	local state			= TppMission.GetFlag( "isEnemy_Western01_StateMove" )



	if( iAllDisableFlag == false ) then
		if( iCheckPointFlag == true ) then
			if( state == 0 or state == 1 ) then
			else
				TppEnemy.DisableRoute( this.cpID, "e20020_route_Western00_0000" )
			end
		end
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Western00_0001")
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Western00_0002_VS01")
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Western00_0002_VS02")
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Western00_0002_VSE")
	else
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Western00_0000" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Western00_0001")
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Western00_0002_VS01")
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Western00_0002_VS02")
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Western00_0002_VSE")
	end
end


local commonEnemyImitationRouteDisable = function( iCheckPointFlag, iAllDisableFlag )
	iCheckPointFlag		= iCheckPointFlag or false
	iAllDisableFlag		= iAllDisableFlag or false
	local state			= TppMission.GetFlag( "isEnemy_Imitation_StateMove" )



	if( iAllDisableFlag == false ) then
		if( iCheckPointFlag == true ) then
			if( state == 0 ) then
			else
				TppEnemy.DisableRoute( this.cpID, "e20020_route_Imitation00_0000" )
			end
		end
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Imitation00_0001" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Imitation00_0003_VS" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Imitation00_0003_VSE" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Imitation00_0002" )
	else
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Imitation00_0000" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Imitation00_0001" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Imitation00_0003_VS" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Imitation00_0003_VSE" )
		TppEnemy.DisableRoute( this.cpID, "e20020_route_Imitation00_0002" )
	end
end


local commonEnemyReinforceRouteDisable = function( iCheckPointFlag, iAllDisableFlag )
	iCheckPointFlag		= iCheckPointFlag or false
	iAllDisableFlag		= iAllDisableFlag or false
	local state			= TppMission.GetFlag( "isEnemy_Reinforce_StateMove" )



	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce00_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce01_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce02_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce03_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce00_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce01_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce02_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce03_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce00_0001_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce01_0001_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce02_0001_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce03_0001_C" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce04_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce05_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce06_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce07_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce04_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce05_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce06_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce07_0001_S" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce04_0001_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce05_0001_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce06_0001_C" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Reinforce07_0001_C" )
end


local commonEnemyRouteDisable = function( iCheckPointFlag, iAllDisableFlag )
	iCheckPointFlag = iCheckPointFlag or false
	iAllDisableFlag = iAllDisableFlag or false



	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_eastTent01_0000" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_eastTent01_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_eastTent01_0002" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_eastTent02_0000" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_eastTent02_0001" )
	TppEnemy.DisableRoute( this.cpID, "e20020_route_eastTent02_0002" )
	
	TppEnemy.DisableRoute( this.cpID, "gntn_common_d01_route0019" )
	TppEnemy.DisableRoute( this.cpID, "gntn_common_d01_route0020" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_08_0000" )
	
	TppEnemy.DisableRoute( this.cpID, "e20020_route_Asylum00_0000" )
	
	if( TppMission.GetFlag( "isGimmick_Break_WoodTurret02" ) == false ) then
		TppEnemy.DisableRoute( this.cpID, "gntn_common_d01_route0005" )
		TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0021" )
	else
		TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0005" )
		TppEnemy.DisableRoute( this.cpID, "gntn_common_d01_route0021" )
	end
end






local commonMTSquad_GuardTarget = function()



	local StateMove = TppMission.GetFlag( "isMT_Squad_StateMove" )
	if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 )  then
		commonPrint2D("【設定】ＭＴ倉庫：ガードターゲット西ミッション圏外エリア設定" , 3 )
		TppCommandPostObject.GsSetGuardTargetValidity( this.cpID,		"TppGuardTargetData_VipA0000", true )
		TppCommandPostObject.GsSetVipPriorityGuardTarget( this.cpID,	"TppGuardTargetData_VipA0000", this.CharacterID_MT_Squad )
	else
		commonPrint2D("【設定】ＭＴ倉庫：ガードターゲット西ミッション圏外エリア設定" , 3 )
		TppCommandPostObject.GsSetGuardTargetValidity( this.cpID,		"TppGuardTargetData_VipA0000", true )
	end
end


local commonMTCenter_GuardTarget = function()



	
	if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 )	then
		commonPrint2D("【設定】ＭＴ管理棟：ガードターゲット東ミッション圏外エリア設定" , 3 )
		TppCommandPostObject.GsSetGuardTargetValidity( this.cpID,		"TppGuardTargetData_VipB0000", true )
		TppCommandPostObject.GsSetVipPriorityGuardTarget( this.cpID,	"TppGuardTargetData_VipB0000", this.CharacterID_MT_Center )
	else
		commonPrint2D("【設定】ＭＴ管理棟：死亡の為、ガードターゲット東ミッション圏外エリア設定" , 3 )
		TppCommandPostObject.GsSetGuardTargetValidity( this.cpID,		"TppGuardTargetData_VipB0000", true )
	end
end






local commonMT_Sqaud_RegisterPoint = function( manager, iStateMove, iSequenceSkipFlag )
	iStateMove			= iStateMove or 0
	iSequenceSkipFlag	= iSequenceSkipFlag or false



	
	if( iStateMove == 0 or iStateMove == 1 or iStateMove == 2 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Squad,		"e20020_MT00_00_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Squad,		"e20020_MT00_00_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle02,		"e20020_MT00_00_V" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Squad,		"e20020_MT00_00_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Squad,		"e20020_MT00_00_S0001" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle02,		"e20020_MT00_00_V" )
		end
	elseif( iStateMove == 3 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Squad,		"e20020_MT00_00_S0002" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Squad,		"e20020_MT00_00_S0003" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle02,		"e20020_MT00_00_V" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Squad,		"e20020_MT00_00_S0002" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Squad,		"e20020_MT00_00_S0003" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle02,		"e20020_MT00_00_V" )
		end
	elseif( iStateMove == 4 or iStateMove == 5 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Squad,		"e20020_MT00_01_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Squad,		"e20020_MT00_01_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle02,		"e20020_MT00_01_V" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Squad,		"e20020_MT00_01_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Squad,		"e20020_MT00_01_S0001" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle02,		"e20020_MT00_01_V" )
		end
	elseif( iStateMove == 6 or iStateMove == 7 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Squad,		"e20020_MT00_02_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Squad,		"e20020_MT00_02_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle02,		"e20020_MT00_02_V" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Squad,		"e20020_MT00_02_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Squad,		"e20020_MT00_02_S0001" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle02,		"e20020_MT00_02_V" )
		end
	elseif( iStateMove == 8 or iStateMove == 9 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Squad,		"e20020_MT00_03_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Squad,		"e20020_MT00_03_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle02,		"e20020_MT00_03_V" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Squad,		"e20020_MT00_03_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Squad,		"e20020_MT00_03_S0001" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle02,		"e20020_MT00_03_V" )
		end
	elseif( iStateMove == 10 or iStateMove == 11 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Squad,		"e20020_MT00_04_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Squad,		"e20020_MT00_04_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle02,		"e20020_MT00_04_V0000" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Squad,		"e20020_MT00_04_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Squad,		"e20020_MT00_04_S0001" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle02,		"e20020_MT00_04_V0000" )
		end
	elseif( iStateMove == 12 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Squad,		"e20020_MT00_04_S0002" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Squad,		"e20020_MT00_04_S0003" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle02,		"e20020_MT00_04_V0000" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Squad,		"e20020_MT00_04_S0002" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Squad,		"e20020_MT00_04_S0003" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle02,		"e20020_MT00_04_V0000" )
		end
	elseif( iStateMove == 13 or iStateMove == 14 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Squad,		"e20020_MT00_04_S0004" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Squad,		"e20020_MT00_04_S0005" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle02,		"e20020_MT00_04_V0001" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Squad,		"e20020_MT00_04_S0004" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Squad,		"e20020_MT00_04_S0005" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle02,		"e20020_MT00_04_V0001" )
		end
	elseif( iStateMove >= 15 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Squad,		"e20020_MT00_05_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Squad,		"e20020_MT00_05_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle02,		"e20020_MT00_05_V" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Squad,		"e20020_MT00_05_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Squad,		"e20020_MT00_05_S0001" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle02,		"e20020_MT00_05_V" )
		end
	end
end


local commonMT_Center_RegisterPoint = function( manager, iStateMove, iSequenceSkipFlag )
	iStateMove			= iStateMove or 0
	iSequenceSkipFlag	= iSequenceSkipFlag or false



	
	if( iStateMove == 0 or iStateMove == 1 or iStateMove == 4 or iStateMove == 5 or iStateMove == 6 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Center, 	"e20020_MT01_00_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Center01,	"e20020_MT01_00_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Center02,	"e20020_MT01_00_S0002" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Center,		"e20020_MT01_00_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Center01,	"e20020_MT01_00_S0001" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Center02,	"e20020_MT01_00_S0002" )
		end
	elseif( iStateMove == 2 or iStateMove == 3 or iStateMove == 7 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Center, 	"e20020_MT01_05_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Center01,	"e20020_MT01_05_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Center02,	"e20020_MT01_05_S0002" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Center,		"e20020_MT01_05_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Center01,	"e20020_MT01_05_S0001" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Center02,	"e20020_MT01_05_S0002" )
		end
	elseif( iStateMove == 8 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Center, 	"e20020_MT01_06_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Center01,	"e20020_MT01_06_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Center02,	"e20020_MT01_06_S0002" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Center,		"e20020_MT01_06_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Center01,	"e20020_MT01_06_S0001" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Center02,	"e20020_MT01_06_S0002" )
		end
	elseif( iStateMove == 9 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Center,		"e20020_MT01_07_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Center01,	"e20020_MT01_07_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Center02,	"e20020_MT01_07_S0002" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_MT_Center,		"e20020_MT01_07_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Center01,	"e20020_MT01_07_S0001" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Center02,	"e20020_MT01_07_S0002" )
		end
	elseif( iStateMove == 10 or iStateMove == 11 or iStateMove == 12 or iStateMove == 13 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_MT_Center,		"e20020_MT01_10_S0000" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Center01,	"e20020_MT01_10_S0001" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Center02,	"e20020_MT01_10_S0002" )
		else
			TppMission.RegisterVipRestorePoint( 					this.CharacterID_MT_Center,		"e20020_MT01_10_S0000" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Center01,	"e20020_MT01_10_S0001" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Center02,	"e20020_MT01_10_S0002" )
		end
	end
end


local commonEnemy_Vehicle_RegisterPoint = function( manager, iStateMove, iSequenceSkipFlag )
	iStateMove			= iStateMove or 0
	iSequenceSkipFlag	= iSequenceSkipFlag or false



	
	if( iSequenceSkipFlag == false ) then
		if( iStateMove == 1 ) then
			iStateMove = 2
		end
	end
	
	if( iStateMove == 2 or iStateMove == 3 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Vehicle01,	"e20020_EV00_01_S" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Vehicle02,	"e20020_EV01_01_S" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle01,		"e20020_EV00_01_V" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Vehicle01,	"e20020_EV00_01_S" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Vehicle02,	"e20020_EV01_01_S" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle01,		"e20020_EV00_01_V" )
		end
	elseif( iStateMove == 4 or iStateMove == 999 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Vehicle01,	"e20020_EV00_02_S" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Vehicle02,	"e20020_EV01_01_S" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Vehicle01,		"e20020_EV00_02_V" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Vehicle01,	"e20020_EV00_02_S" )
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Vehicle02,	"e20020_EV01_01_S" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Vehicle01,		"e20020_EV00_02_V" )
		end
	end
end


local commonEnemy_Imitation_RegisterPoint = function( manager, iStateMove, iSequenceSkipFlag )
	iStateMove			= iStateMove or 0
	iSequenceSkipFlag	= iSequenceSkipFlag or false



	
	if( iSequenceSkipFlag == false ) then
		if( iStateMove == 1 ) then
			iStateMove = 2
		end
	end
	
	if( iStateMove == 2 or iStateMove == 3 or iStateMove == 4 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Imitation,	"e20020_EI00_01_S" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_Imitation,	"e20020_EI00_01_S" )
		end
	elseif( iStateMove == 5 or iStateMove == 999 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Imitation,	"e20020_EI00_02_S" )
		else
			TppMission.RegisterVipRestorePoint( 					this.CharacterID_E_Imitation,	"e20020_EI00_02_S" )
		end
	end
end


local commonEnemy_Western01_RegisterPoint = function( manager, iStateMove, iSequenceSkipFlag )
	iStateMove			= iStateMove or 0
	iSequenceSkipFlag	= iSequenceSkipFlag or false



	
	if( iStateMove == 5 or iStateMove == 999 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_Western01,	"e20020_EW00_01_S" )
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.VehicleID_Western02,		"e20020_EW00_01_V" )
		else
			TppMission.RegisterVipRestorePoint( 					this.CharacterID_E_Western01,	"e20020_EW00_01_S" )
			TppMission.RegisterVipRestorePoint(						this.VehicleID_Western02,		"e20020_EW00_01_V" )
		end
	end
end


local commonEnemy_eastTent01_RegisterPoint = function( manager, iStateMove, iSequenceSkipFlag )
	iStateMove			= iStateMove or 0
	iSequenceSkipFlag	= iSequenceSkipFlag or false



	
	if( iStateMove == 2 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_eastTentNorth01,	"e20020_EE00_02_S" )
		else
			TppMission.RegisterVipRestorePoint( 					this.CharacterID_E_eastTentNorth01,	"e20020_EE00_02_S" )
		end
	end
end


local commonEnemy_eastTent02_RegisterPoint = function( manager, iStateMove, iSequenceSkipFlag )
	iStateMove			= iStateMove or 0
	iSequenceSkipFlag	= iSequenceSkipFlag or false



	
	if( iStateMove == 2 ) then
		if( iSequenceSkipFlag == true ) then
			TppPlayer.WarpForDebugStartInVipRestorePoint( manager,	this.CharacterID_E_eastTentNorth02,	"e20020_EE01_02_S" )
		else
			TppMission.RegisterVipRestorePoint(						this.CharacterID_E_eastTentNorth02,	"e20020_EE01_02_S" )
		end
	end
end





local commonRegisterVipMember_MTSquad = function()



	if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 )  then
		commonPrint2D("【設定】ＭＴ倉庫：グループ設定" , 1 )
		MissionManager.RegisterVipMember( this.RegisterVipMemberID_MTSquad, this.CharacterID_MT_Squad,	"kill", 0 )				
		MissionManager.RegisterVipMember( this.RegisterVipMemberID_MTSquad, this.CharacterID_E_Squad,	"kill", 1 )				
		MissionManager.RegisterVipMember( this.RegisterVipMemberID_MTSquad, this.VehicleID_Vehicle02,	"kill", 2 )				
	end
end

local commonRegisterVipMember_MTCenter = function()



	if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 )	then
		commonPrint2D("【設定】ＭＴ管理棟：グループ設定" , 1 )
		MissionManager.RegisterVipMember( this.RegisterVipMemberID_MTCenter, this.CharacterID_MT_Center,	"kill", 0 )			
		MissionManager.RegisterVipMember( this.RegisterVipMemberID_MTCenter, this.CharacterID_E_Center01,	"kill", 1 )			
		MissionManager.RegisterVipMember( this.RegisterVipMemberID_MTCenter, this.CharacterID_E_Center02,	"kill", 2 )			
	end
end





local commonMissionFailedMTEscapeMissionArea = function( CharacterID, VehicleID, EscapeArea )
	local sequence = TppSequence.GetCurrentSequence()



	
	if( ( CharacterID == this.CharacterID_MT_Squad and this.DebugMissionAreaOutMTSquadOFF == true ) or ( CharacterID == this.CharacterID_MT_Center and this.DebugMissionAreaOutMTCenterOFF == true ) ) then
		commonPrint2D("ターゲットがミッション圏外で出ました。"..CharacterID.. "", 1 )
		return
	end
	
	if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" or sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
		
		this.CounterList.VipOnEscapeVehicleID	= VehicleID
		this.CounterList.VipOnEscapeCharacterID	= CharacterID
		this.CounterList.VipOnEscapeArea		= EscapeArea
		
		TppSequence.ChangeSequence( "Seq_Mission_FailedMTEscapeMissionArea" )
	end
end


local commonDisableStateMoveVehicle = function( DisableCharacterID )



	
	local PlayerVehicleId = TppPlayerUtility.GetRidingVehicleCharacterId()
	
	if( DisableCharacterID ~= "NoName" ) then
		
		if( PlayerVehicleId ~= DisableCharacterID ) then
			TppData.Disable( DisableCharacterID )
			TppMarker.Disable( DisableCharacterID )
		end
	end
end


local commonMT_Squad_AreaMarkerTimeStart = function( num )



	if( num == 0 ) then
		TppTimer.Stop( "Timer_MT_Squad_StateMove_MarkerOn" )
		TppTimer.Start( "Timer_MT_Squad_StateMove_MarkerOn", this.Timer_MTSquad_AreaMarkerOn )
	else
		TppTimer.Stop( "Timer_MT_Squad_StateMove_MarkerOff" )
		TppTimer.Start( "Timer_MT_Squad_StateMove_MarkerOff", this.Timer_MTSquad_AreaMarkerOff )
	end
end


local commonMT_Squad_ForceRouteMode = function( state )



	
	if( this.CounterList.ForceRoute_MTSquad == "OFF" ) then
		commonPrint2D("【開始】ＭＴ倉庫：ミッション圏外へ逃げる開始" , 1 )
		
		this.CounterList.ForceRoute_MTSquad = "ON"
		
		TppEnemyUtility.SetForceRouteMode( this.CharacterID_MT_Squad, true )
		
		commonMTSquadRouteDisable( false, true, false )
		
		if( state == 0 or state == 1 or state == 2 )  then
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_00_0000_Escape",			-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_00_0000_Escape",			-1, -1 )
		elseif( state == 3 or state == 4 or state == 5 )  then
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_01_0000_Escape",			-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_01_0000_Escape",			-1, -1 )
		elseif( state == 6 or state == 7 )	then
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_02_0000_Escape",			-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_02_0000_Escape",			-1, -1 )
		elseif( state == 8 or state == 9 )	then
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_03_0000_Escape",			-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_03_0000_Escape",			-1, -1 )
		elseif( state == 10 or state == 11 )  then
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_04_0000_Escape",			-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_04_0000_Escape",			-1, -1 )
		elseif( state == 12 or state == 13 or state == 14 )  then
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_04_0001_Escape",			-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_04_0001_Escape",			-1, -1 )
		elseif( state == 15 or state == 16 or state == 17 )  then
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_05_0000_Escape",			-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_05_0000_Escape",			-1, -1 )
		end
	end
end


local commonMT_Squad_DisableIntelRadio = function( AllDisableFlag )



	
	if( this.CounterList.IntelRadioBuilding_MTSquad == true or AllDisableFlag == true ) then
		TppRadio.DisableIntelRadio( "intel_e0020_esrg0080b_a" )
		TppRadio.DisableIntelRadio( "intel_e0020_esrg0080b_b" )
		TppRadio.DisableIntelRadio( "intel_e0020_esrg0081" )
		this.CounterList.IntelRadioBuilding_MTSquad = false
	end
end


local commonMT_Squad_StateMove = function( num, manager )
		  manager		= manager or 0
	local sequence		= TppSequence.GetCurrentSequence()
	local phase			= TppCharacterUtility.GetCpPhaseName( this.cpID )
	local state			= TppMission.GetFlag( "isMT_Squad_StateMove" )
	local kill			= TppMission.GetFlag( "isMT_SquadKill" )
	
	if( num == "Init" or num == "CheckPoint" or num == "SequenceSkip" or num == "MTCenterDead" or num == "Lost" ) then
		
		
		
		if( kill == 0 )  then
			
			if( this.CounterList.ForceRoute_MTSquad == "OFF" ) then
				
				if( num == "MTCenterDead" ) then
					if( state == 0 or state == 1 ) then
						TppMission.SetFlag( "isMT_Squad_StateMove", 2 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					elseif( state == 6 ) then
						TppMission.SetFlag( "isMT_Squad_StateMove", 7 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					elseif( state == 8 ) then
						TppMission.SetFlag( "isMT_Squad_StateMove", 9 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					elseif( state == 10 ) then
						TppMission.SetFlag( "isMT_Squad_StateMove", 11 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
					return
				end
				
				if( num == "Init" ) then
					commonMTSquad_GuardTarget()
				end
				
				if( num == "CheckPoint" ) then
					
					if( TppMission.GetFlag( "isAlert" ) == true or TppMission.GetFlag( "isKeepCaution" ) == true or TppMission.GetFlag( "isMT_Squad_GroupVehicleFailed" ) == true ) then
						
						TppEnemyUtility.SetForceRouteMode( this.CharacterID_MT_Squad, false )
						
						TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", false )
						
						commonMTSquadRouteDisable( false, true, false )
						
						num = "CheckPointInit"
					end
				end
				
				if( state == 0 ) then
					commonPrint2D("【開始】ＭＴ倉庫：倉庫に待機" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_00_0000",			-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_00_0000_C",			-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_00_0001",			-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_00_0000_EC",			-1, 0 )
					end
				
				elseif( state == 1 ) then
					commonPrint2D("【開始】ＭＴ倉庫：倉庫に待機：待機時間スタート" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_00_0000",			-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_00_0000_C",			-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_00_0001",			-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_00_0000_EC",			-1, 0 )
					end
					
					if( num ~= "MTCenterDead" ) then
						TppTimer.Start( "Timer_MT_Squad_StateMove_Timer", this.Timer_MTSquad_wareHouse )
					end
				
				elseif( state == 2 ) then
					commonPrint2D("【開始】ＭＴ倉庫：倉庫から西収容キャンプに移動開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_00_0000_S",			"e20020_route_MT00_00_0000", -1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_00_0000_C",			-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_00_0000_S",			"e20020_route_MT00_00_0001", -1 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_00_0000_EC",			-1, 0 )
						if( num == "Init" ) then
							commonSetTimeRouteChage(  0,												"e20020_route_MT00_00_0000_S",			"e20020_route_MT00_00_0002" )
							commonSetTimeRouteChage( 30,												"e20020_route_MT00_01_0001",			"gntn_common_d01_route0011" )
						else
							commonSetTimeRouteChage(  0,												"e20020_route_MT00_01_0001",			"gntn_common_d01_route0011" )
						end
					end
					if( num == "CheckPoint" or num == "CheckPointInit" ) then
						TppEnemy.DisableRoute( this.cpID, "gntn_common_d01_route0011" )
						TppEnemy.EnableRoute( this.cpID, "e20020_route_MT00_01_0001" )
					end
				
				elseif( state == 3 ) then
					commonPrint2D("【開始】ＭＴ倉庫：西収容キャンプ巡回開始" , 1 )
					if( num == "CheckPoint" ) then
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0004" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0008" )
						if( TppMission.GetFlag( "isMT_WaitVehicleRaid_eastTent" ) == true ) then
							TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0005" )
							TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0006" )
							TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_01_0002" )
							num = "CheckPointInit"
						end
					end
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad, 	this.RouteSet_Sneak,	"e20020_route_MT00_00_0001_S",			"e20020_route_MT00_00_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_01_0000_C",			"e20020_route_MT00_00_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_00_0000_VS",			"e20020_route_MT00_00_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_01_0000_EC",			"e20020_route_MT00_00_0000_EC", 0 )
						if( num == "Init" ) then
							commonSetTimeRouteChage(  0,												"e20020_route_MT00_00_0004",			"e20020_route_MT00_00_0000_S" )
							commonSetTimeRouteChage( 20,												"gntn_common_d01_route0008",			"e20020_route_MT00_00_0004" )
						end
						if( num == "SequenceSkip" ) then
							commonSetTimeRouteChage(  0,												"e20020_route_MT00_00_0001_S",		"gntn_common_d01_route0011" )
						else
							commonSetTimeRouteChage(  0, 												"e20020_route_MT00_00_0001_S",		"e20020_route_MT00_01_0001" )
						end
					end
					
					TppMission.SetFlag( "isMT_WaitVehicleRaid_eastTent", false )
				
				elseif( state == 4 ) then
					commonPrint2D("【開始】ＭＴ倉庫：西収容キャンプから旧収容施設へビークルで移動開始：付き添い待機中" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 1 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_00_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_01_0000_VS",			"e20020_route_MT00_00_0001_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_01_0000_C",			"e20020_route_MT00_00_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_01_0001_VS",			"e20020_route_MT00_01_0002", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_01_0000_EC",			"e20020_route_MT00_00_0000_EC", 0 )
						if( num == "Init" ) then
							commonSetTimeRouteChage(  0, 												"e20020_route_MT00_00_0006",			"e20020_route_MT00_00_0001_S" )
							commonSetTimeRouteChage( 30, 												"gntn_common_d01_route0011",			"e20020_route_MT00_00_0006" )
						else
							commonSetTimeRouteChage(  0, 												"gntn_common_d01_route0011",			"e20020_route_MT00_00_0006" )
						end
					end
					if( num == "CheckPoint" ) then
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0006" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0001_S" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0011" )
					end
				
				elseif( state == 5 ) then
					commonPrint2D("【開始】ＭＴ倉庫：西収容キャンプから旧収容施設へビークルで移動開始：要人待機中" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 1 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_00_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_01_0000_VS",			"e20020_route_MT00_00_0005", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_01_0000_C",			"e20020_route_MT00_00_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_01_0001_VS",			"e20020_route_MT00_00_0000_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_01_0000_EC",			"e20020_route_MT00_00_0000_EC", 0 )
						commonSetTimeRouteChage( 25, 													"gntn_common_d01_route0011",			"e20020_route_MT00_00_0006" )
					end
					if( num == "CheckPoint" ) then
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_00_0006" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0011" )
					end
				
				elseif( state == 6 )  then
					commonPrint2D("【開始】ＭＴ倉庫：旧収容施設巡回開始" ,1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_01_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_02_0000_S",			"e20020_route_MT00_01_0000_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_02_0000_C",			"e20020_route_MT00_01_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_02_0001",			"e20020_route_MT00_01_0001_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_02_0000_EC",			"e20020_route_MT00_01_0000_EC", 0 )
						commonSetTimeRouteChage(  0, 													"e20020_route_MT00_02_0000_S",			"gntn_common_d01_route0001" )
					end
					
					if( num ~= "MTCenterDead" ) then
						TppTimer.Start( "Timer_MT_Squad_StateMove_Timer", this.Timer_MTSquad_Asylum )
					end
				
				elseif( state == 7 ) then
					commonPrint2D("【開始】ＭＴ倉庫：旧収容施設からヘリポート櫓へビークル移動開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 1 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_01_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_02_0000_VS",			"e20020_route_MT00_02_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_02_0000_C",			"e20020_route_MT00_01_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_02_0001_VS",			"e20020_route_MT00_02_0001", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_02_0000_EC",			"e20020_route_MT00_01_0000_EC", 0 )
						commonSetTimeRouteChage(  0, 													"gntn_common_d01_route0001",			"e20020_route_MT00_02_0000_S" )
					end
				
				elseif( state == 8 ) then
					commonPrint2D("【開始】ＭＴ倉庫：ヘリポート櫓巡回開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_02_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_03_0000",			"e20020_route_MT00_02_0000_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_03_0000_C",			"e20020_route_MT00_02_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_03_0001",			"e20020_route_MT00_02_0001_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_03_0000_EC",			"e20020_route_MT00_02_0000_EC", 0 )
					end
					
					if( num ~= "MTCenterDead" ) then
						TppTimer.Start( "Timer_MT_Squad_StateMove_Timer", this.Timer_MTSquad_Heliport_WoodTurret )
					end
				
				elseif( state == 9 ) then
					commonPrint2D("【開始】ＭＴ倉庫：ヘリポート櫓から倉庫櫓へビークル移動開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 1 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_02_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_03_0000_VS",			"e20020_route_MT00_03_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_03_0000_C",			"e20020_route_MT00_02_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_03_0001_VS",			"e20020_route_MT00_03_0001", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_03_0000_EC",			"e20020_route_MT00_02_0000_EC", 0 )
					end
				
				elseif( state == 10 ) then
					commonPrint2D("【開始】ＭＴ倉庫：倉庫櫓巡回開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_03_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_04_0000",			"e20020_route_MT00_03_0000_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_04_0000_C",			"e20020_route_MT00_03_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_04_0001",			"e20020_route_MT00_03_0001_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_04_0000_EC",			"e20020_route_MT00_03_0000_EC", 0 )
						if( num == "Init" ) then
							commonSetTimeRouteChage( 15, 												"e20020_route_MT00_04_0002",			"gntn_common_d01_route0008" )
						else
							commonSetTimeRouteChage( 0, 												"e20020_route_MT00_04_0002",			"gntn_common_d01_route0008" )
						end
					end
					
					if( num ~= "MTCenterDead" ) then
						TppTimer.Start( "Timer_MT_Squad_StateMove_Timer", this.Timer_MTSquad_wareHouse_WoodTurret )
					end
					if( num == "CheckPoint" ) then
						TppEnemy.DisableRoute( this.cpID, "gntn_common_d01_route0008" )
						TppEnemy.EnableRoute( this.cpID, "e20020_route_MT00_04_0002" )
					end
				
				elseif( state == 11 ) then
					commonPrint2D("【開始】ＭＴ倉庫：ヘリポート櫓から東側テントへ徒歩で移動開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 1 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_04_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_04_0000_S",			"e20020_route_MT00_04_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_04_0000_C",			"e20020_route_MT00_03_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_04_0000_S",			"e20020_route_MT00_04_0001", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_04_0000_EC",			"e20020_route_MT00_03_0000_EC", 0 )
					end
				
				elseif( state == 12 ) then
					commonPrint2D("【開始】ＭＴ倉庫：東側テント巡回開始" , 1 )
					if( num == "CheckPoint" ) then
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0002" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0008" )
						
						if( TppMission.GetFlag( "isMT_WaitVehicleRaid_westTent" ) == true ) then
							TppMission.SetFlag( "isMT_WaitVehicleRaid_westTent", false )
							TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0003" )
							num = "CheckPointInit"
						end
						
						if( TppMission.GetFlag( "isMT_WestTentMoveEnd" ) == true ) then
							TppMission.SetFlag( "isMT_WestTentMoveEnd", false )
							TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0002_S" )
							num = "CheckPointInit"
						end
					end
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_04_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_04_0001_S",			"e20020_route_MT00_04_0000_S", -1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_04_0001_C",			"e20020_route_MT00_04_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_04_0000_VS",			"e20020_route_MT00_04_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_04_0001_EC",			"e20020_route_MT00_04_0000_EC", 0 )
						commonSetTimeRouteChage(  0, 													"e20020_route_MT00_04_0001_S",			"e20020_route_eastTent01_0002" )
						commonSetTimeRouteChage(  0, 													"e20020_route_MT00_04_0001_S",			"e20020_route_eastTent02_0002" )
						if( num ~= "CheckPointInit"  ) then
							commonSetTimeRouteChage( 30, 												"gntn_common_d01_route0008",			"e20020_route_MT00_04_0002" )
						end
					end
					
					if( num ~= "MTCenterDead" ) then
						TppTimer.Start( "Timer_MT_Squad_StateMove_Timer", this.Timer_MTSquad_eastTent )
					end
					
					TppMission.SetFlag( "isMT_WestTentMoveEnd", false )
					
					TppMission.SetFlag( "isMT_WaitVehicleRaid_westTent", false )
				
				elseif( state == 13 ) then
					commonPrint2D("【開始】ＭＴ倉庫：東側テントからヘリポートへビークル移動開始：付き添い待機中" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 1 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_04_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_04_0001_VS",			"e20020_route_MT00_04_0002_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_04_0001_C",			"e20020_route_MT00_04_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_04_0002_VS",			"e20020_route_MT00_04_0003", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_04_0001_EC",			"e20020_route_MT00_04_0000_EC", 0 )
						if( num == "Init" ) then
							commonSetTimeRouteChage(  0, 												"e20020_route_MT00_04_0005",			"e20020_route_MT00_04_0002_S" )
							commonSetTimeRouteChage(  0, 												"e20020_route_MT00_04_0006",			"e20020_route_MT00_04_0002_S" )
							commonSetTimeRouteChage( 25, 												"e20020_route_eastTent01_0002",			"e20020_route_MT00_04_0005" )
							commonSetTimeRouteChage( 25, 												"e20020_route_eastTent02_0002",			"e20020_route_MT00_04_0006" )
						else
							commonSetTimeRouteChage(  0, 												"e20020_route_eastTent01_0002",			"e20020_route_MT00_04_0005" )
							commonSetTimeRouteChage(  0, 												"e20020_route_eastTent02_0002",			"e20020_route_MT00_04_0006" )
						end
					end
				
				elseif( state == 14 ) then
					commonPrint2D("【開始】ＭＴ倉庫：東側テントからヘリポートへビークル移動開始：要人待機中" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 1 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_04_0000_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_04_0001_VS",			"e20020_route_MT00_04_0004", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_04_0001_C",			"e20020_route_MT00_04_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_04_0002_VS",			"e20020_route_MT00_04_0000_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_04_0001_EC",			"e20020_route_MT00_04_0000_EC", 0 )
						commonSetTimeRouteChage( 30, 													"e20020_route_eastTent01_0002",			"e20020_route_MT00_04_0005" )
						commonSetTimeRouteChage( 30, 													"e20020_route_eastTent02_0002",			"e20020_route_MT00_04_0006" )
					end
					if( num == "CheckPoint" ) then
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0005" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT00_04_0006" )
						TppEnemy.EnableRoute( this.cpID, "e20020_route_eastTent01_0002" )
						TppEnemy.EnableRoute( this.cpID, "e20020_route_eastTent02_0002" )
					end
				
				elseif( state == 15 ) then
					commonPrint2D("【開始】ＭＴ倉庫：ＭＴ管理棟と合流する為ヘリポート前で待機開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_04_0000_VSE", false )
						TppCommandPostObject.GsAddDisabledRoutes( this.cpID, "e20020_route_MT00_04_0001_VSE", false )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_05_0000",			"e20020_route_MT00_04_0001_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_05_0000_C",			"e20020_route_MT00_04_0001_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_05_0001",			"e20020_route_MT00_04_0002_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_05_0000_EC",			"e20020_route_MT00_04_0001_EC", 0 )
					end
					
					if( num ~= "MTCenterDead" ) then
						commonPrint2D("【開始】ＭＴ倉庫：ヘリポート前で待機タイマー開始その１" )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Timer", this.Timer_MTSquad_Heliport_Conversation )
					end
				
				elseif( state == 16 ) then
					commonPrint2D("【開始】ＭＴ倉庫：会話開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_06_0000",			"e20020_route_MT00_05_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_05_0000_C",			"e20020_route_MT00_05_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_05_0001",			"e20020_route_MT00_04_0002_VS", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_05_0000_EC",			"e20020_route_MT00_04_0001_EC", 0 )
						
						TppTimer.Stop( "Timer_MT_Squad_StateMove_Timer" )
					end
				
				elseif( state == 17 ) then
					commonPrint2D("【開始】ＭＴ倉庫：ミッション圏外へ移動開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_07_0000_VS",			"e20020_route_MT00_06_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_05_0000_C",			"e20020_route_MT00_04_0001_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_07_0001_VS",			"e20020_route_MT00_05_0001", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_05_0000_EC",			"e20020_route_MT00_04_0001_EC", 0 )
					end
					if( kill == 0 )  then
						
						commonRegisterOptionalRadioSetup( true, false )
					end
				
				elseif( state == 20 ) then
					commonPrint2D("【開始】ＭＴ倉庫：ＭＴ管理棟が来ないので付き添いと会話開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_05_0000_Con",		"e20020_route_MT00_05_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_05_0000_C",			"e20020_route_MT00_04_0001_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_05_0001_Con",		"e20020_route_MT00_05_0001", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_05_0000_EC",			"e20020_route_MT00_04_0001_EC", 0 )
					end
				
				elseif( state == 21 ) then
					commonPrint2D("【開始】ＭＴ倉庫：ミッション圏外へ移動開始※ＭＴ管理棟なし" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Squad_AreaMarkerTimeStart( 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_07_0000_VS",			"e20020_route_MT00_05_0000_Con", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_05_0000_C",			"e20020_route_MT00_04_0001_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_07_0001_VS",			"e20020_route_MT00_05_0001_Con", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Caution,	"e20020_route_MT00_05_0000_EC",			"e20020_route_MT00_04_0001_EC", 0 )
					end
				end
			end
		
		
		
		else
			commonPrint2D("【開始】ＭＴ倉庫：死亡の為、敵兵別行動開始" , 1 )
			
			commonMTSquadRouteDisable( false, true, true )
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad,		this.RouteSet_Sneak,	"e20020_route_MT00_00_0000",		-1, 0 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Squad,		this.RouteSet_Caution,	"e20020_route_MT00_00_0000_C",		-1, 0 )
			commonSetUniqueRouteChange( this.CharacterID_E_Squad,		this.RouteSet_Sneak,	"e20020_route_MT00_00_0000_DE",		-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_E_Squad,		this.RouteSet_Caution,	"e20020_route_MT00_00_0000_DEC",	-1, -1 )
		end
	
	elseif( num == "Sneak" ) then
		if( kill == 0 )  then
			
			if( state == 0 or state == 1 ) then
				TppMission.SetFlag( "isMT_Squad_StateMove", 2 )
			
			elseif( state == 3 or state == 4 or state == 5 ) then
				TppMission.SetFlag( "isMT_Squad_StateMove", 4 )
				
				commonMTSquadRouteDisable( false, true, true )
			end
			
			TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
		else
			
			TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
		end
	
	elseif( num == "Caution" ) then
		
		TppTimer.Stop( "Timer_MT_Squad_StateMove_Timer" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_Init" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_MarkerOn" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_MarkerOff" )
		if( kill ~= 0 )  then
			
			TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
		end
	
	elseif( num == "KeepCaution" ) then
		
		TppTimer.Stop( "Timer_MT_Squad_StateMove_Timer" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_Init" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_MarkerOn" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_MarkerOff" )
		if( kill == 0 )  then
			
			commonMT_Squad_ForceRouteMode( state )
		end
	
	elseif( num == "Evasion" ) then
		
		TppTimer.Stop( "Timer_MT_Squad_StateMove_Timer" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_Init" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_MarkerOn" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_MarkerOff" )
		if( kill ~= 0 )  then
			
			TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
		end
	
	elseif( num == "Alert" ) then
		
		TppTimer.Stop( "Timer_MT_Squad_StateMove_Timer" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_Init" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_MarkerOn" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_MarkerOff" )
		if( kill == 0 )  then
			
			commonMT_Squad_ForceRouteMode( state )
		end
	
	elseif( num == "Trap" ) then
		if( kill == 0 and state == 0 and phase == "Sneak" ) then
			TppMission.SetFlag( "isMT_Squad_StateMove", 1 )
			TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
		end
	
	elseif( num == "Timer" ) then
		if( phase == "Sneak" ) then
			if( kill == 0 )  then
				
				if( state == 1 ) then
					TppMission.SetFlag( "isMT_Squad_StateMove", 2 )
					TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
				
				elseif( state == 3 ) then
					TppMission.SetFlag( "isMT_Squad_StateMove", 5 )
					TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
				
				elseif( state == 6 ) then
					TppMission.SetFlag( "isMT_Squad_StateMove", 7 )
					TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					
					if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 ) then
						TppMission.SetFlag( "isMT_Center_StateMove", 3 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					end
				
				elseif( state == 8 ) then
					TppMission.SetFlag( "isMT_Squad_StateMove", 9 )
					TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					
					if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 )	then
						TppMission.SetFlag( "isMT_Center_StateMove", 5 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					end
				
				elseif( state == 10 ) then
					TppMission.SetFlag( "isMT_Squad_StateMove", 11 )
					TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					
					if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 ) then
						TppMission.SetFlag( "isMT_Center_StateMove", 6 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					end
				
				elseif( state == 12 ) then
					if( TppMission.GetFlag( "isMT_WestTentMoveEnd" ) == false )  then
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, "e20020_route_MT00_04_0002_S",	"e20020_route_MT00_04_0001_S", 0 )
						commonSetTimeRouteChage(  0, 												"e20020_route_MT00_04_0002_S",	"e20020_route_MT00_04_0001_S" )
						commonSetTimeRouteChage(  0, 												"e20020_route_MT00_04_0002_S",	"e20020_route_MT00_04_0001_S" )
						TppMission.SetFlag( "isMT_WestTentMoveEnd", true )
					else
						
						TppMission.SetFlag( "isMT_Squad_StateMove", 14 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
				
				elseif( state == 15 ) then
					if( state ~= 20 ) then
						if( ( TppMission.GetFlag( "isMT_Center_StateMove" ) ~= 9 and TppMission.GetFlag( "isMT_Center_StateMove" ) ~= 10 ) or sequence == "Seq_Waiting_KillMT_Squad" ) then
							TppMission.SetFlag( "isMT_Squad_StateMove", 20 )
							TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
						else
							commonPrint2D("【開始】ＭＴ倉庫：ヘリポート前で待機タイマー開始その２" )
							TppTimer.Start( "Timer_MT_Squad_StateMove_Timer", this.Timer_MTSquad_Heliport_Conversation )
						end
					end
				end
			else
				
				TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
			end
		end
	
	elseif( num == "Kill" ) then
		if( kill == 0 )  then
			TppMission.SetFlag( "isMT_SquadKill", 1 )
			TppRadio.DisableIntelRadio( this.CharacterID_MT_Squad )
			
			TppTimer.Stop("Timer_MT_Squad_StateMove_Timer")
			TppTimer.Stop("Timer_MT_Squad_StateMove_Init")
			
			TppTimer.Start( "Timer_MT_Squad_StateMove_Lost", this.Timer_MTSquad_DeadLost )
			
			TppTimer.Start( "Timer_MT_Squad_StateMove_Dead", 0 )
			
			TppRadio.DisableIntelRadio( this.CharacterID_MT_Squad )
			
			this.CounterList.ForceRoute_MTSquad = "OFF"
		end
	
	elseif( num == "Recovery" ) then
		if( kill == 0 )  then
			TppMission.SetFlag( "isMT_SquadKill", 2 )
			
			TppTimer.Stop("Timer_MT_Squad_StateMove_Timer")
			TppTimer.Stop("Timer_MT_Squad_StateMove_Init")
			
			TppTimer.Start( "Timer_MT_Squad_StateMove_Lost", this.Timer_MTSquad_DeadLost )
			
			TppTimer.Start( "Timer_MT_Squad_StateMove_Dead", 0 )
			
			TppRadio.DisableIntelRadio( this.CharacterID_MT_Squad )
			
			this.CounterList.ForceRoute_MTSquad = "OFF"
		end
	
	elseif( num == "RoutePoint" ) then
		local routeId					= TppData.GetArgument(3)
		local routeNodeIndex			= TppData.GetArgument(1)
		
		if( this.CounterList.ForceRoute_MTSquad == "OFF" ) then
			
			
			if( routeId == GsRoute.GetRouteId("e20020_route_MT00_00_0000_S") ) then
				if( routeNodeIndex >= 9 ) then
					if( state ~= 4 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 3 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_00_0001_S") ) then
				if( routeNodeIndex >= 7 ) then
					if( TppMission.GetFlag( "isMT_WaitVehicleRaid_eastTent" ) == false )  then
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, "e20020_route_MT00_00_0005", "e20020_route_MT00_00_0001_S", 0 )
						commonSetTimeRouteChage(  0, 												"e20020_route_MT00_00_0006", "e20020_route_MT00_00_0001_S" )
						TppMission.SetFlag( "isMT_WaitVehicleRaid_eastTent", true )
						
						TppTimer.Start( "Timer_MT_Squad_StateMove_Timer", this.Timer_MTSquad_WaitWestTent )
					else
						
						if( state ~= 4 )  then
							TppMission.SetFlag( "isMT_Squad_StateMove", 4 )
							TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
						end
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0000_S") ) then
				if( routeNodeIndex >= 8 ) then
					if( state ~= 12 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 12 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0002_S") ) then
				if( routeNodeIndex == 3 ) then
					if( TppMission.GetFlag( "isMT_WaitVehicleRaid_westTent" ) == false )  then
						commonPrint2D("【開始】ＭＴ倉庫：東側テントビークルが来るまで待機" , 1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, "e20020_route_MT00_04_0004",	"e20020_route_MT00_04_0002_S", 0 )
						commonSetTimeRouteChage(  0, 												"e20020_route_MT00_04_0005",	"e20020_route_MT00_04_0002_S" )
						commonSetTimeRouteChage(  0, 												"e20020_route_MT00_04_0006",	"e20020_route_MT00_04_0002_S" )
						TppMission.SetFlag( "isMT_WaitVehicleRaid_westTent", true )
						
						TppTimer.Start( "Timer_MT_Squad_StateMove_Timer", this.Timer_MTSquad_WaitEastTent )
					else
						
						if( state ~= 13 ) then
							TppMission.SetFlag( "isMT_Squad_StateMove", 13 )
							TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
						end
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000") ) then
				if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 ) then
					if( routeNodeIndex == 1 ) then
						
						if( TppMission.GetFlag( "isMT_Center_StateMove" ) == 10 ) then
							TppMission.SetFlag( "isMT_Squad_StateMove", 16 )
							TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
							TppMission.SetFlag( "isMT_Center_StateMove", 11 )
							TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
						end
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_Con") ) then
				if( routeNodeIndex >= 0 ) then
					if( state ~= 21 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 21 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
				end
			
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_01_0000_VSE") ) then
				
				if( routeNodeIndex >= 13 and routeNodeIndex <= 14 ) then
					
					if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 )	then
						if( TppMission.GetFlag( "isMT_Center_StateMove" ) == 0 )  then
							TppMission.SetFlag( "isMT_Center_StateMove", 1 )
							TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
						end
					end
				
				elseif( routeNodeIndex >= 24 ) then
					if( state ~= 6 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 6 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_02_0000_VSE") ) then
				
				if( routeNodeIndex >= 26 ) then
					if( state ~= 8 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 8 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_03_0000_VSE") ) then
				
				if( routeNodeIndex >= 17 ) then
					if( state ~= 10 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 10 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0001_VSE") ) then
				
				if( routeNodeIndex >= 13 ) then
					if( state ~= 15 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 15 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
						
						if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 and TppMission.GetFlag( "isMT_Center_StateMove" ) == 8 and  TppMission.GetFlag( "isMT_Center_EastCenterMoveEnd" ) == true ) then
							TppMission.SetFlag( "isMT_Center_StateMove", 9 )
							TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
						end
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_VSE") ) then
				
				if( routeNodeIndex >= 8 ) then
					
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, "NoRide", "North" )
				end
			
			
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_00_0000_C") ) then
				if( routeNodeIndex >= 1 ) then
					commonMissionTargetMarkerOFF( this.CharacterID_MT_Squad, true, "intel_e0020_esrg0080b_a" )
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_03_0000_C") ) then
				if( routeNodeIndex >= 1 ) then
					commonMissionTargetMarkerOFF( this.CharacterID_MT_Squad, true, "intel_e0020_esrg0080b_b" )
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_C") ) then
				if( routeNodeIndex >= 1 ) then
					commonMissionTargetMarkerOFF( this.CharacterID_MT_Squad, true, "intel_e0020_esrg0080b_b" )
				end
			end
		else
			
			
			if( routeId == GsRoute.GetRouteId("e20020_route_MT00_00_0000_Escape") ) then
				if( routeNodeIndex >= 16 ) then
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, "NoRide", "West" )
				end
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_01_0000_Escape") ) then
				if( routeNodeIndex >= 2 ) then
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, "NoRide", "West" )
				end
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_02_0000_Escape") ) then
				if( routeNodeIndex >= 21 ) then
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, "NoRide", "West" )
				end
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_03_0000_Escape") ) then
				if( routeNodeIndex >= 11 ) then
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, "NoRide", "North" )
				end
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0000_Escape") ) then
				if( routeNodeIndex >= 12 ) then
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, "NoRide", "West" )
				end
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0001_Escape") ) then
				if( routeNodeIndex >= 3 ) then
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, "NoRide", "North" )
				end
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_Escape") ) then
				if( routeNodeIndex >= 9 ) then
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, "NoRide", "North" )
				end
			end
		end
	
	elseif( num == "RoutePoint_E_Squad" ) then
		local routeId					= TppData.GetArgument(3)
		local routeNodeIndex			= TppData.GetArgument(1)
		
		if( this.CounterList.ForceRoute_MTSquad == "OFF" ) then
			
			if( routeId == GsRoute.GetRouteId("e20020_route_MT00_00_0000_VSE") ) then
				if( routeNodeIndex >= 5 ) then
					
					if( TppMission.GetFlag( "isMT_WaitVehicleRaid_eastTent" ) == false )  then
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_01_0002",	"e20020_route_MT00_00_0000_VSE", 0 )
						TppMission.SetFlag( "isMT_WaitVehicleRaid_eastTent", true )
					
					else
						if( state ~= 5 )  then
							TppMission.SetFlag( "isMT_Squad_StateMove", 5 )
							TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
						end
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0000_VSE") ) then
				if( routeNodeIndex >= 12 ) then
					
					if( TppMission.GetFlag( "isMT_WaitVehicleRaid_westTent" ) == false )  then
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_04_0003",	"e20020_route_MT00_04_0000_VSE", 0 )
						TppMission.SetFlag( "isMT_WaitVehicleRaid_westTent", true )
					
					else
						if( state ~= 14 )  then
							TppMission.SetFlag( "isMT_Squad_StateMove", 14 )
							TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
						end
					end
				end
			end
		end
	
	elseif( num == "VehicleRoutePoint" ) then
		local VehicleGroupInfo		= TppData.GetArgument(2)
		local vehicleCharacterId	= VehicleGroupInfo.vehicleCharacterId
		local characterIds			= VehicleGroupInfo.memberCharacterIds
		local routeId				= VehicleGroupInfo.vehicleRouteId
		local routeNodeIndex		= VehicleGroupInfo.passedNodeIndex
		local TargetLaioOnVehicle	= false
		
		if( this.CounterList.ForceRoute_MTSquad == "OFF" ) then
			
			if( routeId == GsRoute.GetRouteId("e20020_route_MT00_01_0000_V") ) then
				
				if( routeNodeIndex >= 11 ) then
					
					if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 )	then
						if( TppMission.GetFlag( "isMT_Center_StateMove" ) == 0 )  then
							TppMission.SetFlag( "isMT_Center_StateMove", 1 )
							TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
						end
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V") ) then
				if( routeNodeIndex >= 9 ) then
					if( kill == 0 )  then
						commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, vehicleCharacterId, "North" )
					end
				end
			end
		
		else
			if( kill == 0 )  then
				
				for i, memberCharacterId in ipairs( VehicleGroupInfo.memberCharacterIds ) do
					if( memberCharacterId == this.CharacterID_MT_Squad and TargetLaioOnVehicle == false ) then
						TargetLaioOnVehicle = true
					end
				end
				
				if( TargetLaioOnVehicle == true ) then
					
					
					if( routeId == GsRoute.GetRouteId("e20020_route_MT00_00_0000_V") ) then
						
						if( routeNodeIndex == 2 ) then
							TppCommandPostObject.GsSetGroupVehicleRoute( this.cpID, vehicleCharacterId, "e20020_route_MT00_05_0000_V_Escape_West01", 4 )
						end
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_01_0000_V") ) then
						
						if( routeNodeIndex == 5 ) then
							TppCommandPostObject.GsSetGroupVehicleRoute( this.cpID, vehicleCharacterId, "e20020_route_MT00_05_0000_V_Escape_West01", 0 )
						
						elseif( routeNodeIndex == 9 ) then
							TppCommandPostObject.GsSetGroupVehicleRoute( this.cpID, vehicleCharacterId, "e20020_route_MT00_05_0000_V_Escape_East01", 3 )
						
						elseif( routeNodeIndex == 16 ) then
							TppCommandPostObject.GsSetGroupVehicleRoute( this.cpID, vehicleCharacterId, "e20020_route_MT00_05_0000_V_Escape_West02", 0 )
						end
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_02_0000_V") ) then
						
						if( routeNodeIndex == 3 ) then
							TppCommandPostObject.GsSetGroupVehicleRoute( this.cpID, vehicleCharacterId, "e20020_route_MT00_05_0000_V_Escape_West02", 4 )
						
						elseif( routeNodeIndex == 11 ) then
							TppCommandPostObject.GsSetGroupVehicleRoute( this.cpID, vehicleCharacterId, "e20020_route_MT00_05_0000_V_Escape_East01", 0 )
						end
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_03_0000_V") ) then
						
						if( routeNodeIndex == 2 ) then
							TppCommandPostObject.GsSetGroupVehicleRoute( this.cpID, vehicleCharacterId, "e20020_route_MT00_05_0000_V_Escape_East01", 3 )
						
						elseif( routeNodeIndex == 6 ) then
							TppCommandPostObject.GsSetGroupVehicleRoute( this.cpID, vehicleCharacterId, "e20020_route_MT00_05_0000_V_Escape_West01", 1 )
						end
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0000_V") ) then
						if( routeNodeIndex == 3 ) then
							TppCommandPostObject.GsSetGroupVehicleRoute( this.cpID, vehicleCharacterId, "e20020_route_MT00_05_0000_V_Escape_West01", 1 )
						end
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0001_V") ) then
						
						if( routeNodeIndex == 6 ) then
							TppCommandPostObject.GsSetGroupVehicleRoute( this.cpID, vehicleCharacterId, "e20020_route_MT00_05_0000_V_Escape_East01", 0 )
						end
					
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V") ) then
						if( routeNodeIndex >= 9 ) then
							
							commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, vehicleCharacterId, "North" )
						end
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V_Escape_West01") ) then
						if( routeNodeIndex >= 10 ) then
							
							commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, vehicleCharacterId, "West" )
						end
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V_Escape_West02") ) then
						if( routeNodeIndex >= 17 ) then
							
							commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, vehicleCharacterId, "West" )
						end
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V_Escape_East01") ) then
						if( routeNodeIndex >= 7 ) then
							
							commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Squad, vehicleCharacterId, "North" )
						end
					end
				end
			end
		end
	
	elseif( num == "VehicleEnd" ) then
		local VehicleGroupInfo			= TppData.GetArgument(2)
		local VehicleGroupInfoName		= VehicleGroupInfo.routeInfoName
		local vehicleCharacterId		= VehicleGroupInfo.vehicleCharacterId
		local VehicleGroupResult		= VehicleGroupInfo.result
		local VehicleGroupReason		= VehicleGroupInfo.reason
		local routeId					= VehicleGroupInfo.vehicleRouteId
		local routeNodeIndex			= VehicleGroupInfo.passedNodeIndex
		
		if( this.CounterList.ForceRoute_MTSquad == "OFF" ) then
			
			if( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_eastTent" ) then
				if( kill == 0 ) then
					if( VehicleGroupResult == "SUCCESS" ) then
						
						if( TppMission.GetFlag( "isMT_WaitVehicleRaid_eastTent" ) == false )  then
							commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_01_0002",	"e20020_route_MT00_00_0000_VS", -1 )
							TppMission.SetFlag( "isMT_WaitVehicleRaid_eastTent", true )
						
						else
							if( state ~= 5 )  then
								TppMission.SetFlag( "isMT_Squad_StateMove", 5 )
								TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
							end
						end
					else
						
						TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
						
						commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 		"e20020_route_MT00_00_0000_VSE",	"e20020_route_MT00_00_0000_VS", -1 )
					end
				end
			
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Asylum" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
					if( state ~= 6 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 6 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
				else
					
					TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
					
					commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
					commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,			"e20020_route_MT00_01_0000_VSE",	"e20020_route_MT00_01_0000_VS", -1 )
					commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 			"e20020_route_MT00_01_0000_VSE",	"e20020_route_MT00_01_0001_VS", -1 )
				end
			
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Heliport01" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
					if( state ~= 8 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 8 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
				else
					
					TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
					
					commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
					commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak, 			"e20020_route_MT00_02_0000_VSE", 	"e20020_route_MT00_02_0000_VS", -1 )
					commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 			"e20020_route_MT00_02_0000_VSE",	"e20020_route_MT00_02_0001_VS", -1 )
				end
			
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_wareHouse" ) then
				
				if( VehicleGroupResult == "SUCCESS" ) then
					if( state ~= 10 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 10 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
					end
				else
					
					TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
					
					commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
					commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak,			"e20020_route_MT00_03_0000_VSE", 	"e20020_route_MT00_03_0000_VS", -1 )
					commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 			"e20020_route_MT00_03_0000_VSE",	"e20020_route_MT00_03_0001_VS", -1 )
				end
			
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_westTent" ) then
				if( kill == 0 ) then
					
					if( VehicleGroupResult == "SUCCESS" ) then
						
						if( TppMission.GetFlag( "isMT_WaitVehicleRaid_westTent" ) == false )  then
							commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak,	"e20020_route_MT00_04_0003",		"e20020_route_MT00_04_0000_VS", -1 )
							TppMission.SetFlag( "isMT_WaitVehicleRaid_westTent", true )
						
						else
							if( state ~= 14 )  then
								TppMission.SetFlag( "isMT_Squad_StateMove", 14 )
								TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
							end
						end
					else
						
						TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
						
						commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,		this.RouteSet_Sneak,	"e20020_route_MT00_04_0000_VSE",	"e20020_route_MT00_04_0000_VS", -1 )
					end
				end
			
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Heliport02" ) then
				
				if( VehicleGroupResult == "SUCCESS" ) then
					if( state ~= 15 )  then
						TppMission.SetFlag( "isMT_Squad_StateMove", 15 )
						TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
						
						if( TppMission.GetFlag( "isMT_CenterKill" ) == 0 and TppMission.GetFlag( "isMT_Center_StateMove" ) == 8 and  TppMission.GetFlag( "isMT_Center_EastCenterMoveEnd" ) == true ) then
							TppMission.SetFlag( "isMT_Center_StateMove", 9 )
							TppTimer.Start( "Timer_MT_Center_StateMove_Init", 1 )
						end
					end
				else
					
					TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
					
					commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
					commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak, "e20020_route_MT00_04_0001_VSE", 	"e20020_route_MT00_04_0001_VS", -1 )
					commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, "e20020_route_MT00_04_0001_VSE",	"e20020_route_MT00_04_0002_VS", -1 )
				end
			
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Outside06" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( kill == 0 ) then
						commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_05_0000_VSE",	"e20020_route_MT00_07_0000_VS", -1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Squad,	this.RouteSet_Caution, 	"e20020_route_MT00_05_0000_Escape",	"e20020_route_MT00_05_0000_C", -1 )
						commonSetUniqueRouteChange( this.CharacterID_E_Squad,	this.RouteSet_Sneak, 	"e20020_route_MT00_05_0000_VSE",	"e20020_route_MT00_07_0001_VS", -1 )
						
						TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
					end
				end
			end
		
		else
			
			if( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Asylum" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( kill == 0 ) then
						commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
						if( VehicleGroupReason ~= "FAILED_TO_START" ) then
							if( routeId == GsRoute.GetRouteId("e20020_route_MT00_01_0000_V") ) then
								if( routeNodeIndex >= 10 ) then
									commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_03_0000_Escape",	"e20020_route_MT00_01_0000_Escape", -1 )
									commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_03_0000_Escape",	"e20020_route_MT00_01_0000_Escape", -1 )
									
									TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
								end
							elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V_Escape_East01") ) then
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_03_0000_Escape",	"e20020_route_MT00_01_0000_Escape", -1 )
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_03_0000_Escape",	"e20020_route_MT00_01_0000_Escape", -1 )
								
								TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
							end
						end
					end
				end
			
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Heliport01" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( kill == 0 ) then
						commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
						if( VehicleGroupReason ~= "FAILED_TO_START" ) then
							if( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V_Escape_West02") ) then
								commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_01_0000_Escape",	"e20020_route_MT00_02_0000_Escape", -1 )
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_01_0000_Escape",	"e20020_route_MT00_02_0000_Escape", -1 )
								
								TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
							else
								commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_04_0001_Escape",	"e20020_route_MT00_02_0000_Escape", -1 )
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_04_0001_Escape",	"e20020_route_MT00_02_0000_Escape", -1 )
								
								TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
							end
						end
					end
				end
			
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_wareHouse" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( kill == 0 ) then
						commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
						if( VehicleGroupReason ~= "FAILED_TO_START" ) then
							if( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V_Escape_West01") ) then
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_01_0000_Escape",	"e20020_route_MT00_03_0000_Escape", -1 )
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_01_0000_Escape",	"e20020_route_MT00_03_0000_Escape", -1 )
								
								TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
							end
						end
					end
				end
			
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Outside01" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( kill == 0 ) then
						if( VehicleGroupReason ~= "FAILED_TO_START" ) then
							commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
							commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_01_0000_Escape",	"e20020_route_MT00_00_0000_Escape", -1 )
							commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_01_0000_Escape",	"e20020_route_MT00_00_0000_Escape", -1 )
							
							TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
						end
					end
				end
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Outside02" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( kill == 0 ) then
						if( VehicleGroupReason ~= "FAILED_TO_START" ) then
							if( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V_Escape_West02") ) then
								commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_01_0000_Escape",	"e20020_route_MT00_02_0000_Escape", -1 )
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_01_0000_Escape",	"e20020_route_MT00_02_0000_Escape", -1 )
								
								TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
							else
								commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_04_0001_Escape",	"e20020_route_MT00_02_0000_Escape", -1 )
								commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_04_0001_Escape",	"e20020_route_MT00_02_0000_Escape", -1 )
								
								TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
							end
						end
					end
				end
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Outside03" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( kill == 0 ) then
						if( VehicleGroupReason ~= "FAILED_TO_START" ) then
							commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
							commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_04_0001_Escape",	"e20020_route_MT00_03_0000_Escape", -1 )
							commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_04_0001_Escape",	"e20020_route_MT00_03_0000_Escape", -1 )
							
							TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
						end
					end
				end
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Outside04" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( kill == 0 ) then
						if( VehicleGroupReason ~= "FAILED_TO_START" ) then
							commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
							commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_01_0000_Escape",	"e20020_route_MT00_04_0000_Escape", -1 )
							commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_01_0000_Escape",	"e20020_route_MT00_04_0000_Escape", -1 )
							
							TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
						end
					end
				end
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Outside05" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( kill == 0 ) then
						if( VehicleGroupReason ~= "FAILED_TO_START" ) then
							commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
							commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_04_0001_Escape",	"e20020_route_MT00_05_0000_Escape", -1 )
							commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_04_0001_Escape",	"e20020_route_MT00_05_0000_Escape", -1 )
							
							TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
						end
					end
				end
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Outside06" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( kill == 0 ) then
						if( VehicleGroupReason ~= "FAILED_TO_START" ) then
							commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
							commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Sneak, 	"e20020_route_MT00_04_0001_Escape",	"e20020_route_MT00_05_0000_Escape", -1 )
							commonSetUniqueRouteChange( this.CharacterID_MT_Squad, this.RouteSet_Caution,	"e20020_route_MT00_04_0001_Escape",	"e20020_route_MT00_05_0000_Escape", -1 )
							
							TppMission.SetFlag( "isMT_Squad_GroupVehicleFailed", true )
						end
					end
				end
			end
		end
	
	elseif( num == "Radio" ) then
		local CharacterId						= TppData.GetArgument(1)
		local aiStatus							= TppEnemyUtility.GetAiStatus( CharacterId )
		local routeId							= TppEnemyUtility.GetRouteId( CharacterId )
		local lifestatus						= TppEnemyUtility.GetLifeStatus( CharacterId )
		
		local Radio_MTSquad_SniperRifle			= "e0020_esrg0060"			
		local Radio_MTSquad_BuildingEscapeOne	= "e0020_esrg0080"			
		local Radio_MTSquad_BuildingEscapeTwo	= "e0020_esrg0081"			
		local Radio_MTSquad_OutsideEscapeTwo	= "e0020_esrg0120"			
		local Radio_MTSquad_OutsideEscapeOne	= "e0020_esrg0121"			
		local Radio_MTSquad_Conversation		= "e0020_esrg0030"			
		local Radio_MTSquad_Target				= "e0020_esrg0010"			
		local Radio_MTSquad_NoTarget			= "e0020_esrg0025"			
		
		if( aiStatus == "Conversation" ) then
			
			TppRadio.RegisterIntelRadio( CharacterId, Radio_MTSquad_Conversation, true )
		
		else
			
			if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == false ) then
				
				TppRadio.RegisterIntelRadio( CharacterId, Radio_MTSquad_NoTarget, true )
			
			else
				
				if( lifestatus == "Normal" ) then
					if( routeId == GsRoute.GetRouteId("e20020_route_MT00_03_0000") or routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0000") ) then
						
						TppRadio.RegisterIntelRadio( CharacterId, Radio_MTSquad_SniperRifle, true )
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_07_0000_VS") or
							routeId == GsRoute.GetRouteId("e20020_route_MT00_00_0000_Escape") or routeId == GsRoute.GetRouteId("e20020_route_MT00_01_0000_Escape") or routeId == GsRoute.GetRouteId("e20020_route_MT00_02_0000_Escape") or
							routeId == GsRoute.GetRouteId("e20020_route_MT00_03_0000_Escape") or routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0000_Escape") or routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0001_Escape") or
							routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_Escape") ) then
						if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
							
							TppRadio.RegisterIntelRadio( CharacterId, Radio_MTSquad_OutsideEscapeTwo, true )
						else
							
							TppRadio.RegisterIntelRadio( CharacterId, Radio_MTSquad_OutsideEscapeOne, true )
						end
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_00_0000_C") or routeId == GsRoute.GetRouteId("e20020_route_MT00_03_0000_C") or routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0000_C") or routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_C") ) then
						
						TppRadio.RegisterIntelRadio( CharacterId, Radio_MTSquad_BuildingEscapeOne, true )
					else
						
						TppRadio.RegisterIntelRadio( CharacterId, Radio_MTSquad_Target, true )
					end
				else
					
					TppRadio.RegisterIntelRadio( CharacterId, Radio_MTSquad_Target, true )
				end
			end
		end
	
	elseif( num == "ConversationEnd" ) then
		local ConversationEndCharacterID	= TppData.GetArgument(3)
		local ConversationEndName			= TppData.GetArgument(2)
		local ConversationFinsh				= TppData.GetArgument(4)
		if( ConversationEndCharacterID == this.CharacterID_MT_Squad ) then
			if( ConversationEndName == this.ConversationName_MT ) then
				commonPrint2D("ＭＴ会話終了", 2 )
			end
		end
	
	elseif( num == "Interrogation" ) then
		local CharacterID	= TppData.GetArgument(1)
		
		TppEnemyUtility.SetInterrogationCountAndUnsetDoneByCharacterId( CharacterID, 0 )
	
	else

	end
end


local commonMT_Center_ForceRouteMode = function( state )



	if( this.CounterList.ForceRoute_MTCenter == "OFF" ) then
		commonPrint2D("【開始】ＭＴ管理棟：ミッション圏外へ逃げる開始" , 1 )
		
		this.CounterList.ForceRoute_MTCenter = "ON"
		
		TppEnemyUtility.SetForceRouteMode( this.CharacterID_MT_Center, true )
		
		commonMTCenterRouteDisable( false, true )
		
		if( state >= 0 and state <= 7 )  then
			commonSetUniqueRouteChange( this.CharacterID_MT_Center, this.RouteSet_Sneak, 	"e20020_route_MT01_00_0000_Escape",			-1, 0 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Center, this.RouteSet_Caution,	"e20020_route_MT01_00_0000_Escape",			-1, 0 )
		else
			commonSetUniqueRouteChange( this.CharacterID_MT_Center, this.RouteSet_Sneak, 	"e20020_route_MT01_01_0000_Escape",			-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Center, this.RouteSet_Caution,	"e20020_route_MT01_01_0000_Escape",			-1, -1 )
		end
	end
end


local commonMT_Center_AreaMarkerTimeStart = function( num )
	if( num == 0 ) then
		TppTimer.Stop( "Timer_MT_Center_StateMove_MarkerOn" )
		TppTimer.Start( "Timer_MT_Center_StateMove_MarkerOn", this.Timer_MTCenter_AreaMarkerOn )
	else
		TppTimer.Stop( "Timer_MT_Center_StateMove_MarkerOff" )
		TppTimer.Start( "Timer_MT_Center_StateMove_MarkerOff", this.Timer_MTCenter_AreaMarkerOff )
	end
end


local commonMT_Center_DisableIntelRadio = function( AllDisableFlag )



	
	if( this.CounterList.IntelRadioBuilding_MTCenter == true or AllDisableFlag == true ) then
		TppRadio.DisableIntelRadio( "intel_e0020_esrg0080a_a" )
		TppRadio.DisableIntelRadio( "intel_e0020_esrg0080a_b" )
		TppRadio.DisableIntelRadio( "intel_e0020_esrg0081" )
		this.CounterList.IntelRadioBuilding_MTCenter = false
	end
end


local commonMT_Center_StateMove = function( num, manager )
		  manager		= manager or 0
	local isAlert		= false
	local setup			= false
	local sequence		= TppSequence.GetCurrentSequence()
	local phase			= TppCharacterUtility.GetCpPhaseName( this.cpID )
	local state			= TppMission.GetFlag( "isMT_Center_StateMove" )
	local kill			= TppMission.GetFlag( "isMT_CenterKill" )
	
	if( num == "Init" or num == "CheckPoint" or num == "SequenceSkip" or num == "MTSquadDead" or num == "Lost" ) then
		
		
		
		if( kill == 0 )  then
			
			if( this.CounterList.ForceRoute_MTCenter == "OFF" ) then
				
				if( num == "Init" ) then
					commonMTCenter_GuardTarget()
				
				elseif( num == "CheckPoint" ) then
					if( TppMission.GetFlag( "isAlert" ) == true  or TppMission.GetFlag( "isKeepCaution" ) == true or TppMission.GetFlag( "isMT_Center_GroupVehicleFailed" ) == true )  then
						
						TppEnemyUtility.SetForceRouteMode( this.CharacterID_MT_Center, false )
						
						TppMission.SetFlag( "isMT_Center_GroupVehicleFailed", false )
						
						commonMTCenterRouteDisable( false, true )
						
						num = "CheckPointInit"
					end
					
					if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
						
						if( TppMission.GetFlag( "isMT_Squad_StateMove" ) == 4 or TppMission.GetFlag( "isMT_Squad_StateMove" ) == 5 ) then
							if( state ~= 0 ) then
								TppMission.SetFlag( "isMT_Center_StateMove", 0 )
								state = TppMission.GetFlag( "isMT_Center_StateMove" )
								setup = true
							end
						end
					end
				
				elseif( num == "MTSquadDead" ) then
					if( state ~= 8 ) then
						TppTimer.Stop( "Timer_MT_Center_StateMove_Timer" )
					end
				end
				
				if( state == 0 ) then
					commonPrint2D("【開始】ＭＴ管理棟：管理棟に待機" , 1 )
					if( num == "CheckPoint" ) then
						if( setup == true ) then
							
							commonMTCenterRouteDisable( true, false )
							
							num = "Init"
						end
					end
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonSetUniqueRouteChange( this.CharacterID_MT_Center, 	this.RouteSet_Sneak, 			"e20020_route_MT01_00_0000",		-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_00_0000_C",		-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_00_0001",		-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_00_0000_EC",		-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_00_0002",		-1, 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_00_0001_EC",		-1, 0 )
					end
					
					if( num == "MTSquadDead" or sequence == "Seq_Waiting_KillMT_Center" ) then
						commonPrint2D("【開始】ＭＴ管理棟：ＭＴ倉庫いないので別行動開始" , 1 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Timer", this.Timer_MTCetner_ControlTower )
					end
				
				elseif( state == 1 ) then
					commonPrint2D("【開始】ＭＴ管理棟：西側管理棟から移動開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonSetUniqueRouteChange( this.CharacterID_MT_Center, 	this.RouteSet_Sneak, 			"e20020_route_MT01_01_0000_S",		"e20020_route_MT01_00_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center, 	this.RouteSet_Caution,			"e20020_route_MT01_01_0000_C",		"e20020_route_MT01_00_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_01_0001_S",		"e20020_route_MT01_00_0001", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_01_0000_EC",		"e20020_route_MT01_00_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_01_0002_S",		"e20020_route_MT01_00_0002", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_01_0001_EC",		"e20020_route_MT01_00_0001_EC", 0 )
					end
				
				elseif( state == 2 ) then
					commonPrint2D("【開始】ＭＴ管理棟：西側管理棟巡回開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_02_0000_S",		"e20020_route_MT01_01_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_01_0000_C",		"e20020_route_MT01_01_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_02_0000_S",		"e20020_route_MT01_01_0001_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_01_0000_EC",		"e20020_route_MT01_01_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_02_0000_S",		"e20020_route_MT01_01_0002_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_01_0001_EC",		"e20020_route_MT01_01_0001_EC", 0 )
					end
					
					if( num == "MTSquadDead" or sequence == "Seq_Waiting_KillMT_Center" ) then
						commonPrint2D("【開始】ＭＴ管理棟：ＭＴ倉庫いないので別行動開始" , 1 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Timer", this.Timer_MTCetner_WestCenter )
					end
				
				elseif( state == 3 ) then
					commonPrint2D("【開始】ＭＴ管理棟：管理棟へ移動開始：" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_03_0000_S",		"e20020_route_MT01_02_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_00_0000_C",		"e20020_route_MT01_01_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_03_0001_S",		"e20020_route_MT01_02_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_00_0000_EC",		"e20020_route_MT01_01_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_03_0002_S",		"e20020_route_MT01_02_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_00_0000_EC",		"e20020_route_MT01_01_0001_EC", 0 )
					end
				
				elseif( state == 4 ) then
					commonPrint2D("【開始】ＭＴ管理棟：管理棟巡回開始：ヘリポート櫓側" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_04_0000",		"e20020_route_MT01_03_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_00_0000_C",		"e20020_route_MT01_00_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_04_0001",		"e20020_route_MT01_03_0001_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_00_0000_EC",		"e20020_route_MT01_00_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_04_0002",		"e20020_route_MT01_03_0002_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_00_0001_EC",		"e20020_route_MT01_00_0001_EC", 0 )
					end
					
					if( num == "MTSquadDead" or sequence == "Seq_Waiting_KillMT_Center" ) then
						commonPrint2D("【開始】ＭＴ管理棟：ＭＴ倉庫いないので別行動開始" , 1 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Timer", this.Timer_MTCetner_ControlTower )
					end
				
				elseif( state == 5 ) then
					commonPrint2D("【開始】ＭＴ管理棟：管理棟巡回開始：倉庫櫓側" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_05_0000",		"e20020_route_MT01_04_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_00_0000_C",		"e20020_route_MT01_00_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_05_0001",		"e20020_route_MT01_04_0001", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_00_0000_EC",		"e20020_route_MT01_00_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_05_0002",		"e20020_route_MT01_04_0002", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_00_0001_EC",		"e20020_route_MT01_00_0001_EC", 0 )
					end
					
					if( num == "MTSquadDead" or sequence == "Seq_Waiting_KillMT_Center" ) then
						commonPrint2D("【開始】ＭＴ管理棟：ＭＴ倉庫いないので別行動開始" , 1 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Timer", this.Timer_MTCetner_ControlTower )
					end
				
				elseif( state == 6 ) then
					commonPrint2D("【開始】ＭＴ管理棟：西側管理棟へ移動開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_06_0000_S",		"e20020_route_MT01_05_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_01_0000_C",		"e20020_route_MT01_00_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_06_0001_S",		"e20020_route_MT01_05_0001", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_01_0000_EC",		"e20020_route_MT01_00_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_06_0002_S",		"e20020_route_MT01_05_0002", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_01_0001_EC",		"e20020_route_MT01_00_0001_EC", 0 )
					end
				
				elseif( state == 7 ) then
					commonPrint2D("【開始】ＭＴ管理棟：ボイラー室巡回開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_07_0000_S",		"e20020_route_MT01_06_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_02_0000_C",		"e20020_route_MT01_01_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_07_0000_S",		"e20020_route_MT01_06_0001_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_02_0000_EC",		"e20020_route_MT01_01_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_07_0000_S",		"e20020_route_MT01_06_0002_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_02_0001_EC",		"e20020_route_MT01_01_0001_EC", 0 )
					end
					if( num == "CheckPoint" ) then
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0019" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0020" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center01_0000" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center02_0000" )
					end
				
				elseif( state == 8 ) then
					commonPrint2D("【開始】ＭＴ管理棟：東側管理棟巡回開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_08_0000_S",		"e20020_route_MT01_07_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_03_0000_C",		"e20020_route_MT01_02_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_08_0000_S",		"e20020_route_MT01_07_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_03_0000_EC",		"e20020_route_MT01_02_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_08_0000_S",		"e20020_route_MT01_07_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_03_0001_EC",		"e20020_route_MT01_02_0001_EC", 0 )
						if( num == "Init" ) then
							
							commonSetTimeRouteChage( 15,															"e20020_route_MT01_08_0000",		"gntn_common_d01_route0016" )
						else
							commonSetTimeRouteChage(  0,															"e20020_route_MT01_08_0000",		"gntn_common_d01_route0016" )
						end
					end
					if( num == "CheckPoint" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0019" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0020" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center01_0000" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center02_0000" )
					end
					if( num ~= "MTSquadDead" ) then
						commonPrint2D("東側管理棟巡回タイマースタート" , 0 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Timer", this.Timer_MTCetner_EastCenter )
					end
				
				elseif( state == 9 ) then
					commonPrint2D("【開始】ＭＴ管理棟：ＭＴ倉庫と合流する為ヘリポート前で移動開始" , 1 )
					commonMT_Center_AreaMarkerTimeStart( 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit") then
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_09_0000_S",		"e20020_route_MT01_08_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_04_0000_C",		"e20020_route_MT01_03_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_09_0000_S",		"e20020_route_MT01_08_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_04_0000_EC",		"e20020_route_MT01_03_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_09_0000_S",		"e20020_route_MT01_08_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_04_0001_EC",		"e20020_route_MT01_03_0001_EC", 0 )
					end
					if( num == "CheckPoint" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0019" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0020" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center01_0000" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center02_0000" )
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0016" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_08_0000" )
					end
				
				elseif( state == 10 ) then
					commonPrint2D("【開始】ＭＴ管理棟：ヘリポート前で到着" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Center_AreaMarkerTimeStart( 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_10_0000",		"e20020_route_MT01_09_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_04_0000_C",		"e20020_route_MT01_04_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_10_0001",		"e20020_route_MT01_09_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_04_0000_EC",		"e20020_route_MT01_04_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_10_0002",		"e20020_route_MT01_09_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_04_0001_EC",		"e20020_route_MT01_04_0001_EC", 0 )
						if( num == "Init" ) then
							
							commonSetTimeRouteChage( 15,															"gntn_common_d01_route0016",		"e20020_route_MT01_08_0000" )
						else
							commonSetTimeRouteChage(  0,															"gntn_common_d01_route0016",		"e20020_route_MT01_08_0000" )
						end
					end
					if( num == "CheckPoint" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0019" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0020" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center01_0000" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center02_0000" )
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0016" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_08_0000" )
					end
					
					if( num ~= "MTSquadDead" ) then
						TppTimer.Start( "Timer_MT_Center_StateMove_Timer", this.Timer_MTCenter_Heliport_Conversation )
					end
				
				elseif( state == 11 ) then
					commonPrint2D("【開始】ＭＴ管理棟：会話開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Center_AreaMarkerTimeStart( 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_11_0000",		"e20020_route_MT01_10_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_04_0000_C",		"e20020_route_MT01_04_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_10_0001",		"e20020_route_MT01_09_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_04_0000_EC",		"e20020_route_MT01_04_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_10_0002",		"e20020_route_MT01_09_0000_S", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_04_0001_EC",		"e20020_route_MT01_04_0001_EC", 0 )
						
						TppTimer.Stop( "Timer_MT_Center_StateMove_Timer" )
					end
					if( num == "CheckPoint" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0019" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0020" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center01_0000" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center02_0000" )
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0016" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_08_0000" )
					end
				
				elseif( state == 12 ) then
					commonPrint2D("【開始】ＭＴ管理棟：ミッション圏外へ移動開始（ビークル）" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Center_AreaMarkerTimeStart( 1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_12_0000_VS",		"e20020_route_MT01_11_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_04_0000_C",		"e20020_route_MT01_04_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_12_0001_VS",		"e20020_route_MT01_10_0001", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_04_0000_EC",		"e20020_route_MT01_04_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_12_0002_VS",		"e20020_route_MT01_10_0002", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_04_0001_EC",		"e20020_route_MT01_04_0001_EC", 0 )
					end
					if( kill == 0 )  then
						
						commonRegisterOptionalRadioSetup( true, false )
					end
					if( num == "CheckPoint" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0019" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0020" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center01_0000" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center02_0000" )
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0016" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_08_0000" )
					end
				
				elseif( state == 20 ) then
					commonPrint2D("【開始】ＭＴ管理棟：ＭＴ倉庫が来ないので付き添いと会話開始" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Center_AreaMarkerTimeStart( 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_10_0000_Con",	"e20020_route_MT01_10_0000", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_04_0000_C",		"e20020_route_MT01_04_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_10_0001_Con",	"e20020_route_MT01_10_0001", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_04_0000_EC",		"e20020_route_MT01_04_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_10_0002_Con",	"e20020_route_MT01_10_0002", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_04_0001_EC",		"e20020_route_MT01_04_0001_EC", 0 )
					end
					if( num == "CheckPoint" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0019" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0020" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center01_0000" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center02_0000" )
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0016" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_08_0000" )
					end
				
				elseif( state == 21 ) then
					commonPrint2D("【開始】ＭＴ管理棟：ミッション圏外へ移動開始※ＭＴ倉庫なし" , 1 )
					if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						commonMT_Center_AreaMarkerTimeStart( 1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,			"e20020_route_MT01_12_0000_VS",		"e20020_route_MT01_10_0000_Con", 0 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,			"e20020_route_MT01_04_0000_C",		"e20020_route_MT01_04_0000_C", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 			"e20020_route_MT01_12_0001_VS",		"e20020_route_MT01_10_0001_Con", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution,			"e20020_route_MT01_04_0000_EC",		"e20020_route_MT01_04_0000_EC", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 			"e20020_route_MT01_12_0002_VS",		"e20020_route_MT01_10_0002_Con", 0 )
						commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution,			"e20020_route_MT01_04_0001_EC",		"e20020_route_MT01_04_0001_EC", 0 )
					end
					if( num == "CheckPoint" or num == "SequenceSkip" or num == "CheckPointInit" ) then
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0019" )
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0020" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center01_0000" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_Center02_0000" )
						
						TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0016" )
						TppEnemy.DisableRoute( this.cpID, "e20020_route_MT01_08_0000" )
					end
				end
			end
		
		
		
		else
			commonPrint2D("【開始】ＭＴ管理棟：死亡の為、敵兵別行動開始" , 1 )
			
			commonMTCenterRouteDisable( false, true )
			commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak, 		"e20020_route_MT01_00_0000",		-1, 0 )
			commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution, 		"e20020_route_MT01_00_0000_C",		-1, 0 )
			commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 		"e20020_route_MT01_00_0000_DE",		-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Caution, 		"e20020_route_MT01_00_0000_DEC",	-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Sneak, 		"e20020_route_MT01_00_0001_DE",		-1, -1 )
			commonSetUniqueRouteChange( this.CharacterID_E_Center02,	this.RouteSet_Caution, 		"e20020_route_MT01_00_0001_DEC",	-1, -1 )
		end
	
	elseif( num == "Sneak" ) then
		if( kill == 0 )  then
			
			TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
		else
			
			TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
		end
	
	elseif( num == "Caution" ) then
		
		TppTimer.Stop( "Timer_MT_Center_StateMove_Timer" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_Init" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_MarkerOn" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_MarkerOff" )
		if( kill ~= 0 )  then
			
			TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
		end
	
	elseif( num == "KeepCaution" ) then
		
		TppTimer.Stop( "Timer_MT_Squad_StateMove_Timer" )
		TppTimer.Stop( "Timer_MT_Squad_StateMove_Init" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_MarkerOn" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_MarkerOff" )
		if( kill == 0 )  then
			
			commonMT_Center_ForceRouteMode( state )
		end
	
	elseif( num == "Evasion" ) then
		
		TppTimer.Stop( "Timer_MT_Center_StateMove_Timer" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_Init" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_MarkerOn" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_MarkerOff" )
		if( kill ~= 0 )  then
			
			TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
		end
	
	elseif( num == "Alert" ) then
		
		TppTimer.Stop( "Timer_MT_Center_StateMove_Timer" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_Init" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_MarkerOn" )
		TppTimer.Stop( "Timer_MT_Center_StateMove_MarkerOff" )
		if( kill == 0 )  then
			
			commonMT_Center_ForceRouteMode( state )
		end
	
	elseif( num == "Trap" ) then
	
	elseif( num == "Timer" ) then
		if( phase == "Sneak" ) then
			if( kill == 0 )  then
				
				if( state == 0 )  then
					TppMission.SetFlag( "isMT_Center_StateMove", 1 )
					TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
				
				elseif( state == 2 )  then
					TppMission.SetFlag( "isMT_Center_StateMove", 7 )
					TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					
					commonMTCenterRouteDisable( true, false )
				
				elseif( state == 4 or state == 5 ) then
					TppMission.SetFlag( "isMT_Center_StateMove", 6 )
					TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					
					commonMTCenterRouteDisable( true, false )
				
				elseif( state == 8 )  then
					TppMission.SetFlag( "isMT_Center_StateMove", 9 )
					TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					
					TppMission.SetFlag( "isMT_Center_EastCenterMoveEnd", true )
				
				elseif( state == 10 )  then
					if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 ) then
						if( TppMission.GetFlag( "isMT_Squad_StateMove" ) == 15 ) then
							TppMission.SetFlag( "isMT_Center_StateMove", 11 )
							TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
						end
					else
						TppMission.SetFlag( "isMT_Center_StateMove", 20 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					end
				end
			end
		end
	
	elseif( num == "Kill" ) then
		if( kill == 0 )  then
			TppMission.SetFlag( "isMT_CenterKill", 1 )
			TppRadio.DisableIntelRadio( this.CharacterID_MT_Center )
			
			TppTimer.Stop("Timer_MT_Center_StateMove_Timer")
			TppTimer.Stop("Timer_MT_Center_StateMove_Init")
			
			TppTimer.Start( "Timer_MT_Center_StateMove_Lost", this.Timer_MTCenter_DeadLost )
			
			TppTimer.Start( "Timer_MT_Center_StateMove_Dead", 0 )
			
			TppRadio.DisableIntelRadio( this.CharacterID_MT_Center )
			
			this.CounterList.ForceRoute_MTCenter = "OFF"
		end
	
	elseif( num == "Recovery" ) then
		if( kill == 0 )  then
			TppMission.SetFlag( "isMT_CenterKill", 2 )
			
			TppTimer.Stop("Timer_MT_Center_StateMove_Timer")
			TppTimer.Stop("Timer_MT_Center_StateMove_Init")
			
			TppTimer.Start( "Timer_MT_Center_StateMove_Lost", this.Timer_MTCenter_DeadLost )
			
			TppTimer.Start( "Timer_MT_Center_StateMove_Dead", 0 )
			
			TppRadio.DisableIntelRadio( this.CharacterID_MT_Center )
			
			this.CounterList.ForceRoute_MTCenter = "OFF"
		end
	
	elseif( num == "RoutePoint" ) then
		local routeId					= TppData.GetArgument(3)
		local routeNodeIndex			= TppData.GetArgument(1)
		
		if( this.CounterList.ForceRoute_MTCenter == "OFF" ) then
			
			
			if( routeId == GsRoute.GetRouteId("e20020_route_MT01_01_0000_S") ) then
				if( routeNodeIndex >= 7 ) then
					if( state ~= 2 )  then
						TppMission.SetFlag( "isMT_Center_StateMove", 2 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_03_0000_S") ) then
				if( routeNodeIndex >= 7 ) then
					if( state ~= 4 )  then
						TppMission.SetFlag( "isMT_Center_StateMove", 4 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_06_0000_S") ) then
				if( routeNodeIndex >= 7 ) then
					if( state ~= 7 )  then
						TppMission.SetFlag( "isMT_Center_StateMove", 7 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_07_0000_S") ) then
				if( routeNodeIndex == 2 ) then
					commonPrint2D("【開始】ＭＴ管理棟：西側管理棟にいる共通敵兵を共通ルートへ変更" , 1 )
					commonSetTimeRouteChage(  3, 														"gntn_common_d01_route0019",		"e20020_route_Center01_0000" )
					commonSetTimeRouteChage(  5, 														"gntn_common_d01_route0020",		"e20020_route_Center02_0000" )
				elseif( routeNodeIndex >= 13 ) then
					if( state ~= 8 )  then
						TppMission.SetFlag( "isMT_Center_StateMove", 8 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_09_0000_S") ) then
				if( routeNodeIndex >= 3 ) then
					if( state ~= 10 )  then
						TppMission.SetFlag( "isMT_Center_StateMove", 10 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_10_0000") ) then
				if( routeNodeIndex == 1 ) then
					
					if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 ) then
						
						if( TppMission.GetFlag( "isMT_Squad_StateMove" ) == 15 ) then
							if( state ~= 11 )  then
								TppMission.SetFlag( "isMT_Center_StateMove", 11 )
								TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
								TppMission.SetFlag( "isMT_Squad_StateMove", 16 )
								TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 0 )
							end
						end
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_10_0000_Con") ) then
				if( routeNodeIndex >= 0 ) then
					if( state ~= 21 )  then
						TppMission.SetFlag( "isMT_Center_StateMove", 21 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_11_0000") ) then
				if( routeNodeIndex >= 1 ) then
					if( state ~= 12 )  then
						TppMission.SetFlag( "isMT_Center_StateMove", 12 )
						TppTimer.Start( "Timer_MT_Center_StateMove_Init", 0 )
						
						if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 ) then
							TppMission.SetFlag( "isMT_Squad_StateMove", 17 )
							TppTimer.Start( "Timer_MT_Squad_StateMove_Init", 1 )
						end
					end
				end
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_13_0000_S") ) then
				if( routeNodeIndex >= 10 ) then
					
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Center, "NoRide", "North" )
				end
			
			
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_01_0000_C") ) then
				if( routeNodeIndex >= 1 ) then
					commonMissionTargetMarkerOFF( this.CharacterID_MT_Center, true, "intel_e0020_esrg0080a_a" )
				end
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_04_0000_C") ) then
				if( routeNodeIndex >= 1 ) then
					commonMissionTargetMarkerOFF( this.CharacterID_MT_Center, true, "intel_e0020_esrg0080a_b" )
				end
			end
		else
			
			
			if( routeId == GsRoute.GetRouteId("e20020_route_MT01_00_0000_Escape") ) then
				if( routeNodeIndex >= 17 ) then
					
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Center, "NoRide", "North" )
				end
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_01_0000_Escape") ) then
				if( routeNodeIndex >= 12 ) then
					
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Center, "NoRide", "North" )
				end
			elseif( routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0001_Escape") ) then
				if( routeNodeIndex >= 3 ) then
					
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Center, "NoRide", "North" )
				end
			end
		end
	
	elseif( num == "VehicleRoutePoint" ) then
		local VehicleGroupInfo		= TppData.GetArgument(2)
		local vehicleCharacterId	= VehicleGroupInfo.vehicleCharacterId
		local characterIds			= VehicleGroupInfo.memberCharacterIds
		local routeId				= VehicleGroupInfo.vehicleRouteId
		local routeNodeIndex		= VehicleGroupInfo.passedNodeIndex
		local TargetLaioOnVehicle	= false
		
		if( this.CounterList.ForceRoute_MTCenter == "OFF" ) then
			
			if( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V") ) then
				if( routeNodeIndex >= 9 ) then
					
					commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Center, vehicleCharacterId, "North" )
				end
			end
		else
			if( kill == 0 )  then
				
				for i, memberCharacterId in ipairs( VehicleGroupInfo.memberCharacterIds ) do
					if( memberCharacterId == this.CharacterID_MT_Center and TargetLaioOnVehicle == false ) then
						TargetLaioOnVehicle = true
					end
				end
				
				if( TargetLaioOnVehicle == true ) then
					
					if( routeId == GsRoute.GetRouteId("e20020_route_MT00_05_0000_V") ) then
						if( routeNodeIndex >= 9 ) then
							
							commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Center, vehicleCharacterId, "North" )
						end
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_00_0000_V_Escape02") ) then
						if( routeNodeIndex >= 9 ) then
							
							commonMissionFailedMTEscapeMissionArea( this.CharacterID_MT_Center, vehicleCharacterId, "North" )
						end
					end
				end
			end
		end
	
	elseif( num == "VehicleEnd" ) then
		local VehicleGroupInfo			= TppData.GetArgument(2)
		local vehicleCharacterId		= VehicleGroupInfo.vehicleCharacterId
		local VehicleGroupInfoName		= VehicleGroupInfo.routeInfoName
		local VehicleGroupResult		= VehicleGroupInfo.result
		local VehicleGroupReason		= VehicleGroupInfo.reason
		
		if( this.CounterList.ForceRoute_MTCenter == "OFF" ) then
			
			if( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Outside06" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
					commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Sneak,	"e20020_route_MT01_13_0000_S",		"e20020_route_MT01_12_0000_VS", -1 )
					commonSetUniqueRouteChange( this.CharacterID_MT_Center,		this.RouteSet_Caution,	"e20020_route_MT01_00_0000_Escape",	"e20020_route_MT01_04_0000_C", -1 )
					commonSetUniqueRouteChange( this.CharacterID_E_Center01,	this.RouteSet_Sneak, 	"e20020_route_MT01_13_0000_S",		"e20020_route_MT01_12_0001_VS", -1 )
					
					TppMission.SetFlag( "isMT_Center_GroupVehicleFailed", true )
				end
			end
		
		else
			
			if( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT00_to_Outside06" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
					if( VehicleGroupReason == "FAILED_TO_NAVIGATION" ) then
						commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center, this.RouteSet_Sneak, 	"e20020_route_MT01_00_0000_Escape",	"e20020_route_MT01_01_0000_Escape", -1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center, this.RouteSet_Caution,	"e20020_route_MT01_00_0000_Escape",	"e20020_route_MT01_01_0000_Escape", -1 )
						
						TppMission.SetFlag( "isMT_Center_GroupVehicleFailed", true )
					end
				end
			
			elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_VehicleMT01_to_Outside" ) then
				if( VehicleGroupResult == "SUCCESS" ) then
					
				else
					if( VehicleGroupReason == "FAILED_TO_NAVIGATION" ) then
						commonPrint2D("ＭＴ車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center, this.RouteSet_Sneak, 	"e20020_route_MT01_01_0000_Escape",	"e20020_route_MT01_00_0000_Escape", -1 )
						commonSetUniqueRouteChange( this.CharacterID_MT_Center, this.RouteSet_Caution,	"e20020_route_MT01_01_0000_Escape",	"e20020_route_MT01_00_0000_Escape", -1 )
						
						TppMission.SetFlag( "isMT_Center_GroupVehicleFailed", true )
					end
				end
			end
		end
	
	elseif( num == "Radio" ) then
		local CharacterId						= TppData.GetArgument(1)
		local aiStatus							= TppEnemyUtility.GetAiStatus( CharacterId )
		local routeId							= TppEnemyUtility.GetRouteId( CharacterId )
		local lifestatus						= TppEnemyUtility.GetLifeStatus( CharacterId )
		
		local Radio_MTCenter_SniperRifle		= "e0020_esrg0060"			
		local Radio_MTCenter_BuildingEscapeOne	= "e0020_esrg0080"			
		local Radio_MTCenter_BuildingEscapeTwo	= "e0020_esrg0081"			
		local Radio_MTCenter_OutsideEscapeTwo	= "e0020_esrg0120"			
		local Radio_MTCenter_OutsideEscapeOne	= "e0020_esrg0121"			
		local Radio_MTCenter_Conversation		= "e0020_esrg0030"			
		local Radio_MTCenter_Target				= "e0020_esrg0010"			
		local Radio_MTCenter_NoTarget			= "e0020_esrg0025"			
		
		if( aiStatus == "Conversation" ) then
			
			TppRadio.RegisterIntelRadio( CharacterId, Radio_MTCenter_Conversation, true )
		
		else
			
			if( TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == false ) then
				
				TppRadio.RegisterIntelRadio( CharacterId, Radio_MTCenter_NoTarget, true )
			
			else
				
				if( lifestatus == "Normal" ) then
					if( routeId == GsRoute.GetRouteId("e20020_route_MT01_00_0000") or routeId == GsRoute.GetRouteId("e20020_route_MT01_04_0000") or routeId == GsRoute.GetRouteId("e20020_route_MT01_05_0000") ) then
						
						TppRadio.RegisterIntelRadio( CharacterId, Radio_MTCenter_SniperRifle, true )
					elseif( routeId ==	GsRoute.GetRouteId("e20020_route_MT01_12_0000_VS") or routeId ==  GsRoute.GetRouteId("e20020_route_MT01_13_0000_S") ) then
						if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
							
							TppRadio.RegisterIntelRadio( CharacterId, Radio_MTCenter_OutsideEscapeTwo, true )
						else
							
							TppRadio.RegisterIntelRadio( CharacterId, Radio_MTCenter_OutsideEscapeOne, true )
						end
					
					elseif( routeId == GsRoute.GetRouteId("e20020_route_MT01_01_0000_C") or routeId == GsRoute.GetRouteId("e20020_route_MT01_02_0000_C") or routeId == GsRoute.GetRouteId("e20020_route_MT00_04_0000_C") or routeId == GsRoute.GetRouteId("e20020_route_MT01_06_0000_C") or
							routeId == GsRoute.GetRouteId("e20020_route_MT01_08_0000_C") or routeId == GsRoute.GetRouteId("e20020_route_MT01_09_0000_C") or routeId == GsRoute.GetRouteId("e20020_route_MT00_10_0000_C") or routeId == GsRoute.GetRouteId("e20020_route_MT01_11_0000_C") or
							routeId == GsRoute.GetRouteId("e20020_route_MT01_12_0000_C") or routeId == GsRoute.GetRouteId("e20020_route_MT01_13_0000_C")
							) then
						
						TppRadio.RegisterIntelRadio( CharacterId, Radio_MTCenter_BuildingEscapeOne, true )
					
					else
						
						TppRadio.RegisterIntelRadio( CharacterId, Radio_MTCenter_Target, true )
					end
				else
					
					TppRadio.RegisterIntelRadio( CharacterId, Radio_MTCenter_Target, true )
				end
			end
		end
	
	elseif( num == "ConversationEnd" ) then
		local ConversationEndCharacterID	= TppData.GetArgument(3)
		local ConversationEndName			= TppData.GetArgument(2)
		local ConversationFinsh				= TppData.GetArgument(4)
		if( ConversationEndCharacterID == this.CharacterID_MT_Center ) then
			if( ConversationEndName == this.ConversationName_MT ) then
				commonPrint2D("ＭＴ会話終了", 2 )
			end
		end
	
	elseif( num == "Interrogation" ) then
		local CharacterID	= TppData.GetArgument(1)
		
		TppEnemyUtility.SetInterrogationCountAndUnsetDoneByCharacterId( CharacterID, 0 )
	
	else

	end
end


local commonEnemy_Vehicle_StateMove = function( num, manager )
		  manager		= manager or 0
	local sequence		= TppSequence.GetCurrentSequence()
	local phase			= TppCharacterUtility.GetCpPhaseName( this.cpID )
	local state			= TppMission.GetFlag( "isEnemy_Vehicle_StateMove" )
	
	if( num == "Init" or num == "CheckPoint" or num == "SequenceSkip" ) then
		
		
		if( num == "CheckPoint" ) then
			
			if( state == 1 ) then
				TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 2 )
				state = TppMission.GetFlag( "isEnemy_Vehicle_StateMove" )
				num = "CheckPointInit"
			end
		end
		if( state == 0 )  then
			commonPrint2D("【開始】ビークル兵待機" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				if( num == "Init" ) then
					commonEnemyVehicleRouteDisable( false, true, true )
				else
					commonEnemyVehicleRouteDisable( false, true, false )
				end
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01,		this.RouteSet_Sneak,		"e20020_route_Vehicle00_0000",			-1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01,		this.RouteSet_Caution,		"e20020_route_Vehicle00_0000",			-1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle02,		this.RouteSet_Sneak,		"e20020_route_Vehicle01_0000",			-1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle02,		this.RouteSet_Caution,		"e20020_route_Vehicle01_0000",			-1, 0 )
			end
		
		elseif( state == 1 )  then
			commonPrint2D("【開始】ビークル兵移動開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				if( num == "Init" ) then
					commonEnemyVehicleRouteDisable( false, true, true )
				else
					commonEnemyVehicleRouteDisable( false, true, false )
				end
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01,		this.RouteSet_Sneak,		"e20020_route_Vehicle00_0000_VS",		 "e20020_route_Vehicle00_0000", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01,		this.RouteSet_Caution,		"e20020_route_Vehicle00_0000_VS",		 "e20020_route_Vehicle00_0000", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle02,		this.RouteSet_Sneak,		"e20020_route_Vehicle01_0000_VS",		 "e20020_route_Vehicle01_0000", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle02,		this.RouteSet_Caution,		"e20020_route_Vehicle01_0000_VS",		 "e20020_route_Vehicle01_0000", 0 )
			end
		
		elseif( state == 2 )  then
			commonPrint2D("【開始】ビークル兵収容施設移動開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" or num == "CheckPointInit" ) then
				if( num == "Init" or num == "CheckPointInit" ) then
					commonEnemyVehicleRouteDisable( false, true, true )
				else
					commonEnemyVehicleRouteDisable( false, true, false )
				end
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01,		this.RouteSet_Sneak,		"e20020_route_Vehicle00_0001",			"e20020_route_Vehicle00_0000_VS", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01,		this.RouteSet_Caution,		"e20020_route_Vehicle00_0001_C",		"e20020_route_Vehicle00_0000_VS", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle02,		this.RouteSet_Sneak,		"e20020_route_Vehicle01_0001",			"e20020_route_Vehicle01_0000_VS", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle02,		this.RouteSet_Caution,		"gntn_common_c01_route0001",			"e20020_route_Vehicle01_0000_VS", 0 )
			end
			if( num == "CheckPoint" or num == "CheckPointInit" ) then
				TppEnemy.DisableRoute( this.cpID, "gntn_common_d01_route0001" )
				TppEnemy.EnableRoute( this.cpID, "e20020_route_Asylum00_0000" )
			end
		
		elseif( state == 3 )  then
			commonPrint2D("【開始】ビークル兵ミッション圏外へ移動開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				if( num == "Init" ) then
					commonEnemyVehicleRouteDisable( false, true, true )
				else
					commonEnemyVehicleRouteDisable( false, true, false )
					
					TppEnemy.EnableRoute( this.cpID, "e20020_route_Vehicle01_0002" )
					
					TppEnemy.EnableRoute( this.cpID, "gntn_common_c01_route0001" )
				end
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, 	this.RouteSet_Sneak,			"e20020_route_Vehicle00_0001_VS",		"e20020_route_Vehicle00_0001", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, 	this.RouteSet_Caution,			"e20020_route_Vehicle00_0001_VS",		"e20020_route_Vehicle00_0001", 0 )
			end
		
		elseif( state == 4 )  then
			commonPrint2D("【開始】ビークル兵ミッション圏外へ到着（ビークル）" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				if( num == "Init" ) then
					commonEnemyVehicleRouteDisable( false, true, true )
				else
					commonEnemyVehicleRouteDisable( false, true, false )
					
					TppEnemy.EnableRoute( this.cpID, "e20020_route_Vehicle01_0002" )
					
					TppEnemy.EnableRoute( this.cpID, "gntn_common_c01_route0001" )
				end
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, 	this.RouteSet_Sneak,			 "e20020_route_Vehicle00_0000",			"e20020_route_Vehicle00_0001_VS", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, 	this.RouteSet_Caution,			 "e20020_route_Vehicle00_0000",			"e20020_route_Vehicle00_0001_VS", 0 )
			end
			
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Vehicle01, false )
			
			if( num == "Init" ) then
				commonDisableStateMoveVehicle( this.CounterList.VehicleEndName_Vehicle )
			else
				commonDisableStateMoveVehicle( this.VehicleID_Vehicle01 )
			end
			
			commonCallAnnounceLog( this.AnnounceLogID_EnemyDecrease )
		
		elseif( state == 5 )  then
			commonPrint2D("【開始】ビークル兵ミッション圏外へ到着（徒歩）" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				if( num == "Init" ) then
					commonEnemyVehicleRouteDisable( false, true, true )
				else
					commonEnemyVehicleRouteDisable( false, true, false )
					
					TppEnemy.EnableRoute( this.cpID, "e20020_route_Vehicle01_0002" )
					
					TppEnemy.EnableRoute( this.cpID, "gntn_common_c01_route0001" )
				end
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, 	this.RouteSet_Sneak,			 "e20020_route_Vehicle00_0000",			"e20020_route_Vehicle00_0001_VS", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, 	this.RouteSet_Caution,			 "e20020_route_Vehicle00_0000",			"e20020_route_Vehicle00_0001_VS", 0 )
			end
			
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Vehicle01, false )
			
			commonCallAnnounceLog( this.AnnounceLogID_EnemyDecrease )
		
		elseif( state == 999 )	then
			commonPrint2D("【開始】ビークル兵強制ＯＦＦ" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				if( num == "Init" ) then
					commonEnemyVehicleRouteDisable( false, true, true )
				else
					commonEnemyVehicleRouteDisable( false, true, false )
					
					TppEnemy.EnableRoute( this.cpID, "e20020_route_Vehicle01_0002" )
					
					TppEnemy.EnableRoute( this.cpID, "gntn_common_c01_route0001" )
				end
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, 	this.RouteSet_Sneak,			"e20020_route_Vehicle00_0000",			-1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, 	this.RouteSet_Caution,			"e20020_route_Vehicle00_0000",			-1, 0 )
			end
			
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Vehicle01, false )
			
			if( num == "Init" ) then
				commonDisableStateMoveVehicle( this.CounterList.VehicleEndName_Vehicle )
			else
				commonDisableStateMoveVehicle( this.VehicleID_Vehicle01 )
			end
			
			commonCallAnnounceLog( this.AnnounceLogID_EnemyDecrease )
		end
	
	elseif( num == "Sneak" ) then
		if( state == 2 )  then
			TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 3 )
			TppTimer.Start( "Timer_Enemy_Vehicle_StateMove_Init", 0 )
		end
	
	elseif( num == "Caution" ) then
		if( state == 0 )  then
			TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_Vehicle_StateMove_Init", 0 )
		elseif( state == 2 )  then
			TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 3 )
			TppTimer.Start( "Timer_Enemy_Vehicle_StateMove_Init", 0 )
		end
	
	elseif( num == "Trap" ) then
		if( state == 0 )  then
			TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_Vehicle_StateMove_Init", 0 )
		end
	
	elseif( num == "Timer" ) then
	
	elseif( num == "RoutePoint" ) then
		local routeId					= TppData.GetArgument(3)
		local routeNodeIndex			= TppData.GetArgument(1)
		if( routeId == GsRoute.GetRouteId("e20020_route_Vehicle01_0001") ) then
			
			if( routeNodeIndex == 1 ) then
				if( state ~= 3 )  then
					TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 3 )
					TppTimer.Start( "Timer_Enemy_Vehicle_StateMove_Init", 0 )
				end
			
			elseif( routeNodeIndex == 2 ) then
				
				commonSetTimeRouteChage( 0, 	"gntn_common_d01_route0001",			"e20020_route_Asylum00_0000" )
				commonSetTimeRouteChage( 0, 	"e20020_route_Vehicle01_0002",			"e20020_route_Vehicle01_0001" )
			end
		
		elseif( routeId == GsRoute.GetRouteId("e20020_route_Vehicle00_0000_VSE") ) then
			if( routeNodeIndex == 11 ) then
				
				commonSetTimeRouteChage( 0, "e20020_route_Asylum00_0000", "gntn_common_d01_route0001" )
			elseif( routeNodeIndex >= 12 ) then
				if( state ~= 2 )  then
					TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 2 )
					TppTimer.Start( "Timer_Enemy_Vehicle_StateMove_Init", 0 )
				end
			end
		
		elseif( routeId == GsRoute.GetRouteId("e20020_route_Vehicle00_0001_VSE") ) then
			if( routeNodeIndex >= 25 ) then
				if( state ~= 5 )  then
					TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 5 )
					TppTimer.Start( "Timer_Enemy_Vehicle_StateMove_Init", 0 )
				end
			end
		end
	
	elseif( num == "VehicleRoutePoint" ) then
		local VehicleGroupInfo		= TppData.GetArgument(2)
		local vehicleCharacterId	= VehicleGroupInfo.vehicleCharacterId
		local characterIds			= VehicleGroupInfo.memberCharacterIds
		local routeId				= VehicleGroupInfo.vehicleRouteId
		local routeNodeIndex		= VehicleGroupInfo.passedNodeIndex
		
		if( routeId == GsRoute.GetRouteId("e20020_route_EV00_00_0000_V") ) then
			if( routeNodeIndex == 5 ) then
				
				commonSetTimeRouteChage( 0, "e20020_route_Asylum00_0000", "gntn_common_d01_route0001" )
			end
		end
	
	elseif( num == "VehicleEnd" ) then
		local VehicleGroupInfo			= TppData.GetArgument(2)
		local vehicleCharacterId		= VehicleGroupInfo.vehicleCharacterId
		local characterIds				= VehicleGroupInfo.memberCharacterIds
		local VehicleGroupInfoName		= VehicleGroupInfo.routeInfoName
		local VehicleGroupResult		= VehicleGroupInfo.result
		local VehicleGroupReason		= VehicleGroupInfo.reason
		local TargetLaioOnVehicle		= false
		
		if( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_Vehicle01_to_Asylum" ) then
			if( VehicleGroupResult == "SUCCESS" ) then
				if( state ~= 2 )  then
					
					TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 2 )
					TppTimer.Start( "Timer_Enemy_Vehicle_StateMove_Init", 0 )
				end
			else
				commonPrint2D("ビークル兵車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, this.RouteSet_Sneak,		"e20020_route_Vehicle00_0000_VSE",		"e20020_route_Vehicle00_0000_VS", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, this.RouteSet_Caution,	"e20020_route_Vehicle00_0000_VSE",		"e20020_route_Vehicle00_0000_VS", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle02, this.RouteSet_Sneak,		"e20020_route_Vehicle01_0000_VSE",		"e20020_route_Vehicle01_0000_VS", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle02, this.RouteSet_Caution,	"e20020_route_Vehicle01_0000_VSE",		"e20020_route_Vehicle01_0000_VS", -1 )
			end
		
		elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_Vehicle01_to_OutSide" ) then
			if( VehicleGroupResult == "SUCCESS" ) then
				
				for i, memberCharacterId in ipairs( VehicleGroupInfo.memberCharacterIds ) do
					if( memberCharacterId == this.CharacterID_E_Vehicle01 ) then
						TargetLaioOnVehicle = true
					end
				end
				if( TargetLaioOnVehicle == true ) then
					if( state ~= 4 )  then
						
						TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 4 )
						TppTimer.Start( "Timer_Enemy_Vehicle_StateMove_Init", 0 )
						
						this.CounterList.VehicleEndName_Vehicle = vehicleCharacterId
					end
				end
			else
				commonPrint2D("ビークル兵車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, this.RouteSet_Sneak,		"e20020_route_Vehicle00_0001_VSE",		"e20020_route_Vehicle00_0001_VS", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Vehicle01, this.RouteSet_Caution,	"e20020_route_Vehicle00_0001_VSE",		"e20020_route_Vehicle00_0001_VS", -1 )
			end
		end
	
	elseif( num == "Kill" ) then
	
	elseif( num == "Radio" ) then
		local CharacterId					= TppData.GetArgument(1)
		local aiStatus						= TppEnemyUtility.GetAiStatus( CharacterId )
		
		local Radio_Enemy_Move				= "e0020_esrg0020"			
		local Radio_Enemy_Conversation		= "e0020_esrg0030"			
		
		if( aiStatus == "Conversation" ) then
			
			TppRadio.RegisterIntelRadio( CharacterId, Radio_Enemy_Conversation, true )
		
		else
			
			TppRadio.RegisterIntelRadio( CharacterId, Radio_Enemy_Move, true )
		end
	
	elseif( num == "ConversationEnd" ) then
		local ConversationEndCharacterID	= TppData.GetArgument(3)
		local ConversationEndName			= TppData.GetArgument(2)
		local ConversationFinsh				= TppData.GetArgument(4)
		if( ConversationEndCharacterID == this.CharacterID_E_Vehicle01 ) then
			if( ConversationEndName == this.ConversationName_Vehicle ) then
				commonPrint2D("【終了】ビークル兵会話終了" , 1 )
			end
		end
	end
end


local commonEnemy_Western01_StateMove = function( num, manager )
		  manager		= manager or 0
	local sequence		= TppSequence.GetCurrentSequence()
	local phase			= TppCharacterUtility.GetCpPhaseName( this.cpID )
	local state			= TppMission.GetFlag( "isEnemy_Western01_StateMove" )
	
	if( num == "Init" or num == "CheckPoint" or num == "SequenceSkip" ) then
		
		if( num == "CheckPoint" ) then
			if( TppMission.GetFlag( "isEnemy_Imitation_StateMove" ) == 2 )	then
				
				TppMission.SetFlag( "isEnemy_Western01_StateMove", 2 )
				state = TppMission.GetFlag( "isEnemy_Western01_StateMove" )
				num = "Init"
			end
		end
		
		if( state == 0 ) then
			commonPrint2D("【開始】トラック兵待機" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Sneak,		"e20020_route_Western00_0000",		-1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Caution,	"e20020_route_Western00_0000",		-1, 0 )
			end
		
		elseif( state == 1 ) then
			commonPrint2D("【開始】トラック兵待機タイマースタート" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Sneak,		"e20020_route_Western00_0000",		-1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Caution,	"e20020_route_Western00_0000",		-1, 0 )
			end
			
			TppTimer.Start( "Timer_Enemy_Western01_StateMove_Timer", this.Timer_EnemyWestern_MoveStart )
		
		elseif( state == 2 ) then
			commonPrint2D("【開始】トラック兵会話開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyWestern01RouteDisable()
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Sneak,		"e20020_route_Western00_0001",		"e20020_route_Western00_0000", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Caution,	"e20020_route_Western00_0001",		"e20020_route_Western00_0000", 0 )
			end
		
		elseif( state == 3 ) then
			commonPrint2D("【開始】トラック兵ミッショ圏外へ移動開始（会話あり）" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyWestern01RouteDisable()
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Sneak,		"e20020_route_Western00_0002_VS01",	"e20020_route_Western00_0001", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Caution,	"e20020_route_Western00_0002_VS01",	"e20020_route_Western00_0001", 0 )
			end
		
		elseif( state == 4 ) then
			commonPrint2D("【開始】トラック兵ミッショ圏外へ移動開始（会話なし）" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyWestern01RouteDisable()
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Sneak,		"e20020_route_Western00_0002_VS02",	"e20020_route_Western00_0000", 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Caution,	"e20020_route_Western00_0002_VS02",	"e20020_route_Western00_0000", 0 )
			end
		
		elseif( state == 5 ) then
			commonPrint2D("【開始】トラック兵ミッション圏外へ到着" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyWestern01RouteDisable()
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Sneak,		"e20020_route_Western00_0002_VS01",	-1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Caution,	"e20020_route_Western00_0002_VS01",	-1, 0 )
			end
			
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Western01, false )
			
			if( num == "Init" ) then
				commonDisableStateMoveVehicle( this.CounterList.VehicleEndName_Western )
			else
				commonDisableStateMoveVehicle( this.VehicleID_Western02 )
			end
			
			commonCallAnnounceLog( this.AnnounceLogID_EnemyDecrease )
		
		elseif( state == 6 ) then
			commonPrint2D("【開始】トラック兵ミッション圏外へ到着（徒歩）" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyWestern01RouteDisable()
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Sneak,		"e20020_route_Western00_0002_VS01",	-1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Caution,	"e20020_route_Western00_0002_VS01",	-1, 0 )
			end
			
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Western01, false )
			
			commonCallAnnounceLog( this.AnnounceLogID_EnemyDecrease )
		
		elseif( state == 999 ) then
			commonPrint2D("【開始】トラック兵強制ＯＦＦ" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyWestern01RouteDisable()
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Sneak,		"e20020_route_Western00_0002_VS01",	-1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Caution,	"e20020_route_Western00_0002_VS01",	-1, 0 )
			end
			
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Western01, false )
			
			if( num == "Init" ) then
				commonDisableStateMoveVehicle( this.CounterList.VehicleEndName_Western )
			else
				commonDisableStateMoveVehicle( this.VehicleID_Western02 )
			end
			
			commonCallAnnounceLog( this.AnnounceLogID_EnemyDecrease )
		end
	
	elseif( num == "Sneak" ) then
		if( state == 0 )  then
			TppMission.SetFlag( "isEnemy_Western01_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
		elseif( state == 2 )  then
			TppMission.SetFlag( "isEnemy_Western01_StateMove", 3 )
			TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
		end
	
	elseif( num == "Caution" ) then
		if( state == 0 )  then
			TppMission.SetFlag( "isEnemy_Western01_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
		elseif( state == 2 )  then
			TppMission.SetFlag( "isEnemy_Western01_StateMove", 3 )
			TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
		end
	
	elseif( num == "Trap" ) then
		if( state == 0 )  then
			TppMission.SetFlag( "isEnemy_Western01_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
		end
	
	elseif( num == "Timer" ) then
		local lifestatus	= TppEnemyUtility.GetLifeStatus( this.CharacterID_E_Imitation )
		local status		= TppEnemyUtility.GetStatus( this.CharacterID_E_Imitation )
		commonPrint2D("トラック付き添い兵のステータス : lifestatus :"..lifestatus )
		commonPrint2D("トラック付き添い兵のステータス : status     :"..status )
		if( lifestatus ~= "Normal" or status ~= "Normal" ) then
			if( state == 1 )  then
				TppMission.SetFlag( "isEnemy_Western01_StateMove", 4 )
				TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
			end
		else
			
			TppTimer.Start( "Timer_Enemy_Western01_StateMove_Timer", this.Timer_EnemyWestern_MoveStart )
		end
	
	elseif( num == "RoutePoint" ) then
		local routeId					= TppData.GetArgument(3)
		local routeNodeIndex			= TppData.GetArgument(1)
		
		if( routeId == GsRoute.GetRouteId("e20020_route_Western00_0002_VSE") ) then
			if( routeNodeIndex >= 5 ) then
				if( state ~= 6 )  then
					TppMission.SetFlag( "isEnemy_Western01_StateMove", 6 )
					TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
				end
			end
		end
	
	elseif( num == "VehicleEnd" ) then
		local VehicleGroupInfo			= TppData.GetArgument(2)
		local vehicleCharacterId		= VehicleGroupInfo.vehicleCharacterId
		local characterIds				= VehicleGroupInfo.memberCharacterIds
		local VehicleGroupInfoName		= VehicleGroupInfo.routeInfoName
		local VehicleGroupResult		= VehicleGroupInfo.result
		local VehicleGroupReason		= VehicleGroupInfo.reason
		local TargetLaioOnVehicle		= false
		
		if( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_Western01_to_OutSide" ) then
			if( VehicleGroupResult == "SUCCESS" ) then
				
				for i, memberCharacterId in ipairs( VehicleGroupInfo.memberCharacterIds ) do
					if( memberCharacterId == this.CharacterID_E_Western01 ) then
						TargetLaioOnVehicle = true
					end
				end
				if( TargetLaioOnVehicle == true ) then
					if( state ~= 5 )  then
						
						TppMission.SetFlag( "isEnemy_Western01_StateMove", 5 )
						TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
						
						this.CounterList.VehicleEndName_Western = vehicleCharacterId
					end
				end
			else
				if( state == 3 ) then
					commonPrint2D("トラック兵車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
					commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Sneak,		"e20020_route_Western00_0002_VSE",	"e20020_route_Western00_0002_VS01", -1 )
					commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Caution,	"e20020_route_Western00_0002_VSE",	"e20020_route_Western00_0002_VS01", -1 )
				end
			end
		
		elseif( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_Western01_to_OutSideOnly" ) then
			if( VehicleGroupResult == "SUCCESS" ) then
				
				for i, memberCharacterId in ipairs( VehicleGroupInfo.memberCharacterIds ) do
					if( memberCharacterId == this.CharacterID_E_Western01 ) then
						TargetLaioOnVehicle = true
					end
				end
				if( TargetLaioOnVehicle == true ) then
					if( state ~= 5 )  then
						
						TppMission.SetFlag( "isEnemy_Western01_StateMove", 5 )
						TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
						
						this.CounterList.VehicleEndName_Western = vehicleCharacterId
					end
				end
			else
				if( state == 4 ) then
					commonPrint2D("トラック兵車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
					commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Sneak,		"e20020_route_Western00_0002_VSE",	"e20020_route_Western00_0002_VS02", -1 )
					commonSetUniqueRouteChange( this.CharacterID_E_Western01, this.RouteSet_Caution,	"e20020_route_Western00_0002_VSE",	"e20020_route_Western00_0002_VS02", -1 )
				end
			end
		end
	
	elseif( num == "Kill" ) then
	
	elseif( num == "Radio" ) then
		local CharacterId					= TppData.GetArgument(1)
		local aiStatus						= TppEnemyUtility.GetAiStatus( CharacterId )
		
		local Radio_Enemy_Move				= "e0020_esrg0020"			
		local Radio_Enemy_Conversation		= "e0020_esrg0030"			
		
		if( aiStatus == "Conversation" ) then
			
			TppRadio.RegisterIntelRadio( CharacterId, Radio_Enemy_Conversation, true )
		
		else
			
			TppRadio.RegisterIntelRadio( CharacterId, Radio_Enemy_Move, true )
		end
	
	elseif( num == "ConversationEnd" ) then
		local ConversationEndCharacterID	= TppData.GetArgument(3)
		local ConversationEndName			= TppData.GetArgument(2)
		local ConversationFinsh				= TppData.GetArgument(4)
		if( ConversationEndCharacterID == this.CharacterID_E_Western01 ) then
			if( ConversationEndName == this.ConversationName_Western ) then
				commonPrint2D("【終了】トラック兵会話終了" , 1 )
				
				if( ConversationFinsh == true ) then
					
					if( TppMission.GetFlag( "isIntelRadio_Western" ) == false and TppMission.GetFlag( "isPlayerGetTruckSniper" ) == false )  then
						
						TppMission.SetFlag( "isIntelRadio_Western", true )
						
						TppRadio.RegisterIntelRadio( this.VehicleID_Western02, "f0090_esrg0050", true )
					end
				end
			end
		end
	
	else

	end
end


local commonEnemy_Imitation_StateMove = function( num, manager )
		  manager		= manager or 0
	local sequence		= TppSequence.GetCurrentSequence()
	local phase			= TppCharacterUtility.GetCpPhaseName( this.cpID )
	local state			= TppMission.GetFlag( "isEnemy_Imitation_StateMove" )
	
	if( num == "Init" or num == "CheckPoint" or num == "SequenceSkip" ) then
		
		if( num == "CheckPoint" ) then
			
			if( state == 1 ) then
				
				TppMission.SetFlag( "isEnemy_Imitation_StateMove", 2 )
				state = TppMission.GetFlag( "isEnemy_Imitation_StateMove" )
				num = "Init"
			end
		end
		
		if( state == 0 ) then
			commonPrint2D("【開始】待ち合わせ兵待機" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyImitationRouteDisable( false, true )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Sneak,			"e20020_route_Imitation00_0000", -1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Caution,		"e20020_route_Imitation00_0000", -1, 0 )
			end
		
		elseif( state == 1 ) then
			commonPrint2D("【開始】待ち合わせ兵移動開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyImitationRouteDisable( false, true )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Sneak,			"e20020_route_Imitation00_0001", -1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Caution,		"e20020_route_Imitation00_0001", -1, 0 )
			end
		
		elseif( state == 2 ) then
			commonPrint2D("【開始】待ち合わせ兵会話開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyImitationRouteDisable( false, true )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Sneak,			"e20020_route_Imitation00_0002", -1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Caution,		"e20020_route_Imitation00_0002", -1, 0 )
			end
		
		elseif( state == 3 ) then
			commonPrint2D("【開始】トラック兵がいないので移動開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyImitationRouteDisable( false, true )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Sneak,			"e20020_route_Imitation00_0003_VSE", -1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Caution,		"e20020_route_Imitation00_0003_VSE", -1, 0 )
			end
		
		elseif( state == 4 ) then
			commonPrint2D("【開始】待ち合わせ兵トラック移動開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyImitationRouteDisable( false, true )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Sneak,			"e20020_route_Imitation00_0003_VS", -1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Caution,		"e20020_route_Imitation00_0003_VS", -1, 0 )
			end
		
		elseif( state == 5 ) then
			commonPrint2D("【開始】待ち合わせ兵ミッション圏外（トラック）" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyImitationRouteDisable( false, true )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Sneak,			"e20020_route_Imitation00_0003_VS", -1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Caution,		"e20020_route_Imitation00_0003_VS", -1, 0 )
			end
			
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Imitation, false )
			
			commonCallAnnounceLog( this.AnnounceLogID_EnemyDecrease )
		
		elseif( state == 999 ) then
			commonPrint2D("【開始】待ち合わせ兵強制ＯＦＦ" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonEnemyImitationRouteDisable( false, true )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Sneak,			"e20020_route_Imitation00_0003_VS", -1, 0 )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Caution,		"e20020_route_Imitation00_0003_VS", -1, 0 )
			end
			
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Imitation, false )
			
			commonCallAnnounceLog( this.AnnounceLogID_EnemyDecrease )
		end
	
	elseif( num == "Sneak" ) then
		if( state == 0 or state == 1 ) then
			TppMission.SetFlag( "isEnemy_Imitation_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_Imitation_StateMove_Init", 0 )
		elseif( state == 2 )  then
			TppMission.SetFlag( "isEnemy_Imitation_StateMove", 3 )
			TppTimer.Start( "Timer_Enemy_Imitation_StateMove_Init", 0 )
		end
	
	elseif( num == "Caution" ) then
		if( state == 0 or state == 1 ) then
			TppMission.SetFlag( "isEnemy_Imitation_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_Imitation_StateMove_Init", 0 )
		elseif( state == 2 )  then
			TppMission.SetFlag( "isEnemy_Imitation_StateMove", 3 )
			TppTimer.Start( "Timer_Enemy_Imitation_StateMove_Init", 0 )
		end
	
	elseif( num == "Trap" ) then
		if( state == 0 )  then
			TppMission.SetFlag( "isEnemy_Imitation_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_Imitation_StateMove_Init", 0 )
		end
	
	elseif( num == "Timer" ) then
	
	elseif( num == "RoutePoint" ) then
		local routeId					= TppData.GetArgument(3)
		local routeNodeIndex			= TppData.GetArgument(1)
		
		if( routeId == GsRoute.GetRouteId("e20020_route_Imitation00_0001") ) then
			if( routeNodeIndex == 7 ) then
				if( TppMission.GetFlag( "isEnemy_Western01_StateMove" ) >= 4 ) then
					
					TppMission.SetFlag( "isEnemy_Imitation_StateMove", 3 )
					TppTimer.Start( "Timer_Enemy_Imitation_StateMove_Init", 0 )
				else
					
					if( TppMission.GetFlag( "isEnemy_Western01_StateMove" ) ~= 2 ) then
						TppMission.SetFlag( "isEnemy_Western01_StateMove", 2 )
						TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
					end
				end
			elseif( routeNodeIndex == 9 ) then
				local lifestatus	= TppEnemyUtility.GetLifeStatus( this.CharacterID_E_Western01 )
				local status		= TppEnemyUtility.GetStatus( this.CharacterID_E_Western01 )
				commonPrint2D("トラック兵のステータス : lifestatus :"..lifestatus )
				commonPrint2D("トラック兵のステータス : status     :"..status )
				if( lifestatus == "Normal" and status == "Normal" ) then
					if( state ~= 2 )  then
						TppMission.SetFlag( "isEnemy_Imitation_StateMove", 2 )
						TppTimer.Start( "Timer_Enemy_Imitation_StateMove_Init", 0 )
					end
				else
					if( state ~= 3 )  then
						TppMission.SetFlag( "isEnemy_Imitation_StateMove", 3 )
						TppTimer.Start( "Timer_Enemy_Imitation_StateMove_Init", 0 )
					end
				end
			end
		
		elseif( routeId == GsRoute.GetRouteId("e20020_route_Imitation00_0002") ) then
			if( routeNodeIndex >= 1 ) then
				
				if( state ~= 4 and TppMission.GetFlag( "isEnemy_Western01_StateMove" ) ~= 3 )  then
					TppMission.SetFlag( "isEnemy_Imitation_StateMove", 4 )
					TppTimer.Start( "Timer_Enemy_Imitation_StateMove_Init", 0 )
					TppMission.SetFlag( "isEnemy_Western01_StateMove", 3 )
					TppTimer.Start( "Timer_Enemy_Western01_StateMove_Init", 0 )
				end
			end
		end
	
	elseif( num == "VehicleEnd" ) then
		local VehicleGroupInfo			= TppData.GetArgument(2)
		local vehicleCharacterId		= VehicleGroupInfo.vehicleCharacterId
		local characterIds				= VehicleGroupInfo.memberCharacterIds
		local VehicleGroupInfoName		= VehicleGroupInfo.routeInfoName
		local VehicleGroupResult		= VehicleGroupInfo.result
		local VehicleGroupReason		= VehicleGroupInfo.reason
		local TargetLaioOnVehicle		= false
		if( VehicleGroupInfoName == "TppGroupVehicleRouteInfo_Western01_to_OutSide" ) then
			if( VehicleGroupResult == "SUCCESS" ) then
				
				for i, memberCharacterId in ipairs( VehicleGroupInfo.memberCharacterIds ) do
					if( memberCharacterId == this.CharacterID_E_Imitation ) then
						TargetLaioOnVehicle = true
					end
				end
				if( TargetLaioOnVehicle == true ) then
					if( state == 4 and state ~= 5 )  then
						TppMission.SetFlag( "isEnemy_Imitation_StateMove", 5 )
						TppTimer.Start( "Timer_Enemy_Imitation_StateMove_Init", 0 )
					end
				end
			else
				commonPrint2D("トラック付き添い兵車両失敗"..VehicleGroupInfoName..":"..VehicleGroupReason.. ":", 1 )
				commonEnemyImitationRouteDisable( false, true )
				commonSetUniqueRouteChange( this.CharacterID_E_Imitation, this.RouteSet_Sneak,	"e20020_route_Imitation00_0003_VSE", -1, -1 )
			end
		end
	
	elseif( num == "Radio" ) then
		local CharacterId					= TppData.GetArgument(1)
		local aiStatus						= TppEnemyUtility.GetAiStatus( CharacterId )
		
		local Radio_Enemy_Move				= "e0020_esrg0020"			
		local Radio_Enemy_Conversation		= "e0020_esrg0030"			
		
		if( aiStatus == "Conversation" ) then
			
			TppRadio.RegisterIntelRadio( CharacterId, Radio_Enemy_Conversation, true )
		
		else
			
			TppRadio.RegisterIntelRadio( CharacterId, Radio_Enemy_Move, true )
		end
	
	elseif( num == "ConversationEnd" ) then
		local ConversationEndCharacterID	= TppData.GetArgument(3)
		local ConversationEndName			= TppData.GetArgument(2)
		local ConversationFinsh				= TppData.GetArgument(4)
		if( ConversationEndCharacterID == this.CharacterID_E_Imitation ) then
			if( ConversationEndName == this.ConversationName_Western ) then
				commonPrint2D("【終了】トラック兵会話終了" , 1 )
				
				if( ConversationFinsh == true ) then
					
					if( TppMission.GetFlag( "isIntelRadio_Western" ) == false and TppMission.GetFlag( "isPlayerGetTruckSniper" ) == false )  then
						
						TppMission.SetFlag( "isIntelRadio_Western", true )
						
						TppRadio.RegisterIntelRadio( this.VehicleID_Western02, "f0090_esrg0050", true )
					end
				end
			end
		end
	
	else

	end
end


local commonEnemy_eastTent01_StateMove = function( num, manager )
		  manager		= manager or 0
	local sequence		= TppSequence.GetCurrentSequence()
	local phase			= TppCharacterUtility.GetCpPhaseName( this.cpID )
	local state			= TppMission.GetFlag( "isEnemy_eastTent01_StateMove" )
	
	if( num == "Init" or num == "CheckPoint" or num == "SequenceSkip" ) then
		if( state == 0 )  then
			commonPrint2D("【開始】東難民キャンプ敵兵（海岸）待機" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonSetUniqueRouteChange( this.CharacterID_E_eastTentNorth01, this.RouteSet_Sneak,			"e20020_route_eastTent01_0000", -1, 0 )
			end
		elseif( state == 1 )  then
			commonPrint2D("【開始】東難民キャンプ敵兵（海岸）移動開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonSetUniqueRouteChange( this.CharacterID_E_eastTentNorth01, this.RouteSet_Sneak,			"e20020_route_eastTent01_0001", "e20020_route_eastTent01_0000", 0 )
			end
		elseif( state == 2 )  then
			commonPrint2D("【開始】東難民キャンプ敵兵（海岸）移動到着" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonSetUniqueRouteChange( this.CharacterID_E_eastTentNorth01, this.RouteSet_Sneak,			"e20020_route_eastTent01_0002", "e20020_route_eastTent01_0001", 0 )
			end
		end
	
	elseif( num == "Sneak" ) then
	
	elseif( num == "Caution" ) then
		if( state == 0 )  then
			TppMission.SetFlag( "isEnemy_eastTent01_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_eastTent01_StateMove_Init", 0 )
		end
	
	elseif( num == "Trap" ) then
		if( state == 0 )  then
			TppMission.SetFlag( "isEnemy_eastTent01_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_eastTent01_StateMove_Init", 0 )
		end
	
	elseif( num == "Timer" ) then
	
	elseif( num == "RoutePoint" ) then
		local routeId					= TppData.GetArgument(3)
		local routeNodeIndex			= TppData.GetArgument(1)
		
		if( routeId == GsRoute.GetRouteId("e20020_route_eastTent01_0001") ) then
			if( routeNodeIndex >= 9 ) then
				if( state ~= 2 ) then
					TppMission.SetFlag( "isEnemy_eastTent01_StateMove", 2 )
					TppTimer.Start( "Timer_Enemy_eastTent01_StateMove_Init", 0 )
				end
			end
		end
	
	elseif( num == "VehicleEnd" ) then
	
	elseif( num == "Kill" ) then
	
	elseif( num == "ConversationEnd" ) then
	
	else

	end
end


local commonEnemy_eastTent02_StateMove = function( num, manager )
		  manager		= manager or 0
	local sequence		= TppSequence.GetCurrentSequence()
	local phase			= TppCharacterUtility.GetCpPhaseName( this.cpID )
	local state			= TppMission.GetFlag( "isEnemy_eastTent02_StateMove" )
	
	if( num == "Init" or num == "CheckPoint" or num == "SequenceSkip" ) then
		if( state == 0 )  then
			commonPrint2D("【開始】東難民キャンプ敵兵（倉庫）待機" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonSetUniqueRouteChange( this.CharacterID_E_eastTentNorth02, this.RouteSet_Sneak,			"e20020_route_eastTent02_0000", -1, 0 )
			end
		elseif( state == 1 )  then
			commonPrint2D("【開始】東難民キャンプ敵兵（倉庫）移動開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonSetUniqueRouteChange( this.CharacterID_E_eastTentNorth02, this.RouteSet_Sneak,			"e20020_route_eastTent02_0001", "e20020_route_eastTent02_0000", 0 )
			end
		elseif( state == 2 )  then
			commonPrint2D("【開始】東難民キャンプ敵兵（倉庫）移動到着" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				commonSetUniqueRouteChange( this.CharacterID_E_eastTentNorth02, this.RouteSet_Sneak,			"e20020_route_eastTent02_0002", "e20020_route_eastTent02_0001", 0 )
			end
		end
	
	elseif( num == "Sneak" ) then
	
	elseif( num == "Caution" ) then
		if( state == 0 )  then
			TppMission.SetFlag( "isEnemy_eastTent02_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_eastTent02_StateMove_Init", 0 )
		end
	
	elseif( num == "Trap" ) then
		if( state == 0 )  then
			TppMission.SetFlag( "isEnemy_eastTent02_StateMove", 1 )
			TppTimer.Start( "Timer_Enemy_eastTent02_StateMove_Init", 0 )
		end
	
	elseif( num == "Timer" ) then
	
	elseif( num == "RoutePoint" ) then
		local routeId					= TppData.GetArgument(3)
		local routeNodeIndex			= TppData.GetArgument(1)
		
		if( routeId == GsRoute.GetRouteId("e20020_route_eastTent02_0001") ) then
			if( routeNodeIndex >= 8 ) then
				if( state ~= 2 ) then
					TppMission.SetFlag( "isEnemy_eastTent02_StateMove", 2 )
					TppTimer.Start( "Timer_Enemy_eastTent02_StateMove_Init", 0 )
				end
			end
		end
	
	elseif( num == "VehicleEnd" ) then
	
	elseif( num == "Kill" ) then
	
	elseif( num == "ConversationEnd" ) then
	
	else

	end
end


local commonEnemy_Reinforce_Move = function( CharacterID, num )



	
	TppEnemyUtility.SetBodyArmor( CharacterID, true )
	
	TppEnemyUtility.SetEnableCharacterId( CharacterID, num )
	
	TppEnemyUtility.SetForceRouteMode( CharacterID, num )
	
	TppEnemyUtility.SetFlagSendMessageOnReceiveDamage( CharacterID, num )
end


local commonEnemy_Reinforce_StateMove = function( num, manager )
		  manager		= manager or 0
	local isAlert		= false
	local sequence		= TppSequence.GetCurrentSequence()
	local phase			= TppCharacterUtility.GetCpPhaseName( this.cpID )
	local state			= TppMission.GetFlag( "isEnemy_Reinforce_StateMove" )
	
	if( num == "Init" or num == "CheckPoint" or num == "SequenceSkip" ) then
		if( state == 0 )  then
			commonPrint2D("【開始】増援部隊待機" , 1 )
			if( num == "Init" or num == "SequenceSkip" or isAlert == true ) then
				
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce01, this.RouteSet_Sneak, 	"e20020_route_Reinforce00_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce01, this.RouteSet_Caution,	"e20020_route_Reinforce00_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce02, this.RouteSet_Sneak, 	"e20020_route_Reinforce01_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce02, this.RouteSet_Caution,	"e20020_route_Reinforce01_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce03, this.RouteSet_Sneak, 	"e20020_route_Reinforce02_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce03, this.RouteSet_Caution,	"e20020_route_Reinforce02_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce04, this.RouteSet_Sneak, 	"e20020_route_Reinforce03_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce04, this.RouteSet_Caution,	"e20020_route_Reinforce03_0000",			-1, -1 )
				
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce05, this.RouteSet_Sneak, 	"e20020_route_Reinforce04_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce05, this.RouteSet_Caution,	"e20020_route_Reinforce04_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce06, this.RouteSet_Sneak, 	"e20020_route_Reinforce05_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce06, this.RouteSet_Caution,	"e20020_route_Reinforce05_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce07, this.RouteSet_Sneak, 	"e20020_route_Reinforce06_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce07, this.RouteSet_Caution,	"e20020_route_Reinforce06_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce08, this.RouteSet_Sneak, 	"e20020_route_Reinforce07_0000",			-1, -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce08, this.RouteSet_Caution,	"e20020_route_Reinforce07_0000",			-1, -1 )
			end
			
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Reinforce01, false )
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Reinforce02, false )
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Reinforce03, false )
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Reinforce04, false )
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Reinforce05, false )
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Reinforce06, false )
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Reinforce07, false )
			TppEnemyUtility.SetEnableCharacterId( this.CharacterID_E_Reinforce08, false )
		elseif( state == 1 )  then
			commonPrint2D("【開始】増援部隊移動開始" , 1 )
			if( num == "Init" or num == "SequenceSkip" ) then
				
				commonEnemy_Reinforce_Move( this.CharacterID_E_Reinforce01, true )
				commonEnemy_Reinforce_Move( this.CharacterID_E_Reinforce02, true )
				commonEnemy_Reinforce_Move( this.CharacterID_E_Reinforce03, true )
				commonEnemy_Reinforce_Move( this.CharacterID_E_Reinforce04, true )
				commonEnemy_Reinforce_Move( this.CharacterID_E_Reinforce05, true )
				commonEnemy_Reinforce_Move( this.CharacterID_E_Reinforce06, true )
				commonEnemy_Reinforce_Move( this.CharacterID_E_Reinforce07, true )
				commonEnemy_Reinforce_Move( this.CharacterID_E_Reinforce08, true )
				
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce01, this.RouteSet_Sneak, 	"e20020_route_Reinforce00_0001",	"e20020_route_Reinforce00_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce01, this.RouteSet_Caution,	"e20020_route_Reinforce00_0001",	"e20020_route_Reinforce00_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce02, this.RouteSet_Sneak, 	"e20020_route_Reinforce01_0001",	"e20020_route_Reinforce01_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce02, this.RouteSet_Caution,	"e20020_route_Reinforce01_0001",	"e20020_route_Reinforce01_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce03, this.RouteSet_Sneak, 	"e20020_route_Reinforce02_0001",	"e20020_route_Reinforce02_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce03, this.RouteSet_Caution,	"e20020_route_Reinforce02_0001",	"e20020_route_Reinforce02_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce04, this.RouteSet_Sneak, 	"e20020_route_Reinforce03_0001",	"e20020_route_Reinforce03_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce04, this.RouteSet_Caution,	"e20020_route_Reinforce03_0001",	"e20020_route_Reinforce03_0000", -1 )
				
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce05, this.RouteSet_Sneak, 	"e20020_route_Reinforce04_0001",	"e20020_route_Reinforce04_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce05, this.RouteSet_Caution,	"e20020_route_Reinforce04_0001",	"e20020_route_Reinforce04_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce06, this.RouteSet_Sneak, 	"e20020_route_Reinforce05_0001",	"e20020_route_Reinforce05_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce06, this.RouteSet_Caution,	"e20020_route_Reinforce05_0001",	"e20020_route_Reinforce05_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce07, this.RouteSet_Sneak, 	"e20020_route_Reinforce06_0001",	"e20020_route_Reinforce06_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce07, this.RouteSet_Caution,	"e20020_route_Reinforce06_0001",	"e20020_route_Reinforce06_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce08, this.RouteSet_Sneak, 	"e20020_route_Reinforce07_0001",	"e20020_route_Reinforce07_0000", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce08, this.RouteSet_Caution,	"e20020_route_Reinforce07_0001",	"e20020_route_Reinforce07_0000", -1 )
				
				commonCallAnnounceLog( this.AnnounceLogID_EnemyIncrease )
			end
		end
	
	elseif( num == "Alert" or num == "KeepCaution") then
		if( state == 0 )  then
			
			if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 or TppMission.GetFlag( "isMT_CenterKill" ) == 0 )  then
				TppMission.SetFlag( "isEnemy_Reinforce_StateMove", 1 )
				TppTimer.Start( "Timer_Enemy_Reinforce_StateMove_Init", 0 )
			end
		end
	
	elseif( num == "RoutePoint" ) then
		local routeId					= TppData.GetArgument(3)
		local routeNodeIndex			= TppData.GetArgument(1)
		local phasename					= TppCharacterUtility.GetCurrentPhaseName()
		
		
		if( routeId == GsRoute.GetRouteId("e20020_route_Reinforce00_0001") ) then
			if( routeNodeIndex >= 4 ) then
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce01, this.RouteSet_Sneak, 	"e20020_route_Reinforce00_0001_S",	"e20020_route_Reinforce00_0001", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce01, this.RouteSet_Caution,	"e20020_route_Reinforce00_0001_C",	"e20020_route_Reinforce00_0001", -1 )
				
				TppEnemyUtility.SetForceRouteMode( this.CharacterID_E_Reinforce01, false )
			end
		elseif( routeId == GsRoute.GetRouteId("e20020_route_Reinforce01_0001") ) then
			if( routeNodeIndex >= 4 ) then
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce02, this.RouteSet_Sneak, 	"e20020_route_Reinforce01_0001_S",	"e20020_route_Reinforce01_0001", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce02, this.RouteSet_Caution,	"e20020_route_Reinforce01_0001_C",	"e20020_route_Reinforce01_0001", -1 )
				
				TppEnemyUtility.SetForceRouteMode( this.CharacterID_E_Reinforce02, false )
			end
		elseif( routeId == GsRoute.GetRouteId("e20020_route_Reinforce02_0001") ) then
			if( routeNodeIndex >= 4 ) then
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce03, this.RouteSet_Sneak, 	"e20020_route_Reinforce02_0001_S",	"e20020_route_Reinforce02_0001", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce03, this.RouteSet_Caution,	"e20020_route_Reinforce02_0001_C",	"e20020_route_Reinforce02_0001", -1 )
				
				TppEnemyUtility.SetForceRouteMode( this.CharacterID_E_Reinforce03, false )
			end
		elseif( routeId == GsRoute.GetRouteId("e20020_route_Reinforce03_0001") ) then
			if( routeNodeIndex >= 4 ) then
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce04, this.RouteSet_Sneak, 	"e20020_route_Reinforce03_0001_S",	"e20020_route_Reinforce03_0001", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce04, this.RouteSet_Caution,	"e20020_route_Reinforce03_0001_C",	"e20020_route_Reinforce03_0001", -1 )
				
				TppEnemyUtility.SetForceRouteMode( this.CharacterID_E_Reinforce04, false )
			end
		
		
		elseif( routeId == GsRoute.GetRouteId("e20020_route_Reinforce04_0001") ) then
			if( routeNodeIndex >= 3 ) then
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce05, this.RouteSet_Sneak, 	"e20020_route_Reinforce04_0001_S",	"e20020_route_Reinforce04_0001", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce05, this.RouteSet_Caution,	"e20020_route_Reinforce04_0001_C",	"e20020_route_Reinforce04_0001", -1 )
				
				TppEnemyUtility.SetForceRouteMode( this.CharacterID_E_Reinforce05, false )
			end
		elseif( routeId == GsRoute.GetRouteId("e20020_route_Reinforce05_0001") ) then
			if( routeNodeIndex >= 3 ) then
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce06, this.RouteSet_Sneak, 	"e20020_route_Reinforce05_0001_S",	"e20020_route_Reinforce05_0001", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce06, this.RouteSet_Caution,	"e20020_route_Reinforce05_0001_C",	"e20020_route_Reinforce05_0001", -1 )
				
				TppEnemyUtility.SetForceRouteMode( this.CharacterID_E_Reinforce06, false )
			end
		elseif( routeId == GsRoute.GetRouteId("e20020_route_Reinforce06_0001") ) then
			if( routeNodeIndex >= 3 ) then
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce07, this.RouteSet_Sneak, 	"e20020_route_Reinforce06_0001_S",	"e20020_route_Reinforce06_0001", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce07, this.RouteSet_Caution,	"e20020_route_Reinforce06_0001_C",	"e20020_route_Reinforce06_0001", -1 )
				
				TppEnemyUtility.SetForceRouteMode( this.CharacterID_E_Reinforce07, false )
			end
		elseif( routeId == GsRoute.GetRouteId("e20020_route_Reinforce07_0001") ) then
			if( routeNodeIndex >= 3 ) then
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce08, this.RouteSet_Sneak, 	"e20020_route_Reinforce07_0001_S",	"e20020_route_Reinforce07_0001", -1 )
				commonSetUniqueRouteChange( this.CharacterID_E_Reinforce08, this.RouteSet_Caution,	"e20020_route_Reinforce07_0001_C",	"e20020_route_Reinforce07_0001", -1 )
				
				TppEnemyUtility.SetForceRouteMode( this.CharacterID_E_Reinforce08, false )
			end
		end
	end
end






local commonMissionClearRankRadio = function()
	local rank = PlayRecord.GetRank()



	
	if( rank == 1 )  then
		TppRadio.Play( "Radio_MissionClearRank_S" )
		
		Trophy.TrophyUnlock( this.TrophyID_GZ_RankSClear )
	elseif( rank == 2 )  then
		TppRadio.Play( "Radio_MissionClearRank_A" )
	elseif( rank == 3 )  then
		TppRadio.Play( "Radio_MissionClearRank_B" )
	elseif( rank == 4 )  then
		TppRadio.Play( "Radio_MissionClearRank_C" )
	else
		TppRadio.Play( "Radio_MissionClearRank_D" )
	end
end


local commonSetMissionChallenge = function()



	local hardmode = TppGameSequence.GetGameFlag("hardmode")	
	if( hardmode == true ) then									
		
		PlayRecord.RegistPlayRecord( "VIP_RESCUE" )
	end
end


local commonUnsetMissionChallenge = function()



	local hardmode = TppGameSequence.GetGameFlag("hardmode")	
	if( hardmode == true ) then									
		
		PlayRecord.UnsetMissionChallenge( "VIP_RESCUE" )
	end
end


local commonMissionExternalScore = function()



	if( TppMission.GetFlag( "isMT_SquadKill" ) == 2 and TppMission.GetFlag( "isMT_CenterKill" ) == 2 and TppMission.GetFlag( "isSupportHelicopterDead" ) == false ) then
		
		PlayRecord.PlusExternalScore( this.RecoveryExternalScore )
	end
end





local commonSequenceChage = function( CharacterID, KillName )
	local sequence		= TppSequence.GetCurrentSequence()



	
	commonMissionTargetMarkerOFF( CharacterID, false, "NoIntelRadioName" )
	
	TppSoundDaemon.PostEvent( "sfx_s_mission_qualify" )
	
	if( CharacterID == this.CharacterID_MT_Squad ) then
		
		commonMT_Squad_StateMove( KillName )
	
	elseif( CharacterID == this.CharacterID_MT_Center ) then
		
		commonMT_Center_StateMove( KillName )
	end
	
	if( KillName == "Kill" ) then
		
		commonUnsetMissionChallenge()
	
	elseif( KillName == "Recovery" ) then
		
		this.CounterList.HeliRendezvousPointName = TppSupportHelicopterService.GetRendezvousPointNameWhichHelicopterIsWaitingOn( this.CharacterID_SupportHelicopter )
	end
	
	if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
		if( CharacterID == this.CharacterID_MT_Squad ) then
			
			TppSequence.ChangeSequence( "Seq_Waiting_KillMT_Center" )
		elseif( CharacterID == this.CharacterID_MT_Center ) then
			
			TppSequence.ChangeSequence( "Seq_Waiting_KillMT_Squad" )
		end
	elseif( sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
		
		TppSequence.ChangeSequence( "Seq_Waiting_MissionClearPlayerRideHelicopter" )
	elseif( sequence == "Seq_Mission_FailedPlayerRideHelicopter" ) then
		
		if( TppMission.GetFlag( "isSeq_Advance" ) == 0 )  then
			if( CharacterID == this.CharacterID_MT_Squad ) then
				
				TppSequence.ChangeSequence( "Seq_Waiting_KillMT_Center" )
			elseif( CharacterID == this.CharacterID_MT_Center ) then
				
				TppSequence.ChangeSequence( "Seq_Waiting_KillMT_Squad" )
			end
			
			this.CounterList.NextSequenceName = "Seq_Mission_FailedPlayerRideHelicopter"
		else
			
			TppSequence.ChangeSequence( "Seq_Waiting_MissionClearPlayerRideHelicopter" )
			
			this.CounterList.NextSequenceName = "Seq_MissionClearPlayerRideHelicopter"
		end
	end
end


local commonSequenceChageTimerStart = function()



	if( this.CounterList.NextSequenceName ~= "NoName" ) then
		TppTimer.Stop("Timer_SequenceChage")
		TppTimer.Start( "Timer_SequenceChage", this.Timer_SequenceChage )
	end
end


local commonSequenceChageTimerEnd = function()



	if( this.CounterList.NextSequenceName ~= "NoName" ) then
		TppSequence.ChangeSequence( this.CounterList.NextSequenceName )
		this.CounterList.NextSequenceName = "NoName"
	end
end





local commonPhase_Sneak = function()
	local PhaseState = TppData.GetArgument( 2 )



	
	
	
	
	GZCommon.StopAlertSirenCheck()
	
	
	
	commonEnemy_Vehicle_StateMove( "Sneak" )
	commonEnemy_Imitation_StateMove( "Sneak" )
	commonEnemy_Western01_StateMove( "Sneak" )
	commonMT_Squad_StateMove( "Sneak" )
	commonMT_Center_StateMove( "Sneak" )
	commonEnemy_Reinforce_StateMove( "Sneak" )
	
	commonMT_Squad_DisableIntelRadio( false )
	commonMT_Center_DisableIntelRadio( false )
	
	TppCommandPostObject.GsSetCurrentRouteSet( this.cpID, this.RouteSet_Sneak, false, false, false, false, false )
end


local commonPhase_Caution = function()
	local PhaseState = TppData.GetArgument( 2 )



	
	
	
	if( PhaseState == "Down" ) then 
		if( TppMission.GetFlag( "isKeepCaution" ) == true ) then
			TppRadio.Play("Miller_DontSneakPhase")
		end
	end
	
	GZCommon.StopAlertSirenCheck()
	
	
	
	commonEnemy_Vehicle_StateMove( "Caution" )
	commonEnemy_Imitation_StateMove( "Caution" )
	commonEnemy_Western01_StateMove( "Caution" )
	commonMT_Squad_StateMove( "Caution" )
	commonMT_Center_StateMove( "Caution" )
	commonEnemy_Reinforce_StateMove( "Caution" )
	
	commonMT_Squad_DisableIntelRadio( false )
	commonMT_Center_DisableIntelRadio( false )
	
	TppCommandPostObject.GsSetCurrentRouteSet( this.cpID, this.RouteSet_Caution, false, false, false, false, false )
end


local commonPhase_Evasion = function()
	local PhaseState = TppData.GetArgument( 2 )



	
	
	
	
	GZCommon.StopAlertSirenCheck()
	
	
	
	commonMT_Squad_StateMove( "Evasion" )
	commonMT_Center_StateMove( "Evasion" )
	commonEnemy_Reinforce_StateMove( "Evasion" )
	
	commonMT_Squad_DisableIntelRadio( false )
	commonMT_Center_DisableIntelRadio( false )
	
	TppCommandPostObject.GsSetCurrentRouteSet( this.cpID, this.RouteSet_Caution, false, false, false, false, false )
end


local commonKeepPhaseAlert = function( num )
	
	if( num == "ON" ) then
		TppCommandPostObject.GsSetKeepPhaseName( this.cpID, "Alert" )
	
	else
		TppCommandPostObject.GsSetKeepPhaseName( this.cpID, "Sneak" )
	end
end


local commonPhase_Alert = function()
	local sequence	= TppSequence.GetCurrentSequence()



	
	
	
	GZCommon.CallAlertSirenCheck()
	
	
	
	if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" or sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
		commonMT_Squad_StateMove( "Alert" )
		commonMT_Center_StateMove( "Alert" )
		commonEnemy_Reinforce_StateMove( "Alert" )
		
		if( TppMission.GetFlag( "isAlert" ) == false ) then
			TppMission.SetFlag( "isAlert", true )
		end
		
		commonKeepPhaseAlert( "ON" )
	end
	
	commonTargetEscapeRadio( "Alert" )
	
	commonMT_Squad_DisableIntelRadio( false )
	commonMT_Center_DisableIntelRadio( false )
end


local commonChangeAntiAir = function()



	
	local status = TppData.GetArgument(2)
	
	if ( status == true ) then
		
		GZCommon.CallCautionSiren()
	
	else
		
		GZCommon.StopSirenNormal()
	end
end


local commonEnemyFindComrade = function()
	local EnemyCharacterID			= TppData.GetArgument(1)
	local ComradeEnemyCharacterID	= TppData.GetArgument(2)
	local ComradeEnemyState			= TppData.GetArgument(3)
	local sequence					= TppSequence.GetCurrentSequence()






	
	if( sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" or sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
		
		if( ComradeEnemyState == "Dead" ) then
			if( ComradeEnemyCharacterID == this.CharacterID_MT_Center or ComradeEnemyCharacterID == this.CharacterID_MT_Squad ) then
				TppRadio.DelayPlay("Radio_KeepCaution_KillOne", "mid")
				TppMission.SetFlag( "isKeepCaution", true )
			end
		end
	elseif( sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
		if( ComradeEnemyState == "Dead" ) then
			if( ComradeEnemyCharacterID == this.CharacterID_MT_Center or ComradeEnemyCharacterID == this.CharacterID_MT_Squad ) then
				TppRadio.DelayPlay("Radio_KeepCaution_KillTwo", "mid")
				TppMission.SetFlag( "isKeepCaution", true )
			end
		end
	end
	
	if( TppMission.GetFlag( "isKeepCaution" ) ==  true ) then
		
		if( ComradeEnemyCharacterID == this.CharacterID_MT_Center ) then
			
			commonMT_Squad_StateMove( "KeepCaution" )
		
		elseif( ComradeEnemyCharacterID == this.CharacterID_MT_Squad ) then
			
			commonMT_Center_StateMove( "KeepCaution" )
		end
		
		commonEnemy_Reinforce_StateMove( "KeepCaution" )
		
		commonTargetEscapeRadio( "Caution" )
	end
end


local commonCarriedEnemy = function( num )
	local EnemyCharacterID			= TppData.GetArgument(1)
	local EnemyLife					= TppEnemyUtility.GetLifeStatus( EnemyCharacterID )
	local sequence					= TppSequence.GetCurrentSequence()
	local clearflag					= false
	local funcs = {
		onEnd = function()
			commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
		end,
	}






	
	if( num == "Start" ) then
		
		if ( EnemyLife ~= "Dead" ) then
			if( EnemyCharacterID == this.CharacterID_MT_Squad ) then
				
				if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == false ) then
					
					TppRadio.DelayPlayEnqueue( "Radio_MarkerOnCarriedMissionTargetB", "mid", nil, funcs )
					
					commonMissionTargetMarkerOn( this.CharacterID_MT_Squad, false, true, false )
				
				else
					if( sequence == "Seq_Waiting_KillMT_Squad" ) then
						if( TppMission.GetFlag( "isRadio_MTSquadCarried" ) == false ) then
							if( EnemyLife == "Sleep" or EnemyLife == "Faint" ) then
								TppRadio.DelayPlayEnqueue( "Radio_MissionTargetCarriedOne", "mid" )
								TppMission.SetFlag( "isRadio_MTSquadCarried", true )
							end
						end
					end
				end
			elseif( EnemyCharacterID == this.CharacterID_MT_Center ) then
				
				if( TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == false ) then
					
					TppRadio.DelayPlayEnqueue( "Radio_MarkerOnCarriedMissionTargetA", "mid", nil, funcs )
					
					commonMissionTargetMarkerOn( this.CharacterID_MT_Center, false, true, false )
				
				else
					if( sequence == "Seq_Waiting_KillMT_Center" ) then
						if( TppMission.GetFlag( "isRadio_MTCenterCarried" ) == false ) then
							if( EnemyLife == "Sleep" or EnemyLife == "Faint" ) then
								TppRadio.DelayPlayEnqueue( "Radio_MissionTargetCarriedOne", "mid" )
								TppMission.SetFlag( "isRadio_MTCenterCarried", true )
							end
						end
					end
				end
			end
		end
	end
	if( num == "Start" or num == "End" ) then
		
		if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" or sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" or sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
			
			if ( EnemyLife ~= "Dead" ) then
				
				if( EnemyCharacterID == this.CharacterID_MT_Squad or EnemyCharacterID == this.CharacterID_MT_Center ) then
					
					if( GZCommon.isPlayerWarningMissionArea == true ) then
						if( num == "Start" ) then
							
							clearflag = commonGetMissionEscapeAreaEnemy( false, true, false, false )
						end
						if( clearflag == false ) then
							if( GZCommon.isOutOfMissionEffectEnable == false ) then
								
								GZCommon.isOutOfMissionEffectEnable = true
								
								GZCommon.OutsideAreaEffectEnable()
								
								GZCommon.OutsideAreaVoiceStart()
							end
						else
							if( GZCommon.isOutOfMissionEffectEnable == true ) then
								
								GZCommon.isOutOfMissionEffectEnable = false
								
								GZCommon.OutsideAreaEffectDisable()
								
								GZCommon.OutsideAreaVoiceEnd()
							end
						end
					end
				end
			end
		end
	end
end


local commonRestraintEnemy = function( )
	local EnemyCharacterID			= TppData.GetArgument(1)
	local EnemyLife					= TppEnemyUtility.GetLifeStatus( EnemyCharacterID )
	local funcs = {
		onEnd = function()
			commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
		end,
	}



	
	if ( EnemyLife ~= "Dead" ) then
		
		if( EnemyCharacterID == this.CharacterID_MT_Squad ) then
			
			if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == false ) then
				
				TppRadio.DelayPlayEnqueue( "Radio_MarkerOnRestrainMissionTargetA", "short", nil, funcs )
				
				commonMissionTargetMarkerOn( this.CharacterID_MT_Squad, false, true, false )
			end
		
		elseif( EnemyCharacterID == this.CharacterID_MT_Center ) then
			
			if( TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == false ) then
				
				TppRadio.DelayPlayEnqueue( "Radio_MarkerOnRestrainMissionTargetB", "short", nil, funcs )
				
				commonMissionTargetMarkerOn( this.CharacterID_MT_Center, false, true, false )
			end
		end
	end
end


local commonCallAnnounceLogEnemy = function( iRadio, isEnemy )



	local AnnounceLog = 255
	
	local EndMissonTargetTwo = {
		onEnd = function()
			local VehicleId = TppPlayerUtility.GetRidingVehicleCharacterId()
			
			if( VehicleId ~= this.CharacterID_SupportHelicopter ) then
				TppRadio.DelayPlay( "Raio_MissionTargetGoalAdvice", "short", "end" )
			else
				
				TppSoundDaemon.PostEvent( "Play_sfx_s_codec_NPC_end" )
			end
		end,
	}
	
	if( isEnemy == this.CharacterID_MT_Squad ) then
		if( TppMission.GetFlag( "isMT_SquadKill" ) == 2 ) then
			AnnounceLog = 0
		else
			AnnounceLog = 1
		end
	elseif( isEnemy == this.CharacterID_MT_Center ) then
		if( TppMission.GetFlag( "isMT_CenterKill" ) == 2 ) then
			AnnounceLog = 2
		else
			AnnounceLog = 3
		end
	end
	if( AnnounceLog ~= 255 ) then
		if( iRadio ~= "NoRadio" ) then
			
			if( iRadio == 0 ) then
				if( AnnounceLog == 0 or AnnounceLog == 2 ) then
					TppRadio.DelayPlay( "Radio_MissionTargetHeliOne", "mid" )
				else
					TppRadio.DelayPlay( "Radio_MissionTargetKillOne", "mid" )
				end
			
			else
				if( AnnounceLog == 0 or AnnounceLog == 2 ) then
					TppRadio.DelayPlay( "Radio_MissionTargetHeliTwo", "mid", "begin", EndMissonTargetTwo )
				else
					TppRadio.DelayPlay( "Radio_MissionTargetKillTwo", "mid", "begin", EndMissonTargetTwo )
				end
			end
		end
		
		if( AnnounceLog == 0 ) then
			
			commonCallAnnounceLog( this.AnnounceLogID_MT_Squad_Heli )
		elseif( AnnounceLog == 1 ) then
			
			commonCallAnnounceLog( this.AnnounceLogID_MT_Squad_Kill )
		elseif( AnnounceLog == 2 ) then
			
			commonCallAnnounceLog( this.AnnounceLogID_MT_Center_Heli )
		elseif( AnnounceLog == 3 ) then
			
			commonCallAnnounceLog( this.AnnounceLogID_MT_Center_Kill )
		end
	end
end


local commonSleepFaintEnemy = function()
	local EnemyCharacterID = TppData.GetArgument(1)



	
	if( EnemyCharacterID == this.CharacterID_MT_Center ) then
		
		if( TppMission.GetFlag( "isMT_TargetMarker_MTCenter" ) == true ) then
			
			TppRadio.DelayPlay( "Radio_MissionTargetSleepFaint", "mid" )
		end
	elseif( EnemyCharacterID == this.CharacterID_MT_Squad ) then
		
		if( TppMission.GetFlag( "isMT_TargetMarker_MTSquad" ) == true ) then
			
			TppRadio.DelayPlay( "Radio_MissionTargetSleepFaint", "mid" )
		end
	end

end


local commonOnLaidEnemy = function()
	local sequence				= TppSequence.GetCurrentSequence()
	local EnemyCharacterID		= TppData.GetArgument(1)
	local VehicleCharacterID	= TppData.GetArgument(3)
	local EnemyLife				= TppEnemyUtility.GetLifeStatus( EnemyCharacterID )



	
	if ( EnemyLife ~= "Dead" ) then
		
		if( VehicleCharacterID == this.CharacterID_SupportHelicopter ) then
			
			if( ( TppMission.GetFlag( "isMT_SquadKill" ) == 0 and EnemyCharacterID == this.CharacterID_MT_Squad ) or ( TppMission.GetFlag( "isMT_CenterKill" ) == 0 and EnemyCharacterID == this.CharacterID_MT_Center ) ) then
				commonSequenceChage( EnemyCharacterID, "Recovery" )
			
			else
				
				TppRadio.Play("Miller_EnemyOnHeli")
			end
		
		elseif( VehicleCharacterID == "Tactical_Vehicle_WEST_001" or VehicleCharacterID == "Tactical_Vehicle_WEST_002" or VehicleCharacterID == "Tactical_Vehicle_WEST_003" ) then
			
			if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
				
				if( EnemyCharacterID == this.CharacterID_MT_Center ) then
					
					if( TppEnemyUtility.GetStatus( this.CharacterID_MT_Squad ) == "RideVehicle" ) then
						
						TppRadio.DelayPlayEnqueue( "Radio_MissionTargetCarriedTwo", "mid" )
					end
				
				elseif( EnemyCharacterID == this.CharacterID_MT_Squad ) then
					
					if( TppEnemyUtility.GetStatus( this.CharacterID_MT_Center ) == "RideVehicle" ) then
						
						TppRadio.DelayPlayEnqueue( "Radio_MissionTargetCarriedTwo", "mid" )
					end
				end
			end
		end
	end
end


local commonDeadEnemy = function()
	local EnemyCharacterID = TppData.GetArgument(1)



	
	if( EnemyCharacterID == this.CharacterID_MT_Squad ) then
		TppRadio.DisableIntelRadio( this.CharacterID_MT_Squad )
	elseif( EnemyCharacterID == this.CharacterID_MT_Center ) then
		TppRadio.DisableIntelRadio( this.CharacterID_MT_Center )
	end
	
	if( ( TppMission.GetFlag( "isMT_SquadKill" ) == 0 and EnemyCharacterID == this.CharacterID_MT_Squad ) or ( TppMission.GetFlag( "isMT_CenterKill" ) == 0 and EnemyCharacterID == this.CharacterID_MT_Center ) ) then
		commonSequenceChage( EnemyCharacterID, "Kill" )
	end
end


local commonInterrogationEnemy = function( iCheckPointFlag )



	local EnemyCharacterID
	local CountFlag				= false
	local CountInterrogation	= TppMission.GetFlag( "isInterrogation_Count" )
	
	if( iCheckPointFlag == false ) then
		
		EnemyCharacterID = TppData.GetArgument(1)
		
		if( EnemyCharacterID == this.CharacterID_MT_Center and TppMission.GetFlag( "isInterrogation_MTCenter" ) == false ) then
			TppMission.SetFlag( "isInterrogation_MTCenter", true )
			CountFlag = true
		elseif( EnemyCharacterID == this.CharacterID_MT_Squad and TppMission.GetFlag( "isInterrogation_MTSquad" ) == false ) then
			TppMission.SetFlag( "isInterrogation_MTSquad", true )
			CountFlag = true
		end
		
		if( CountFlag == true or ( EnemyCharacterID ~= this.CharacterID_MT_Center and EnemyCharacterID ~= this.CharacterID_MT_Squad ) ) then
			
			TppMission.SetFlag( "isInterrogation_Count", ( CountInterrogation + 1 ) )
			CountInterrogation = CountInterrogation + 1
			CountFlag = true
		end
	end
	
	if( iCheckPointFlag == true or CountFlag == true ) then
		
		
		if( CountInterrogation == ( this.InterrogationCount_TargetB - 1 ) ) then
			
			TppEnemyUtility.SetInterrogationForceCharaIdAllCharacter( this.InterrogationID_TargetB )
			
			TppEnemyUtility.UnsetInterrogationForceCharaIdByCharacterId( this.CharacterID_MT_Center )
			TppEnemyUtility.UnsetInterrogationForceCharaIdByCharacterId( this.CharacterID_MT_Squad )
		elseif( CountInterrogation == this.InterrogationCount_TargetB ) then
			
			TppEnemyUtility.UnsetInterrogationForceCharaIdAllCharacter()
		
		
		elseif( CountInterrogation == ( this.InterrogationCount_TargetA - 1 ) ) then
			
			TppEnemyUtility.SetInterrogationForceCharaIdAllCharacter( this.InterrogationID_TargetA )
			
			TppEnemyUtility.UnsetInterrogationForceCharaIdByCharacterId( this.CharacterID_MT_Center )
			TppEnemyUtility.UnsetInterrogationForceCharaIdByCharacterId( this.CharacterID_MT_Squad )
		elseif( CountInterrogation == this.InterrogationCount_TargetA ) then
			
			TppEnemyUtility.UnsetInterrogationForceCharaIdAllCharacter()
		end
	end
end


local commonDamagenEnemy = function()
	local EnemyCharacterID	= TppData.GetArgument(1)
	local DamageType		= TppData.GetArgument(3)



	
	if( DamageType == 1 or DamageType == 2 or DamageType == 3 ) then
		commonPrint2D("ダメージ食らったの強制ルート行動をオフします:"..EnemyCharacterID.."", 1 )
		
		TppEnemyUtility.SetForceRouteMode( EnemyCharacterID, false )
		
		TppEnemyUtility.SetFlagSendMessageOnReceiveDamage( EnemyCharacterID, false )
	end
end


local commonIntelCheck = function(CharacterID)
	local type = TppNpcUtility.GetNpcType( CharacterID )

	
	if type == "Enemy" then
		local lifeStatus = TppEnemyUtility.GetLifeStatus( CharacterID )	
		if lifeStatus == "Normal" then
			TppRadio.EnableIntelRadio( characterID )
		else	
			TppRadio.DisableIntelRadio( CharacterID )
		end
	end
end





local commonCheckHostateArea = function( CharacterID )



	local pos
	local size
	local rot
	local npcIds
	
	if( CharacterID == this.CharacterID_Hostage_PickingDoor08 ) then
		pos		= Vector3( 73.1, 18, 219.2 )
		size	= Vector3( 3, 4, 3 )
		rot		= Quat( 0.0 , 0.0, 0.0, 1.0 )
	elseif( CharacterID == this.CharacterID_Hostage_PickingDoor22 ) then
		pos		= Vector3( 64.5, 19, 200.575 )
		size	= Vector3( 3, 4, 3 )
		rot		= Quat( 0.0 , 0.0, 0.0, 1.0 )
	else
		
		return false
	end
	
	local npcIds = TppNpcUtility.GetNpcByBoxShape( pos, size, rot )
	
	if( npcIds and #npcIds.array > 0 ) then
		for i,id in ipairs(npcIds.array) do
			local type					= TppNpcUtility.GetNpcType( id )
			local HostageCharacterID	= TppCharacterUtility.GetCharacterIdFromUniqueId( id )



			if( type == "Hostage" and HostageCharacterID == CharacterID ) then
				return true
			end
		end
	end
	return false
end


local commonHostageHelp = function( num )
	local HostageCharacterID01 = TppHostageUtility.GetStatus( this.CharacterID_Hostage_PickingDoor08 )
	local HostageCharacterID02 = TppHostageUtility.GetStatus( this.CharacterID_Hostage_PickingDoor22 )



	
	if( num == "Enter" ) then
		if( HostageCharacterID01 == "Normal" or HostageCharacterID02 == "Normal" ) then
			
			TppRadio.DelayPlay("Radio_DiscoverHostage", "mid" )
		end
		
		if( HostageCharacterID01 == "Normal" and commonCheckHostateArea( this.CharacterID_Hostage_PickingDoor08 ) == true ) then
			TppHostageManager.GsSetStruggleFlag( this.CharacterID_Hostage_PickingDoor08, true )
		end
		if( HostageCharacterID02 == "Normal" and commonCheckHostateArea( this.CharacterID_Hostage_PickingDoor22 ) == true ) then
			TppHostageManager.GsSetStruggleFlag( this.CharacterID_Hostage_PickingDoor22, true )
		end
	
	else
		
		if( HostageCharacterID01 == "Normal" and commonCheckHostateArea( this.CharacterID_Hostage_PickingDoor08 ) == true ) then
			TppHostageManager.GsSetStruggleFlag( this.CharacterID_Hostage_PickingDoor08, false )
		end
		if( HostageCharacterID02 == "Normal" and commonCheckHostateArea( this.CharacterID_Hostage_PickingDoor22 ) == true ) then
			TppHostageManager.GsSetStruggleFlag( this.CharacterID_Hostage_PickingDoor22, false )
		end
	end
end


local commonOnLaidHostage = function()



	local HostageCharacterID	= TppData.GetArgument(1)
	local VehicleCharacterID	= TppData.GetArgument(3)
	local sequence				= TppSequence.GetCurrentSequence()
	
	if( VehicleCharacterID == this.CharacterID_SupportHelicopter ) then
		
		TppRadio.DelayPlay( "Radio_HostageOnHeli", "mid", nil )
		
		GZCommon.NormalHostageRecovery( HostageCharacterID )
	end
end


local commonOnDeadHostage = function()



	local HostageCharacterID	= TppData.GetArgument(1)
	local PlayerDead			= TppData.GetArgument(4)
	
	if( PlayerDead == true ) then
		TppRadio.DelayPlay( "Radio_HostageDead", "mid" )
	end
end






local commonOnPickingDoor = function()
	local characterId = TppData.GetArgument(1)



	
	if( characterId == "AsyPickingDoor08" )then
		TppHostageManager.GsSetStruggleFlag( this.CharacterID_Hostage_PickingDoor08, false )
	elseif( characterId == "AsyPickingDoor22" )then
		TppHostageManager.GsSetStruggleFlag( this.CharacterID_Hostage_PickingDoor22, false )
	end
end


local commonOnVehicleRide = function( num )
	local VehicleCharacterID	= TppData.GetArgument(1)
	local VehicleID				= TppData.GetArgument(2)
	local sequence				= TppSequence.GetCurrentSequence()
	local clearflag				= false
	local hudCommonData			= HudCommonDataManager.GetInstance()



	if( num == "Start" or num == "End" ) then
		
		if( VehicleID == "WheeledArmoredVehicleMachineGun" ) then				
			if( num == "Start" ) then
				if( TppMission.GetFlag( "isAVMTutorial" ) == false ) then			
					
					hudCommonData:CallButtonGuide( "tutorial_pause", "UI_SELECT" )
					hudCommonData:CallButtonGuide( "tutorial_apc", fox.PAD_Y )
					TppMission.SetFlag( "isAVMTutorial", true )						
				else
					
					hudCommonData:CallButtonGuide( "tutorial_vehicle_attack", "VEHICLE_FIRE" )
				end
			end
		elseif( VehicleID == "SupportHelicopter" ) then							

		else
			if( num == "Start" ) then

				
				hudCommonData:CallButtonGuide( "tutorial_accelarater", "VEHICLE_TRIGGER_ACCEL" )
				
				hudCommonData:CallButtonGuide( "tutorial_brake", "VEHICLE_TRIGGER_BREAK" )
				TppMission.SetFlag( "isCarTutorial", true )						

			end
		end
		
		if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" or sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" or sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
			
			if( GZCommon.isPlayerWarningMissionArea == true ) then
				
				if ( sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
					clearflag = true
				else
					if( num == "Start" ) then
						
						clearflag = commonGetMissionEscapeAreaEnemy( false, false, true, false )
					end
				end
				if( clearflag == false ) then
					if( GZCommon.isOutOfMissionEffectEnable == false ) then
						
						GZCommon.isOutOfMissionEffectEnable = true
						
						GZCommon.OutsideAreaEffectEnable()
						
						GZCommon.OutsideAreaVoiceStart()
					end
				else
					if( GZCommon.isOutOfMissionEffectEnable == true ) then
						
						GZCommon.isOutOfMissionEffectEnable = false
						
						GZCommon.OutsideAreaEffectDisable()
						
						GZCommon.OutsideAreaVoiceEnd()
					end
				end
			end
		end
	end
	
	if( num == "SneakStart") then
		TppMission.SetFlag( "isPlayerRideSneak", true )
	elseif( "SneakEnd" ) then
		TppMission.SetFlag( "isPlayerRideSneak", false )
	end
end


local commonTutorial_2Button = function( textInfo, buttonIcon1, buttonIcon2 )
	
	local hudCommonData = HudCommonDataManager.GetInstance()
	hudCommonData:CallButtonGuide( textInfo, buttonIcon1, buttonIcon2 )
end


local commonPickUpWeaopn = function()
	
	local weaponID = TppData.GetArgument( 1 )



	
	if( weaponID == "WP_ms02" ) then
		
		if( TppMission.GetFlag( "isPrimaryWPIcon" ) == false ) then
			commonTutorial_2Button("tutorial_primary_wp_select", fox.PAD_U, "RStick")
			TppMission.SetFlag( "isPrimaryWPIcon", true )
		end
	
	elseif( weaponID == "WP_sr01_v00" ) then
		
		if( TppMission.GetFlag( "isPrimaryWPIcon" ) == false ) then
			commonTutorial_2Button("tutorial_primary_wp_select", fox.PAD_U, "RStick")
			TppMission.SetFlag( "isPrimaryWPIcon", true )
		end
		
		if( TppMission.GetFlag( "isPlayerRideSneak" ) == true ) then
			if( TppMission.GetFlag( "isIntelRadio_Western" ) == false ) then
				
				TppRadio.RegisterIntelRadio( this.VehicleID_Western02, "f0090_esrg0050", true )
				
				TppMission.SetFlag( "isPlayerGetTruckSniper", true )
			end
		end
	end
end


local commonPlayerPickItem = function()
	local ItemID			= TppData.GetArgument(1)
	local Index				= TppData.GetArgument(2)



	
	if ( ItemID == "IT_Cassette" ) then
		if ( Index == 5 ) then
			
			local uiCommonData = UiCommonDataManager.GetInstance()
			uiCommonData:GetBriefingCassetteTape( this.CassetteID )
		end
	end
end






local commonUiMissionSubGoalNo = function( id )



	local commonDataManager = UiCommonDataManager.GetInstance()
	if commonDataManager == NULL then
			return
	end
	local luaData = commonDataManager:GetUiLuaExportCommonData()
	if luaData == NULL then
			return
	end
	
	luaData:SetCurrentMissionSubGoalNo(id)
end


local commonUiMissionPhotoChange = function( characterID )



	local commonDataManager = UiCommonDataManager.GetInstance()
	if commonDataManager == NULL then
			return
	end
	local luaData = commonDataManager:GetUiLuaExportCommonData()
	if luaData == NULL then
			return
	end	
	
	if( characterID == this.CharacterID_MT_Center ) then
		if( luaData:IsMissionPhotoIdEnable( this.PhotoID_MT_Center ) ) then
			
			luaData:SetCompleteMissionPhotoId( this.PhotoID_MT_Center, true )
		end
	
	elseif( characterID == this.CharacterID_MT_Squad ) then
		if( luaData:IsMissionPhotoIdEnable( this.PhotoID_MT_Squad ) ) then
			
			luaData:SetCompleteMissionPhotoId( this.PhotoID_MT_Squad, true )
		end
	end

end





local commonHeliArrive = function()
	local timer = 55 



	
	TppMission.SetFlag( "isHeliLandNow", true )						
	GkEventTimerManager.Start( "Timer_pleaseLeaveHeli", timer )
end


local commonHeliTakeOff = function()
	local sequence = TppSequence.GetCurrentSequence()



	local isPlayer = TppData.GetArgument(3)
	
	if ( isPlayer == true ) then
		if( sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
			
			TppSequence.ChangeSequence( "Seq_MissionClearPlayerRideHelicopter" )
		elseif( sequence == "Seq_MissionClearPlayerRideHelicopter" or sequence == "Seq_Mission_FailedPlayerRideHelicopter" ) then
			
		else
			
			TppSequence.ChangeSequence( "Seq_Mission_FailedPlayerRideHelicopter" )
		end
	end
	
	TppMission.SetFlag( "isHeliLandNow", false )
end


local commonPlayerRideHelicopter = function( num )



	
	if( num == 0 ) then
		
		TppRadio.DelayPlay( "Radio_RideHeli_Warning", "mid" )
		
		TppSupportHelicopterService.SetEnableGetOffTime( GZCommon.WaitTime_HeliTakeOff )
	
	else
		
		TppRadio.Play( "Radio_RideHeli_Clear" )
		
		TppSequence.ChangeSequence( "Seq_MissionClearPlayerRideHelicopter" )
	end
end


local commonHeliDead = function()
	local sequence = TppSequence.GetCurrentSequence()
	local killerCharacterId = TppData.GetArgument(2)



	
	if ( sequence == "Seq_MissionClearPlayerRideHelicopter" or sequence == "Seq_Mission_FailedPlayerRideHelicopter" ) then
		TppMission.ChangeState( "failed", "PlayerDeadOnHeli" )
	else
		
		if( killerCharacterId == "Player" ) then
			TppRadio.Play( "Miller_HeliDeadSneak" )
		else
			TppRadio.Play( "Miller_HeliDead" )
		end
		
		if( sequence == "Seq_Waiting_KillMT_Center" ) then
			if( TppMission.GetFlag( "isMT_SquadKill" ) == 2 ) then
				
				TppMission.SetFlag( "isMT_SquadKill", 1 )
				TppRadio.DisableIntelRadio( this.CharacterID_MT_Squad )
				
				commonCallAnnounceLogEnemy( "NoRadio", this.CharacterID_MT_Squad )
				
				TppMission.SetFlag( "isSupportHelicopterDead", true )
			end
		
		elseif ( sequence == "Seq_Waiting_KillMT_Squad" ) then
			if( TppMission.GetFlag( "isMT_CenterKill" ) == 2 ) then
				
				TppMission.SetFlag( "isMT_CenterKill", 1 )
				TppRadio.DisableIntelRadio( this.CharacterID_MT_Center )
				
				commonCallAnnounceLogEnemy( "NoRadio", this.CharacterID_MT_Center )
				
				TppMission.SetFlag( "isSupportHelicopterDead", true )
			end
		
		elseif ( sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
			
			if( TppMission.GetFlag( "isMT_SquadKill" ) == 2 or TppMission.GetFlag( "isMT_CenterKill" ) == 2 ) then
				
				if( TppMission.GetFlag( "isMT_CenterKill" ) == 2 ) then
					
					TppMission.SetFlag( "isMT_CenterKill", 1 )
					TppRadio.DisableIntelRadio( this.CharacterID_MT_Center )
					
					commonCallAnnounceLogEnemy( "NoRadio", this.CharacterID_MT_Center )
				end
				
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 2 ) then
					
					TppMission.SetFlag( "isMT_SquadKill", 1 )
					TppRadio.DisableIntelRadio( this.CharacterID_MT_Squad )
					
					commonCallAnnounceLogEnemy( "NoRadio", this.CharacterID_MT_Squad )
				end
				
				TppMission.SetFlag( "isSupportHelicopterDead", true )
			end
		end
	end
	
	commonCallAnnounceLog( this.AnnounceLogID_HeliDestroyed )
end


local commonHeliRendezvousPointMarker = function( RVname )



	

end


local commonMbDvcActCallRescueHeli = function(characterId, type)
	local radioDaemon	= RadioDaemon:GetInstance()
	local emergency		= TppData.GetArgument(2)
	local charaObj		= Ch.FindCharacterObjectByCharacterId("SupportHelicopter")
	local plgHeli		= charaObj:GetCharacter():FindPlugin("TppSupportHelicopterPlugin")












	local VehicleId = TppPlayerUtility.GetRidingVehicleCharacterId()
	if( VehicleId == "SupportHelicopter" ) then
	else
		if ( type == "MbDvc" ) then









			if ( radioDaemon:IsPlayingRadio() == false ) then
				
				if( TppSupportHelicopterService.IsDueToGoToLandingZone( characterId ) ) then
					
					if( emergency == 2 ) then
						TppRadio.DelayPlay( "Miller_CallHeliHot02", "long" )
					else
						TppRadio.DelayPlay( "Miller_CallHeli02", "long" )
					end
				else
					
					if( plgHeli:GetAiStatus() ~= "AI_STATUS_RETURN" ) then
						if( emergency == 2 ) then
							TppRadio.DelayPlay( "Miller_CallHeliHot01", "long" )
						else
							TppRadio.DelayPlay( "Miller_CallHeli01", "long" )
						end
					end
				end
			end
		elseif ( type == "flare" ) then









			if ( emergency == false ) then
				
				if ( radioDaemon:IsPlayingRadio() == false ) then
					TppRadio.DelayPlay( "Miller_HeliNoCall", "long" )
				end
			else
				
				if ( radioDaemon:IsPlayingRadio() == false ) then
					
					if(TppSupportHelicopterService.IsDueToGoToLandingZone(characterId)) then
						
						if(emergency == 2) then
							TppRadio.DelayPlay( "Miller_CallHeliHot02", "long" )
						else
							TppRadio.DelayPlay( "Miller_CallHeli02", "long" )
						end
					else
						
						if( plgHeli:GetAiStatus() ~= "AI_STATUS_RETURN" ) then
							if(emergency == 2) then
								TppRadio.DelayPlay( "Miller_CallHeliHot01", "long" )
							else
								TppRadio.DelayPlay( "Miller_CallHeli01", "long" )
							end
						end
					end
				end
			end
		else
			if ( radioDaemon:IsPlayingRadio() == false ) then
				
				if(TppSupportHelicopterService.IsDueToGoToLandingZone(characterId)) then
					
					TppRadio.DelayPlay( "Miller_CallHeli02", "long" )
				else
					
					if( plgHeli:GetAiStatus() ~= "AI_STATUS_RETURN" ) then
						TppRadio.DelayPlay( "Miller_CallHeli01", "long" )
					end
				end
			end
		end
	end
end


local commonHeliDamagedByPlayer = function()
	local radioDaemon = RadioDaemon:GetInstance()
	if ( radioDaemon:IsPlayingRadio() == false ) then
		
		TppRadio.PlayEnqueue( "Miller_HeliAttack" )
	end
end


local commonHeliLeaveJudge = function()
	local radioDaemon = RadioDaemon:GetInstance()
	local timer = 55 
	
	if( TppMission.GetFlag( "isHeliLandNow" ) == true ) then
		
		if ( GZCommon.Radio_pleaseLeaveHeli() == true ) then
			
			if ( radioDaemon:IsPlayingRadio() == false ) then
				
				TppRadio.PlayEnqueue( "Miller_HeliLeave" )
			end
			GkEventTimerManager.Start( "Timer_pleaseLeaveHeli", timer )
		end
	end
end


local commonHeliLeaveExtension = function()
	local timer = 55 
	
	GkEventTimerManager.Stop( "Timer_pleaseLeaveHeli" )
	GkEventTimerManager.Start( "Timer_pleaseLeaveHeli", timer )
end






this.destroyAnnounceLogMap = {}
this.destroyAnnounceLogMap["gntn_area01_antiAirGun_000"]	= "announce_destroy_AntiAirCraftGun"	
this.destroyAnnounceLogMap["gntn_area01_antiAirGun_001"]	= "announce_destroy_AntiAirCraftGun"	
this.destroyAnnounceLogMap["gntn_area01_antiAirGun_002"]	= "announce_destroy_AntiAirCraftGun"	
this.destroyAnnounceLogMap["gntn_area01_antiAirGun_003"]	= "announce_destroy_AntiAirCraftGun"	
this.destroyAnnounceLogMap["WoodTurret01"]					= "announce_destroy_tower"				
this.destroyAnnounceLogMap["WoodTurret02"]					= "announce_destroy_tower"				
this.destroyAnnounceLogMap["WoodTurret03"]					= "announce_destroy_tower"				
this.destroyAnnounceLogMap["WoodTurret04"]					= "announce_destroy_tower"				
this.destroyAnnounceLogMap["WoodTurret05"]					= "announce_destroy_tower"				
this.destroyAnnounceLogMap["Tactical_Vehicle_WEST_001"]		= "announce_destroy_vehicle"			
this.destroyAnnounceLogMap["Tactical_Vehicle_WEST_002"]		= "announce_destroy_vehicle"			
this.destroyAnnounceLogMap["Tactical_Vehicle_WEST_003"]		= "announce_destroy_vehicle"			
this.destroyAnnounceLogMap["Cargo_Truck_WEST_000"]			= "announce_destroy_truck"				
this.destroyAnnounceLogMap["Cargo_Truck_WEST_001"]			= "announce_destroy_truck"				
this.destroyAnnounceLogMap["Armored_Vehicle_WEST_001"]		= "announce_destroy_APC"				


local commonGetDestroyAnnounceLogId = function( characterId )
	return this.destroyAnnounceLogMap[ characterId ]
end


local commonGimmickBroken = function( AnnounceLogOFF )



	local CharacterID		= TppData.GetArgument(1)						
	local AnnounceLogID		= commonGetDestroyAnnounceLogId( CharacterID )	
	commonPrint2D("ギミック破壊"..CharacterID )
	
	if( CharacterID == "WoodTurret01" ) then
		
	elseif( CharacterID == "WoodTurret02" ) then
		if( TppMission.GetFlag( "isGimmick_Break_WoodTurret02" ) == false ) then
			TppEnemy.DisableRoute( this.cpID, "gntn_common_d01_route0021" )
			TppEnemy.EnableRoute( this.cpID, "gntn_common_d01_route0005" )
			TppMission.SetFlag( "isGimmick_Break_WoodTurret02", true )
		end
	elseif( CharacterID == "WoodTurret03" ) then
		
	elseif( CharacterID == "WoodTurret04" ) then
		
	elseif( CharacterID == "WoodTurret05" ) then
		
	end
	
	if( AnnounceLogOFF == "ON" and AnnounceLogID ~= nil ) then
		commonCallAnnounceLog( AnnounceLogID )
	end
end


local commonSecurityCamera = function( num )
	local characterID = TppData.GetArgument( 1 )



	if( num == "Dead" ) then
		TppRadio.DisableIntelRadio( characterID )
	elseif( num == "Poweroff" ) then
		TppRadio.DisableIntelRadio( characterID )
	elseif( num == "Poweron" ) then
		TppRadio.EnableIntelRadio( characterID)
	end
end






local After_SwitchOff = function()



	
	TppDataUtility.SetEnableDataFromIdentifier( "gntn_Trap", "SwitchLightArea", true , false )
	
	TppEnemyUtility.PowerOnSecurityCameraByCharacterId( "e20020_SecurityCamera_02" , false )
	TppEnemyUtility.PowerOnSecurityCameraByCharacterId( "e20020_SecurityCamera_03" , false )
	
end


local SwitchLight_OFF = function()



	local phase = TppEnemy.GetPhase( this.cpID )
	
	if( TppMission.GetFlag( "isSwitchLightDemo" ) == false ) and ( phase == "sneak" or phase == "caution" or phase == "evasion" ) then
		
		local onDemoStart = function()
			
			local radioDaemon = RadioDaemon:GetInstance()
			radioDaemon:StopDirect()
			
			SubtitlesCommand.StopAll()
			
			TppEnemyUtility.PowerOnSecurityCameraByCharacterId( "e20020_SecurityCamera_02", false )
			
			TppDataUtility.CreateEffectFromGroupId( "wtrdrpbil" )
			TppDataUtility.CreateEffectFromGroupId( "dstcomviw" )
		end
		
		local onDemoSkip = function()
			
			TppGadgetUtility.SetSwitch("gntn_center_SwitchLight",false)
		end
		
		local onDemoEnd = function()
			
			TppMission.SetFlag( "isSwitchLightDemo", true )
			
			After_SwitchOff()
			
			TppDataUtility.DestroyEffectFromGroupId( "wtrdrpbil" )
			TppDataUtility.DestroyEffectFromGroupId( "dstcomviw" )
		end
		
		TppDemo.Play( "SwitchLightDemo", { onStart = onDemoStart, onSkip = onDemoSkip ,onEnd = onDemoEnd },
			{
				disableGame				= false,	
				disableDamageFilter		= false,	
				disableDemoEnemies		= false,	
				disableEnemyReaction	= true,		
				disableHelicopter		= false,	
				disablePlacement		= false, 	
				disableThrowing			= false	 	
			}
		)
	
	else
		
		After_SwitchOff()
	end
end


local SwitchLight_ON = function()



	
	TppDataUtility.SetEnableDataFromIdentifier( "gntn_Trap", "SwitchLightArea", false , false )
	
	TppEnemyUtility.PowerOnSecurityCameraByCharacterId( "e20020_SecurityCamera_02" , true )
	TppEnemyUtility.PowerOnSecurityCameraByCharacterId( "e20020_SecurityCamera_03" , true )
	
end


local commonMissionFailureDemo = function( EscapeAreaName )



	local DemoName = "NoName"
	
	if( EscapeAreaName == "North" ) then
		DemoName = "Demo_AreaEscapeNorth"
	elseif( EscapeAreaName == "West" ) then
		DemoName = "Demo_AreaEscapeWest"
	end
	
	if( DemoName ~= "NoName" ) then
		TppDemo.Play( DemoName,
						{
						
						  disableDemoEnemies = false,	
						  disableHelicopter = false,	
						} )
	end
end


local commonTimeOutsideAreaCamera = function()



	
	local hudCommonData = HudCommonDataManager.GetInstance()
	
	if( this.CounterList.VipOnEscapeArea == "NoArea" ) then
		
		GZCommon.OutsideAreaCamera_Human( this.CounterList.VipOnEscapeCharacterID )
	else
		
		GZCommon.OutsideAreaCamera_Human( this.CounterList.VipOnEscapeCharacterID, this.CounterList.VipOnEscapeArea )
	end
	
	hudCommonData:CallFailedTelop( "gameover_reason_target_outside" )
end






local commonCallEscapMusic = function( num )



	if( num == "Start" ) then
		
		TppMusicManager.StartSceneMode()
		
		TppMusicManager.PlaySceneMusic( "Play_bgm_gntn_escape" )
	elseif( num == "Fade" ) then
		
		TppMusicManager.PlaySceneMusic( "Stop_bgm_gntn_escape" )
	elseif( num == "End" ) then
		
		TppMusicManager.EndSceneMode()
	end
end


local commonEscapeVehicleSound = function()



	local characterObject = Ch.FindCharacterObjectByCharacterId( this.CounterList.VipOnEscapeVehicleID )
	local pos = characterObject:GetPosition()
	TppSoundDaemon.PostEvent3D( "Play_sfx_c_horn_escape", pos )
end





local commonMissionFlagRestore = function( )



	
	this.CounterList.DEBUG_commonPrint2DCount		= 0
	
	this.CounterList.VipOnEscapeVehicleID			= "NoRide"
	
	this.CounterList.VipOnEscapeCharacterID			= "NoCharacterID"
	
	this.CounterList.VipOnEscapeArea				= "NoArea"
	
	this.CounterList.ForceRoute_MTSquad				= "OFF"
	
	this.CounterList.ForceRoute_MTCenter			= "OFF"
	
	this.CounterList.IntelRadioBuilding_MTSquad		= false
	
	this.CounterList.IntelRadioBuilding_MTCenter	= false
	
	this.CounterList.GameOverRadioName				= "NoRadio"
	
	this.CounterList.GameOptionalRadioName			= "NoRadio"
	
	this.CounterList.NextSequenceName				= "NoName"
	
	this.CounterList.HeliRendezvousPointName		= "NoName"
end


this.commonMissionCleanUp = function()



	
	GZCommon.MissionCleanup()
	
	commonMissionFlagRestore()
	
	commonRegisterRadioCondition( "OFF" )
	
	commonCallEscapMusic( "End" )
	
	GzRadioSaveData.ResetSaveRadioId()
	GzRadioSaveData.ResetSaveEspionageId()
	local radioManager = RadioDaemon:GetInstance()
	radioManager:DisableAllFlagIsMarkAsRead()
	radioManager:ResetRadioGroupAndGroupSetAlreadyReadFlag()
end






local commonOutsideMissionWarningArea = function()
	local sequence	= TppSequence.GetCurrentSequence()
	local clearflag = false



	if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" or sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
		
		clearflag = commonGetMissionEscapeAreaEnemy( false, false, false, false )
		
		if( clearflag == false ) then
			
			TppRadio.Play("Radio_MissionFailed_Warning_OutsideArea")
			
			commonCallAnnounceLog( this.AnnounceLogID_MissionAreaWarning )
			if( GZCommon.isOutOfMissionEffectEnable == false ) then
				
				GZCommon.isOutOfMissionEffectEnable = true
				
				GZCommon.OutsideAreaEffectEnable()
				
				GZCommon.OutsideAreaVoiceStart()
			end
		else
			
			TppRadio.Play("Radio_MissionClear_Warning_OutsideArea")
			if( GZCommon.isOutOfMissionEffectEnable == true ) then
				
				GZCommon.isOutOfMissionEffectEnable = false
				
				GZCommon.OutsideAreaEffectDisable()
				
				GZCommon.OutsideAreaVoiceEnd()
			end
		end
	else
		
		TppRadio.Play("Radio_MissionClear_Warning_OutsideArea")
		if( GZCommon.isOutOfMissionEffectEnable == true ) then
			
			GZCommon.isOutOfMissionEffectEnable = false
			
			GZCommon.OutsideAreaEffectDisable()
			
			GZCommon.OutsideAreaVoiceEnd()
		end
	end
end


local commonOutsideMissionEscapeArea = function()
	local sequence	= TppSequence.GetCurrentSequence()
	local clearflag = false



	
	if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" or sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
		
		clearflag = commonGetMissionEscapeAreaEnemy( true, false, false, false )
		if( clearflag == true ) then
			
			commonGetMissionEscapeAreaEnemy( false, false, false, true )
			
			commonCallAnnounceLog( this.AnnounceLogID_MissionGoal )
			
			if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
				TppMission.SetFlag( "isMT_SquadKill", 2 )
				TppMission.SetFlag( "isMT_CenterKill", 2 )
			elseif( sequence == "Seq_Waiting_KillMT_Center") then
				TppMission.SetFlag( "isMT_CenterKill", 2 )
			elseif( sequence == "Seq_Waiting_KillMT_Squad") then
				TppMission.SetFlag( "isMT_SquadKill", 2 )
			end
			
			TppSequence.ChangeSequence( "Seq_MissionClearEscapeMissionArea" )
		else
			
			TppSequence.ChangeSequence( "Seq_Mission_FailedPlayerEscapeMissionArea" )
		end
	
	elseif( sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
		
		commonGetMissionEscapeAreaEnemy( false, false, false, true )
		
		TppSequence.ChangeSequence( "Seq_MissionClearEscapeMissionArea" )
	end
end


local commonSequenceChangeMissionWarningArea = function()
	local sequence	= TppSequence.GetCurrentSequence()
	local clearflag = false



	
	if( GZCommon.isPlayerWarningMissionArea == true ) then
		if( sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
			clearflag = true
		else
			
			clearflag = commonGetMissionEscapeAreaEnemy( true, false, false, false )
		end
		if( clearflag == false ) then
			if( GZCommon.isOutOfMissionEffectEnable == false ) then
				
				GZCommon.isOutOfMissionEffectEnable = true
				
				GZCommon.OutsideAreaEffectEnable()
				
				GZCommon.OutsideAreaVoiceStart()
			end
		else
			if( GZCommon.isOutOfMissionEffectEnable == true ) then
				
				GZCommon.isOutOfMissionEffectEnable = false
				
				GZCommon.OutsideAreaEffectDisable()
				
				GZCommon.OutsideAreaVoiceEnd()
			end
		end
	end
end





local commonMissionPrepare = function( manager )
	local sequence = TppSequence.GetCurrentSequence()
	local weapons = GZWeapon.e20020_SetWeapons
	local hardmode = TppGameSequence.GetGameFlag("hardmode")	
	if( hardmode == true ) then
		weapons = GZWeapon.e20020_SetWeaponsHard
	end



	if( sequence == "Seq_MissionPrepare" or manager:IsStartingFromResearvedForDebug() ) then
		
		if( this.DebugSetSniperRifle == true ) then
			weapons = GZWeapon.e20020_SetWeaponsDebugSetSniperRifle
		end
		TppPlayer.SetWeapons( weapons )

	end
	
	
	this.tmpBestRank = GZCommon.CheckClearRankReward( this.missionID, this.ClearRankRewardList )




	
	local uiCommonData = UiCommonDataManager.GetInstance()
	this.tmpRewardNum = uiCommonData:GetRewardNowCount( this.missionID )



	

end

local commonMissionSetup = function()



	
	TppClock.SetTime( "14:00:00" )
	TppClock.Stop()
	TppWeather.SetWeather( "sunny" )
	WeatherManager.RequestTag("default", 0 )
	
	GrTools.SetLightingColorScale(4.0)
	
	TppEffectUtility.SetColorCorrectionLut( "common_clearSky_a_FILTERLUT" )
	
	MissionManager.SetMiddleTextureWaitParameter( 0.5, 5 )
	
	commonMissionFlagRestore()
	
	TppGimmick.OpenDoor( "Paz_PickingDoor00", 270 )
	
	TppRadio.SetAllSaveRadioId()
	
	GZCommon.Common_CenterBigGateVehicleSetup( this.cpID, "TppGroupVehicleRouteInfo_VehicleMT01_to_Outside", "e20020_route_MT01_00_0000_V_Escape01", "e20020_route_MT01_00_0000_V_Escape02", 0, "NotClose" )
	
	GZCommon.isPlayerWarningMissionArea = false
	
	if( TppMission.GetFlag( "isMissionSetupInit" ) == false ) then
		
		TppNewCollectibleUtility.PutCollectibleOnCharacter{ id = "WP_sr01_v00", count = 20, target = this.VehicleID_Western02, attachPoint = "CNP_USERITEM" }
		
		TppMission.SetFlag( "isMissionSetupInit", true )
	end
end

local commonDemoBlockSetup = function()



	local demoBlockPath = "/Assets/tpp/pack/mission/extra/e20020/e20020_d01.fpk"
	TppMission.LoadDemoBlock( demoBlockPath )
	TppMission.LoadEventBlock("/Assets/tpp/pack/location/gntn/gntn_heli.fpk" )
end

local commonUiMissionPhotoSetup = function()



	local sequence = TppSequence.GetCurrentSequence()
	local commonDataManager = UiCommonDataManager.GetInstance()
	if commonDataManager == NULL then
		return
	end
	local luaData = commonDataManager:GetUiLuaExportCommonData()
	if luaData == NULL then
		return
	end
	
	if( TppMission.GetFlag( "isMissionPhotoInit" ) == false ) then
		
		luaData:ClearAllMissionPhotoIds()
		
		luaData:EnableMissionPhotoId( this.PhotoID_MT_Center )
		
		if( luaData:IsMissionPhotoIdEnable( this.PhotoID_MT_Center ) ) then
			luaData:SetAdditonalMissionPhotoId( this.PhotoID_MT_Center, true ,false )	
		end
		
		luaData:EnableMissionPhotoId( this.PhotoID_MT_Squad )
		
		if( luaData:IsMissionPhotoIdEnable( this.PhotoID_MT_Squad ) ) then
			luaData:SetAdditonalMissionPhotoId( this.PhotoID_MT_Squad, false ,true )	
		end
		
		TppMission.SetFlag( "isMissionPhotoInit", true )
	end
	
	if( TppMission.GetFlag( "isMT_CenterKill" ) ~= 0 ) then
		
		commonUiMissionPhotoChange( this.CharacterID_MT_Center )
	end
	if( TppMission.GetFlag( "isMT_SquadKill" ) ~= 0 ) then
		
		commonUiMissionPhotoChange( this.CharacterID_MT_Squad )
	end
	
	if( sequence == "Seq_Waiting_KillMT_Squad_and_Center" ) then
		
		commonUiMissionSubGoalNo( this.MissionSubGoal_VipKillTwo )
	elseif( sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_KillMT_Squad" ) then
		
		commonUiMissionSubGoalNo( this.MissionSubGoal_VipKillOne )
	elseif( sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
		
		commonUiMissionSubGoalNo( this.MissionSubGoal_Escape )
	end
	
	luaData:SetupIconUniqueInformationTable(
		
		 { markerId = this.MarkerID_EscapeWest,								langId = "marker_info_place_02" }				
		,{ markerId = this.MarkerID_EscapeNorth,							langId = "marker_info_place_02" }				
		
		,{ markerId = "Tactical_Vehicle_WEST_001", 							langId = "marker_info_vehicle_4wd" }			
		,{ markerId = "Tactical_Vehicle_WEST_002", 							langId = "marker_info_vehicle_4wd" }			
		,{ markerId = "Tactical_Vehicle_WEST_003", 							langId = "marker_info_vehicle_4wd" }			
		,{ markerId = "Armored_Vehicle_WEST_001", 							langId = "marker_info_APC" }					
		,{ markerId = "Cargo_Truck_WEST_000", 								langId = "marker_info_truck" }					
		,{ markerId = "Cargo_Truck_WEST_001", 								langId = "marker_info_truck" }					
		
		,{ markerId = "e20020_marker_Ammo", 								langId = "marker_info_bullet_tranq" }			
		,{ markerId = "e20020_marker_C4_01", 								langId = "marker_info_weapon_06" }				
		,{ markerId = "e20020_marker_C4_02", 								langId = "marker_info_weapon_06" }				
		,{ markerId = "e20020_marker_Claymore", 							langId = "marker_info_weapon_08" }				
		,{ markerId = "e20020_marker_Grenade", 								langId = "marker_info_weapon_07" }				
		,{ markerId = "e20020_marker_Handgun_01", 							langId = "marker_info_weapon_00" }				
		,{ markerId = "e20020_marker_Handgun_02", 							langId = "marker_info_weapon_00" }				
		,{ markerId = "e20020_marker_MonlethalWeapon",						langId = "marker_info_weapon" }					
		,{ markerId = "e20020_marker_Missile", 								langId = "marker_info_weapon_02" }				
		,{ markerId = "e20020_marker_SmokeGrenades", 						langId = "marker_info_weapon_05" }				
		,{ markerId = "e20020_marker_SniperRifle", 							langId = "marker_info_weapon_01" }				
		,{ markerId = "e20020_marker_SubAmmo01", 							langId = "marker_info_bullet_tranq" }			
		,{ markerId = "e20020_marker_SubAmmo02", 							langId = "marker_info_bullet_artillery" }		
		,{ markerId = "e20020_marker_SubmachineGun", 						langId = "marker_info_weapon_04" }				
		,{ markerId = "e20020_marker_ShotGun", 								langId = "marker_info_weapon_03" }				
		,{ markerId = "e20020_marker_Cassette", 							langId = "marker_info_item_tape" }				
		
		,{ markerId = "common_marker_Area_Asylum", 							langId = "marker_info_area_05" }				
		,{ markerId = "common_marker_Area_EastCamp", 						langId = "marker_info_area_00" }				
		,{ markerId = "common_marker_Area_WestCamp", 						langId = "marker_info_area_01" }				
		,{ markerId = "common_marker_Area_Center", 							langId = "marker_info_area_04" }				
		,{ markerId = "common_marker_Area_HeliPort", 						langId = "marker_info_area_03" }				
		,{ markerId = "common_marker_Area_WareHouse", 						langId = "marker_info_area_02" }				
		
		,{ markerId = "common_marker_Armory_Center", 						langId = "marker_info_place_armory" }			
		,{ markerId = "common_marker_Armory_HeliPort", 						langId = "marker_info_place_armory" }			
		,{ markerId = "common_marker_Armory_WareHouse", 					langId = "marker_info_place_armory" }			
		
		,{ markerId = "e20020_SecurityCamera_01", 							langId = "marker_info_Surveillance_camera" }	
		,{ markerId = "e20020_SecurityCamera_02", 							langId = "marker_info_Surveillance_camera" }	
		,{ markerId = "e20020_SecurityCamera_03", 							langId = "marker_info_Surveillance_camera" }	
		,{ markerId = "e20020_SecurityCamera_05", 							langId = "marker_info_Surveillance_camera" }	
	)
	
	commonMTSquadIconUniqueInformation()
	
	commonMTCenterIconUniqueInformation()
end

local commonRadioMissionSetup = function()



	
	if( TppMission.GetFlag( "isMT_CenterKill" ) ~= 0 ) then
		TppRadio.DisableIntelRadio( this.CharacterID_MT_Center )
	else
		TppRadio.EnableIntelRadio( this.CharacterID_MT_Center )
	end
	if( TppMission.GetFlag( "isMT_SquadKill" ) ~= 0 ) then
		TppRadio.DisableIntelRadio( this.CharacterID_MT_Squad )
	else
		TppRadio.EnableIntelRadio( this.CharacterID_MT_Squad )
	end
	TppRadio.EnableIntelRadio( this.CharacterID_E_Vehicle01 )
	TppRadio.EnableIntelRadio( this.CharacterID_E_Imitation )
	TppRadio.EnableIntelRadio( this.CharacterID_E_Imitation )
	
	TppRadio.EnableIntelRadio( "Enemy_US_Asylum000" )
	TppRadio.EnableIntelRadio( "Enemy_US_bridge000" )
	TppRadio.EnableIntelRadio( "Enemy_US_center000" )
	TppRadio.EnableIntelRadio( "Enemy_US_center001" )
	TppRadio.EnableIntelRadio( "Enemy_US_center002" )
	TppRadio.EnableIntelRadio( "Enemy_US_center003" )
	TppRadio.EnableIntelRadio( "Enemy_US_eastTentGroup_north000" )
	TppRadio.EnableIntelRadio( "Enemy_US_Heliport000" )
	TppRadio.EnableIntelRadio( "Enemy_US_Heliport001" )
	TppRadio.EnableIntelRadio( "Enemy_US_Heliport002" )
	TppRadio.EnableIntelRadio( "Enemy_US_Heliport003" )
	TppRadio.EnableIntelRadio( "Enemy_US_Heliport004" )
	TppRadio.EnableIntelRadio( "Enemy_US_MissionTargetSquad001" )
	TppRadio.EnableIntelRadio( "Enemy_US_Seaside000" )
	TppRadio.EnableIntelRadio( "Enemy_US_Stryker000" )
	TppRadio.EnableIntelRadio( "Enemy_US_WareHouse000" )
	TppRadio.EnableIntelRadio( "Enemy_US_WareHouse001" )
	TppRadio.EnableIntelRadio( "Enemy_US_westTentGroup_north000" )
	TppRadio.EnableIntelRadio( "Enemy_US_westTentGroup_north001" )
	TppRadio.EnableIntelRadio( "Enemy_US_WoodTurret000" )
	TppRadio.EnableIntelRadio( "Enemy_US_MissionTargetCenterSquad000" )
	TppRadio.EnableIntelRadio( "Enemy_US_MissionTargetCenterSquad001" )
	TppRadio.EnableIntelRadio( "Enemy_US_Vehicle001" )
	TppRadio.EnableIntelRadio( "Enemy_US_Western000" )
	TppRadio.EnableIntelRadio( "Enemy_US_eastTent_south000" )
	TppRadio.EnableIntelRadio( "Enemy_US_IronTurret000" )
	TppRadio.EnableIntelRadio( "Enemy_US_WareHouse002" )
	TppRadio.EnableIntelRadio( "Enemy_US_eastTent_north000" )
	TppRadio.EnableIntelRadio( "Enemy_US_eastTent_north001" )
	TppRadio.EnableIntelRadio( "Enemy_US_westTent000" )
	TppRadio.EnableIntelRadio( "Enemy_US_westTent001" )
	TppRadio.EnableIntelRadio( "Enemy_US_IronTurret001" )
	TppRadio.EnableIntelRadio( "Enemy_US_Reinforce004" )
	TppRadio.EnableIntelRadio( "Enemy_US_Reinforce005" )
	TppRadio.EnableIntelRadio( "Enemy_US_Reinforce006" )
	TppRadio.EnableIntelRadio( "Enemy_US_Reinforce007" )
	TppRadio.EnableIntelRadio( "Enemy_US_Reinforce001" )
	TppRadio.EnableIntelRadio( "Enemy_US_Reinforce000" )
	TppRadio.EnableIntelRadio( "Enemy_US_Reinforce002" )
	TppRadio.EnableIntelRadio( "Enemy_US_Reinforce003" )
	
	TppRadio.EnableIntelRadio( "WoodTurret01" )
	TppRadio.EnableIntelRadio( "WoodTurret02" )
	TppRadio.EnableIntelRadio( "WoodTurret03" )
	TppRadio.EnableIntelRadio( "WoodTurret04" )
	TppRadio.EnableIntelRadio( "WoodTurret05" )
	
	TppRadio.EnableIntelRadio( "gntnCom_drum0002" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0005" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0011" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0012" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0015" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0019" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0020" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0021" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0022" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0023" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0024" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0025" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0027" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0028" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0029" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0030" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0031" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0035" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0037" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0038" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0039" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0040" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0041" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0042" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0043" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0044" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0045" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0046" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0047" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0048" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0065" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0066" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0068" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0069" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0070" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0071" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0072" )
	TppRadio.EnableIntelRadio( "gntnCom_drum0101" )
	
	TppRadio.EnableIntelRadio( "e20020_SecurityCamera_01" )
	TppRadio.EnableIntelRadio( "e20020_SecurityCamera_02" )
	TppRadio.EnableIntelRadio( "e20020_SecurityCamera_03" )
	TppRadio.EnableIntelRadio( "e20020_SecurityCamera_05" )
	
	if( TppMission.GetFlag( "isIntelRadio_Western" ) == false and TppMission.GetFlag( "isPlayerGetTruckSniper" ) == false ) then
		
		TppRadio.EnableIntelRadio( this.VehicleID_Western02 )
		
		TppRadio.RegisterIntelRadio( this.VehicleID_Western02, "e0020_esrg0100", true )
	else
		
		TppRadio.EnableIntelRadio( this.VehicleID_Western02 )
		
		TppRadio.RegisterIntelRadio( this.VehicleID_Western02, "f0090_esrg0050", true )
	end
	
	TppRadio.EnableIntelRadio( "Cargo_Truck_WEST_000" )
	
	TppRadio.EnableIntelRadio( this.VehicleID_ArmoredVehicle )
	
	commonRegisterRadioCondition( "ON" )
	
	commonMT_Center_DisableIntelRadio( true )
	
	commonMT_Squad_DisableIntelRadio( true )
end


local commonEnemyMissionSetup = function( manager, iCheckPointFlag, iAfterRestoreFlag )



			iCheckPointFlag		= iCheckPointFlag or false
			iAfterRestoreFlag	= iAfterRestoreFlag or false
	local	state				= TppMission.GetFlag( "isMT_Squad_StateMove" )
	local	sequence			= TppSequence.GetCurrentSequence()
	
	
	commonKeepPhaseAlert( "OFF" )
	
	commonTimerRouteChageTableSetup()
	
	commonRegisterVipMember_MTSquad()
	commonRegisterVipMember_MTCenter()
	
	TppCommandPostObject.GsAddRespawnRandomWeaponId( this.cpID, "WP_sg01_v00",	30 )	
	TppCommandPostObject.GsAddRespawnRandomWeaponId( this.cpID, "WP_ms02",		10 )	
	
	TppCommandPostObject.GsSetDisableRespawn( this.cpID, this.CharacterID_MT_Center )
	TppCommandPostObject.GsSetDisableRespawn( this.cpID, this.CharacterID_MT_Squad )
	
	commonInterrogationEnemy( true )
	
	GZCommon.EnemyLaidonHeliNoAnnounceSet( this.CharacterID_MT_Center )
	GZCommon.EnemyLaidonHeliNoAnnounceSet( this.CharacterID_MT_Squad )
	
	this.CounterList.VehicleEndName_Vehicle = "NoName"
	this.CounterList.VehicleEndName_Western = "NoName"
	
	
	if( iCheckPointFlag == false or TppMission.GetFlag( "isEnemyDisableRouteInit" ) == false ) then
		
		if( iCheckPointFlag == true ) then
			
			
			if( state >= 0 and state <= 5 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 0 )
			
			elseif( state == 6 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 2 )
			
			elseif( state >= 7 and state <= 8 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 4 )
			
			elseif( state >= 9 and state <= 10 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 5 )
			
			elseif( state == 11 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 6 )
			
			elseif( state == 12 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 7 )
			
			elseif( state >= 13 and state <= 14 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 8 )
			
			elseif( state == 15 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 9 )
			
			elseif( state == 16 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 11 )
			
			elseif( state == 17 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 12 )
			
			elseif( state >= 20 ) then
				TppMission.SetFlag( "isMT_Center_StateMove", 9 )
			end
			
			if( state >= 2 or TppMission.GetFlag( "isMT_SquadKill"	) ~= 0 or TppMission.GetFlag( "isMT_CenterKill" ) ~= 0 ) then
				TppMission.SetFlag( "isEnemy_eastTent01_StateMove", 2 )		
				TppMission.SetFlag( "isEnemy_eastTent02_StateMove", 2 )		
			end
			
			if( state >= 3 or sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" ) then
				TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 999 )
				TppMission.SetFlag( "isEnemy_Western01_StateMove", 999 )
				TppMission.SetFlag( "isEnemy_Imitation_StateMove", 999 )
			end
			if( TppMission.GetFlag( "isDebug_EscapeArea_West" ) == true or TppMission.GetFlag( "isDebug_EscapeArea_East" ) == true ) then
				TppMission.SetFlag( "isEnemy_Vehicle_StateMove", 999 )
				TppMission.SetFlag( "isEnemy_Western01_StateMove", 999 )
				TppMission.SetFlag( "isEnemy_Imitation_StateMove", 999 )
			end
			
			if( TppMission.GetFlag( "isEnemy_Western01_StateMove" ) == 3 ) then
				TppMission.SetFlag( "isEnemy_Imitation_StateMove", 4 )
			end
			
			if( sequence == "Seq_Waiting_KillMT_Squad" or sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" or TppMission.GetFlag( "isMT_CenterKill" ) ~= 0 ) then
				TppEnemy.KillEnemy( this.CharacterID_MT_Center )
				TppMission.SetFlag( "isMT_CenterKill", 1 )
				TppRadio.DisableIntelRadio( this.CharacterID_MT_Center )
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 1 ) then
					TppEnemyUtility.KillEnemy( this.CharacterID_MT_Center )
				elseif( TppMission.GetFlag( "isMT_SquadKill" ) == 2 ) then
					TppEnemyUtility.SetEnableCharacterId( this.CharacterID_MT_Center, false )
				end
			end
			
			if( sequence == "Seq_Waiting_KillMT_Center" or sequence == "Seq_Waiting_MissionClearPlayerRideHelicopter" or TppMission.GetFlag( "isMT_SquadKill" ) ~= 0 ) then
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 0 ) then
					TppMission.SetFlag( "isMT_SquadKill", 1 )
					TppRadio.DisableIntelRadio( this.CharacterID_MT_Squad )
				end
				if( TppMission.GetFlag( "isMT_SquadKill" ) == 1 ) then
					TppEnemyUtility.KillEnemy( this.CharacterID_MT_Squad )
				elseif( TppMission.GetFlag( "isMT_SquadKill" ) == 2 ) then
					TppEnemyUtility.SetEnableCharacterId( this.CharacterID_MT_Squad, false )
				end
			end
			
			if( TppMission.GetFlag( "isEnemy_Vehicle_StateMove" ) == 4 or TppMission.GetFlag( "isEnemy_Vehicle_StateMove" ) == 999 ) then
				
				this.CounterList.VehicleEndName_Vehicle = this.VehicleID_Vehicle01
			end
			
			if( TppMission.GetFlag( "isEnemy_Western01_StateMove" ) == 5 or TppMission.GetFlag( "isEnemy_Western01_StateMove" ) == 999 ) then
				
				this.CounterList.VehicleEndName_Western = this.VehicleID_Western02
			end
		end
		
		commonMTSquadRouteDisable(			iCheckPointFlag, false, false )
		commonMTCenterRouteDisable(			iCheckPointFlag, false )
		commonEnemyVehicleRouteDisable(		iCheckPointFlag, false, false )
		commonEnemyImitationRouteDisable(	iCheckPointFlag, false )
		commonEnemyWestern01RouteDisable(	iCheckPointFlag, false )
		commonEnemyReinforceRouteDisable(	iCheckPointFlag, false )
		commonEnemyRouteDisable(			iCheckPointFlag, false )
		
		if( iCheckPointFlag == true ) then
			commonPrint2D("シーケンススキップしました。" , 2 )
			
			commonMT_Sqaud_RegisterPoint(			manager, TppMission.GetFlag( "isMT_Squad_StateMove" ),			true )
			commonMT_Center_RegisterPoint(			manager, TppMission.GetFlag( "isMT_Center_StateMove" ),			true )
			commonEnemy_Vehicle_RegisterPoint(		manager, TppMission.GetFlag( "isEnemy_Vehicle_StateMove" ),		true )
			commonEnemy_Western01_RegisterPoint(	manager, TppMission.GetFlag( "isEnemy_Western01_StateMove" ),	true )
			commonEnemy_Imitation_RegisterPoint(	manager, TppMission.GetFlag( "isEnemy_Imitation_StateMove" ),	true )
			commonEnemy_eastTent01_RegisterPoint( 	manager, TppMission.GetFlag( "isEnemy_eastTent01_StateMove" ),	true )
			commonEnemy_eastTent02_RegisterPoint(	manager, TppMission.GetFlag( "isEnemy_eastTent02_StateMove" ),	true )
			
			commonEnemy_Vehicle_StateMove(			"SequenceSkip", manager )
			commonEnemy_Imitation_StateMove(		"SequenceSkip", manager )
			commonEnemy_Western01_StateMove(		"SequenceSkip", manager )
			commonEnemy_eastTent01_StateMove(		"SequenceSkip", manager )
			commonEnemy_eastTent02_StateMove(		"SequenceSkip", manager )
			commonEnemy_Reinforce_StateMove(		"SequenceSkip", manager )
			
			commonMT_Squad_StateMove(				"SequenceSkip", manager )
			commonMT_Center_StateMove(				"SequenceSkip", manager )
			
			TppCommandPostObject.GsSetCurrentRouteSet( this.cpID , this.RouteSet_Sneak, true, true, true, true )
		else
			
			commonEnemy_Vehicle_StateMove(			"Init", manager )
			commonEnemy_Imitation_StateMove(		"Init", manager )
			commonEnemy_Western01_StateMove(		"Init", manager )
			commonEnemy_eastTent01_StateMove(		"Init", manager )
			commonEnemy_eastTent02_StateMove(		"Init", manager )
			commonEnemy_Reinforce_StateMove(		"Init", manager )
			
			commonMT_Squad_StateMove(				"Init", manager )
			commonMT_Center_StateMove(				"Init", manager )
			
			TppCommandPostObject.GsSetCurrentRouteSet( this.cpID , this.RouteSet_Sneak, false, false, false, false )
		end
		
		TppMission.SetFlag( "isEnemyDisableRouteInit", true )
	
	else
		
		if( iAfterRestoreFlag == false ) then
			commonPrint2D("コンティニューしました。※更新不可" , 2 )
			
			commonMT_Sqaud_RegisterPoint(			manager, TppMission.GetFlag( "isMT_Squad_StateMove" ),			false )
			commonMT_Center_RegisterPoint(			manager, TppMission.GetFlag( "isMT_Center_StateMove" ),			false )
			commonEnemy_Vehicle_RegisterPoint(		manager, TppMission.GetFlag( "isEnemy_Vehicle_StateMove" ),		false )
			commonEnemy_Western01_RegisterPoint(	manager, TppMission.GetFlag( "isEnemy_Western01_StateMove" ),	false )
			commonEnemy_Imitation_RegisterPoint(	manager, TppMission.GetFlag( "isEnemy_Imitation_StateMove" ),	false )
			commonEnemy_eastTent01_RegisterPoint(	manager, TppMission.GetFlag( "isEnemy_eastTent01_StateMove" ),	false )
			commonEnemy_eastTent02_RegisterPoint(	manager, TppMission.GetFlag( "isEnemy_eastTent02_StateMove" ),	false )
		else
			commonPrint2D("コンティニューしました。※更新可能" , 2 )
			
			commonEnemy_Vehicle_StateMove(		"CheckPoint", manager )
			commonEnemy_Imitation_StateMove(	"CheckPoint", manager )
			commonEnemy_Western01_StateMove(	"CheckPoint", manager )
			commonEnemy_eastTent01_StateMove(	"CheckPoint", manager )
			commonEnemy_eastTent02_StateMove(	"CheckPoint", manager )
			commonEnemy_Reinforce_StateMove(	"CheckPoint", manager )
			
			commonMT_Squad_StateMove(			"CheckPoint", manager )
			commonMT_Center_StateMove(			"CheckPoint", manager )
			
			TppCharacterUtility.ResetPhase()
			TppCommandPostObject.GsSetCurrentRouteSet( this.cpID , this.RouteSet_Sneak, true, true, true, true )
		end
	end
	
	
	if( iCheckPointFlag == false or TppMission.GetFlag( "isEnemyMarkerInit" ) == false )  then
		
		commonAreaMarkerMTSquad( true, false, false, true, true, true )
		commonAreaMarkerMTCenter( true, false, false, true, true, true )
		
		TppMission.SetFlag( "isEnemyMarkerInit", true )
	else
		if( iAfterRestoreFlag == true ) then
			
			commonAreaMarkerMTSquad( true, false, false, true, true, true )
			commonAreaMarkerMTCenter( true, false, false, true, true, true )
		end
	end
	
	if( iCheckPointFlag == true ) then
		
		commonTargetMarker( "ON", this.CharacterID_MT_Squad, true )
		
		commonTargetMarker( "ON", this.CharacterID_MT_Center, true )
	end
	
	
	if( iCheckPointFlag == false or TppMission.GetFlag( "isEnemyCombatInit" ) == false )  then
		
		commonMTCenter_GuardTarget()
		commonMTSquad_GuardTarget()
		
		TppMission.SetFlag( "isEnemyCombatInit", true )
	else
		if( iAfterRestoreFlag == true ) then
			
			commonMTCenter_GuardTarget()
			commonMTSquad_GuardTarget()
		end
	end
	
	
	TppCommandPostObject.GsSetPriorityCombatLocator( this.cpID, "TppCombatLocatorData0167", false )
	TppCommandPostObject.GsSetPriorityCombatLocator( this.cpID, "TppCombatLocatorData0095", false )
	TppCommandPostObject.GsSetPriorityCombatLocator( this.cpID, "TppCombatLocatorData0000", false )
	TppCommandPostObject.GsSetPriorityCombatLocator( this.cpID, "TppCombatLocatorData0106", false )
	TppCommandPostObject.GsSetPriorityCombatLocator( this.cpID, "TppCombatLocatorData0057", false )
	
	TppCommandPostObject.GsSetPriorityCombatLocator( this.cpID, "TppCombatLocatorData0010", true )
	TppCommandPostObject.GsSetPriorityCombatLocator( this.cpID, "TppCombatLocatorData0121", true )
end


local commonMissionLoadSetup = function( manager, iCheckPointFlag, iAfterRestoreFlag )



	iCheckPointFlag = iCheckPointFlag or false
	
	commonMissionFlagRestore()
	
	commonRadioMissionSetup()
	
	commonEnemyMissionSetup( manager, iCheckPointFlag, iAfterRestoreFlag )
	
	commonUiMissionPhotoSetup()
end





this.OnSkipEnterCommon = function( manager )



	local sequence = TppSequence.GetCurrentSequence()
	
	if( TppSequence.IsGreaterThan( sequence, "Seq_MissionPrepare" ) ) then
		commonMissionPrepare( manager )
	end
	
	if( TppSequence.IsGreaterThan( sequence, "Seq_MissionFailed" ) ) then
		TppMission.ChangeState( "failed" )
	elseif( TppSequence.IsGreaterThan( sequence, "Seq_MissionPrepare" ) ) then
		commonDemoBlockSetup()
	elseif( sequence == "Seq_MissionPrepare" ) then
		
		commonDemoBlockSetup()
	end
end


this.OnSkipUpdateCommon = function( manager )



	return IsDemoAndEventBlockActive()
end


this.OnSkipLeaveCommon = function( manager )



	local sequence = TppSequence.GetCurrentSequence()
	
	if( TppSequence.IsGreaterThan( sequence, "Seq_MissionLoad" ) ) then
		
		GZCommon.MissionSetup()
		
		commonMissionSetup()
		
		commonMissionLoadSetup( manager, true, false )
	end
	
	if( TppMission.GetFlag( "isDebug_EscapeArea_West" ) == true ) then
		
		TppPlayer.WarpForDebugStartInVipRestorePoint( manager, this.CharacterID_MT_Squad, 				"e20020_debug_west0000" )
		TppPlayer.WarpForDebugStartInVipRestorePoint( manager, this.CharacterID_MT_Center, 				"e20020_debug_west0001" )
		
		TppPlayer.WarpForDebugStartInVipRestorePoint( manager, this.VehicleID_Vehicle02, 				"e20020_debug_west0002" )
		
		TppPlayer.WarpForDebugStartInVipRestorePoint( manager, this.CharacterID_Hostage_PickingDoor08, 	"e20020_debug_west0003" )
		TppPlayer.WarpForDebugStartInVipRestorePoint( manager, this.CharacterID_Hostage_PickingDoor22, 	"e20020_debug_west0004" )
		
		TppEnemyUtility.ChangeStatus( this.CharacterID_MT_Squad, "Sleep" )
		TppEnemyUtility.ChangeStatus( this.CharacterID_MT_Center, "Sleep" )
	
	elseif( TppMission.GetFlag( "isDebug_EscapeArea_East" ) == true ) then
		
		TppPlayer.WarpForDebugStartInVipRestorePoint( manager, this.CharacterID_MT_Squad, 				"e20020_debug_east0000" )
		TppPlayer.WarpForDebugStartInVipRestorePoint( manager, this.CharacterID_MT_Center,			 	"e20020_debug_east0001" )
		
		TppPlayer.WarpForDebugStartInVipRestorePoint( manager, this.VehicleID_Vehicle02, 				"e20020_debug_east0002" )
		
		TppPlayer.WarpForDebugStartInVipRestorePoint( manager, this.CharacterID_Hostage_PickingDoor08, 	"e20020_debug_east0003" )
		TppPlayer.WarpForDebugStartInVipRestorePoint( manager, this.CharacterID_Hostage_PickingDoor22, 	"e20020_debug_east0004" )
		
		TppEnemyUtility.ChangeStatus( this.CharacterID_MT_Squad, "Sleep" )
		TppEnemyUtility.ChangeStatus( this.CharacterID_MT_Center, "Sleep" )
	end
	
	if( this.DebugVehicleAllDisable == true ) then
		commonPrint2D("配置してある全ての車両を表示ＯＦＦ")
		TppData.Disable( "Tactical_Vehicle_WEST_001" )
		TppData.Disable( "Tactical_Vehicle_WEST_002" )
		TppData.Disable( "Tactical_Vehicle_WEST_003" )
		TppData.Disable( "Armored_Vehicle_WEST_001" )
		TppData.Disable( "Cargo_Truck_WEST_000" )
		TppData.Disable( "Cargo_Truck_WEST_001" )
	end
end


this.OnAfterRestore = function( manager )



	local sequence = TppSequence.GetCurrentSequence()
	
	if( TppSequence.IsGreaterThan( sequence, "Seq_MissionLoad" ) ) then
		
		commonMissionLoadSetup( manager, true, true )
		
		GZCommon.CheckContinueHostageRegister( this.ContinueHostageRegisterList )
	end
	
	if( TppMission.GetFlag( "isAlert" ) == true )  then
		TppMission.SetFlag( "isAlert", false )
	end
	
	if( TppMission.GetFlag( "isRadio_AlertTargetEscape" ) == true )  then
		TppMission.SetFlag( "isRadio_AlertTargetEscape", false )
	end
	
	if( TppMission.GetFlag( "isKeepCaution" ) == true )  then
		TppMission.SetFlag( "isKeepCaution", false )
	end
	
	if( TppMission.GetFlag( "isRadio_FocusMapIcon" ) == true )	then
		TppMission.SetFlag( "isRadio_FocusMapIcon", false )
	end
	
	if( GZCommon.isOutOfMissionEffectEnable == true ) then
		GZCommon.isOutOfMissionEffectEnable = false
	end

	
	TppRadio.RestoreIntelRadio()
end






local commonSequenceSave = function( AutoFlag, CheckPointId )
	CheckPointId	= CheckPointId or "10"



	
	if( AutoFlag == false ) then
		
		TppMissionManager.SaveGame( CheckPointId )
	
	else
		
		if( this.CounterList.HeliRendezvousPointName == "RV_HeliPort" ) then
			TppMissionManager.SaveGame("30")
		elseif( this.CounterList.HeliRendezvousPointName == "RV_SeaSide" ) then
			TppMissionManager.SaveGame("31")
		elseif( this.CounterList.HeliRendezvousPointName == "RV_StartCliff" ) then
			TppMissionManager.SaveGame("32")
		elseif( this.CounterList.HeliRendezvousPointName == "RV_WareHouse" ) then
			TppMissionManager.SaveGame("33")
		
		elseif( GZCommon.PlayerAreaName == "WareHouse" ) then
			TppMissionManager.SaveGame("20")
		elseif( GZCommon.PlayerAreaName == "Asylum" ) then
			TppMissionManager.SaveGame("21")
		elseif( GZCommon.PlayerAreaName == "EastCamp" ) then
			TppMissionManager.SaveGame("22")
		elseif( GZCommon.PlayerAreaName == "WestCamp" ) then
			TppMissionManager.SaveGame("23")
		elseif( GZCommon.PlayerAreaName == "Heliport" ) then
			TppMissionManager.SaveGame("24")
		elseif( GZCommon.PlayerAreaName == "ControlTower_East" ) then
			TppMissionManager.SaveGame("25")
		elseif( GZCommon.PlayerAreaName == "ControlTower_West" ) then
			TppMissionManager.SaveGame("26")
		elseif( GZCommon.PlayerAreaName == "SeaSide" ) then
			TppMissionManager.SaveGame("27")
		else
			
			TppMissionManager.SaveGame( CheckPointId )
		end
	end
	
	this.CounterList.HeliRendezvousPointName	= "NoName"
end






local commonMissionClearRequest = function( clearType )



	
	
	Trophy.TrophyUnlock( this.TrophyID_GZ_SideOpsClear )
	
	GZCommon.ScoreRankTableSetup( this.missionID )
	
	commonMissionExternalScore()
	
	commonCallEscapMusic( "Fade" )
	
	TppMission.ChangeState( "clear", clearType )
end


local OnShowRewardPopupWindow = function()



	
	local hudCommonData = HudCommonDataManager.GetInstance()
	local challengeString = PlayRecord.GetOpenChallenge()
	local uiCommonData = UiCommonDataManager.GetInstance()
	local AllHardClear = PlayRecord.IsAllMissionClearHard()
	local AllChicoTape = GZCommon.CheckReward_AllChicoTape()
	local Rank = PlayRecord.GetRank()




	
	local RewardAllCount = uiCommonData:GetRewardAllCount( this.missionID )



	
	hudCommonData:SetBonusPopupCounter( this.tmpRewardNum, RewardAllCount )

	
	
	while ( challengeString ~= "" ) do



		
		hudCommonData:ShowBonusPopupCommon( challengeString )
		
		challengeString = PlayRecord.GetOpenChallenge()
	end
	
	while ( Rank < this.tmpBestRank ) do



		this.tmpBestRank = ( this.tmpBestRank - 1 )
		if ( this.tmpBestRank == 4 ) then
			hudCommonData:ShowBonusPopupItem( this.ClearRankRewardPopupList.RankC, "WP_sm00_v00", { isSup=true, isLight=true } )
		elseif ( this.tmpBestRank == 3 ) then
			hudCommonData:ShowBonusPopupItem( this.ClearRankRewardPopupList.RankB, "WP_sg01_v00" )
		elseif ( this.tmpBestRank == 2 ) then
			hudCommonData:ShowBonusPopupItem( this.ClearRankRewardPopupList.RankA, "WP_sr01_v00" )
		elseif ( this.tmpBestRank == 1 ) then
			hudCommonData:ShowBonusPopupItem( this.ClearRankRewardPopupList.RankS, "WP_ar00_v05", { isBarrel=true } )
		end
	end
	
	
	if ( AllChicoTape == true and
			 uiCommonData:IsHaveCassetteTape( "tp_chico_08" ) == false ) then



		
		hudCommonData:ShowBonusPopupItemTape( "reward_get_tape_allchico" )
		
		uiCommonData:GetBriefingCassetteTape( "tp_chico_08" )
	end
	
	
	if ( AllHardClear == true and
			 uiCommonData:IsHaveCassetteTape( "tp_bgm_01" ) == false ) then



		
		hudCommonData:ShowBonusPopupItemTape( "reward_get_tape_tp_bgm_01" )
		
		uiCommonData:GetBriefingCassetteTape( "tp_bgm_01" )
	end
	
	if ( TppGameSequence.GetGameFlag("hardmode") == false and PlayRecord.GetMissionScore( 20020, "NORMAL", "CLEAR_COUNT" ) == 1 ) then 
		
		hudCommonData:ShowBonusPopupCommon( "reward_extreme" )
	end
	
	if ( hudCommonData:IsShowBonusPopup() == false ) then



		TppSequence.ChangeSequence( "Seq_MissionEnd" )	
	end
end


local OnClosePopupWindow = function()



	
	local LangIdHash = TppData.GetArgument(1)
	
	if ( LangIdHash == this.tmpChallengeString ) then
		
		OnShowRewardPopupWindow()
	end
end





local SupportHeliMessages = {
	Character = {
		{ data = "Player",																message = "RideHelicopter",							commonFunc = function() commonPlayerRideHelicopter( 0 ) end },
		{ data = "Player",																message = "RideHelicopter",							commonFunc = function() commonPlayerRideHelicopter( 1 ) end },
	},
}


local EnemyMessages = {
	Enemy = {
		{																				message = "EnemyFindComrade",						commonFunc = function() commonEnemyFindComrade() end },
	},
}


local MarkerMessages = {
	Marker = {
		{																				message = "ChangeToEnable",							commonFunc = function() commonMissionTargetMarkerOn( 0, false, false, false ) end },
	},
}


local SearchTargetMessages = {
	Myself = {
		{ data = this.CharacterID_MT_Squad,												message = "LookingTarget",							commonFunc = function() commonMissionTargetMarkerOn( 0, false, false, false ) end },
		{ data = this.CharacterID_MT_Center,											message = "LookingTarget",							commonFunc = function() commonMissionTargetMarkerOn( 0, false, false, false ) end },
	},
}





this.Messages = {
	Mission = {
		{ 																				message = "MissionFailure",							localFunc = "commonMissionFailure" },		
		{ 																				message = "MissionClear",							localFunc = "commonMissionClear" },			
		{																				message = "MissionRestart", 						localFunc = "commonMissionCleanUp" },		
		{																				message = "MissionRestartFromCheckPoint", 			localFunc = "commonMissionCleanUp" },		
		{																				message = "ReturnTitle", 							localFunc = "commonMissionCleanUp" },		
	},
	Character = {
		
		{ data = this.cpID,																message = "Alert",									commonFunc = function() commonPhase_Alert() end  },
		{ data = this.cpID,																message = "Evasion",								commonFunc = function() commonPhase_Evasion() end  },
		{ data = this.cpID,																message = "Caution",								commonFunc = function() commonPhase_Caution() end  },
		{ data = this.cpID,																message = "Sneak",									commonFunc = function() commonPhase_Sneak() end  },
		
		{ data = this.cpID,																message = "AntiAir",								commonFunc = function() commonChangeAntiAir() end  },
		
		{ data = { this.CharacterID_E_Vehicle01, this.CharacterID_E_Vehicle02 },		message = "MessageRoutePoint",						commonFunc = function() commonEnemy_Vehicle_StateMove( "RoutePoint" ) end  },
		{ data = this.cpID,																message = "EndGroupVehicleRouteMove",				commonFunc = function() commonEnemy_Vehicle_StateMove( "VehicleEnd" ) end  },
		{ data = this.cpID,																message = "VehicleMessageRoutePoint",				commonFunc = function() commonEnemy_Vehicle_StateMove( "VehicleRoutePoint" ) end  },
		{ data = this.cpID,																message = "ConversationEnd",		 				commonFunc = function() commonEnemy_Vehicle_StateMove( "ConversationEnd" ) end	},
		
		{ data = this.CharacterID_E_Western01, 											message = "MessageRoutePoint",						commonFunc = function() commonEnemy_Western01_StateMove( "RoutePoint" ) end  },
		{ data = this.cpID,																message = "EndGroupVehicleRouteMove", 				commonFunc = function() commonEnemy_Western01_StateMove( "VehicleEnd" ) end  },
		{ data = this.cpID,																message = "ConversationEnd", 						commonFunc = function() commonEnemy_Western01_StateMove( "ConversationEnd" ) end  },
		
		{ data = this.CharacterID_E_Imitation, 											message = "MessageRoutePoint",						commonFunc = function() commonEnemy_Imitation_StateMove( "RoutePoint" ) end  },
		{ data = this.cpID,																message = "EndGroupVehicleRouteMove", 				commonFunc = function() commonEnemy_Imitation_StateMove( "VehicleEnd" ) end  },
		{ data = this.cpID,																message = "ConversationEnd", 						commonFunc = function() commonEnemy_Imitation_StateMove( "ConversationEnd" ) end  },
		
		{ data = this.CharacterID_MT_Squad,												message = "MessageRoutePoint",						commonFunc = function() commonMT_Squad_StateMove( "RoutePoint" ) end  },
		{ data = this.CharacterID_MT_Squad,												message = "EnemyInterrogation",						commonFunc = function() commonMT_Squad_StateMove( "Interrogation" ) end  },
		{ data = this.CharacterID_E_Squad,												message = "MessageRoutePoint",						commonFunc = function() commonMT_Squad_StateMove( "RoutePoint_E_Squad" ) end  },
		{ data = this.cpID,																message = "EndGroupVehicleRouteMove", 				commonFunc = function() commonMT_Squad_StateMove( "VehicleEnd" ) end  },
		{ data = this.cpID,																message = "ConversationEnd", 						commonFunc = function() commonMT_Squad_StateMove( "ConversationEnd" ) end  },
		{ data = this.cpID,																message = "VehicleMessageRoutePoint",				commonFunc = function() commonMT_Squad_StateMove( "VehicleRoutePoint" ) end  },
		
		{ data = this.CharacterID_MT_Center,											message = "MessageRoutePoint",						commonFunc = function() commonMT_Center_StateMove( "RoutePoint" ) end  },
		{ data = this.CharacterID_MT_Center,											message = "EnemyInterrogation",						commonFunc = function() commonMT_Center_StateMove( "Interrogation" ) end  },
		{ data = this.cpID,																message = "EndGroupVehicleRouteMove",			 	commonFunc = function() commonMT_Center_StateMove( "VehicleEnd" ) end  },
		{ data = this.cpID,																message = "ConversationEnd", 						commonFunc = function() commonMT_Center_StateMove( "ConversationEnd" ) end	},
		{ data = this.cpID,																message = "VehicleMessageRoutePoint",				commonFunc = function() commonMT_Center_StateMove( "VehicleRoutePoint" ) end  },
		
		{ data = { "Enemy_US_eastTent_north000", "Enemy_US_eastTent_north001" },		message = "MessageRoutePoint",						commonFunc = function() commonEnemy_eastTent01_StateMove( "RoutePoint" ) end  },
		{ data = { "Enemy_US_eastTent_north000", "Enemy_US_eastTent_north001" },		message = "MessageRoutePoint",						commonFunc = function() commonEnemy_eastTent02_StateMove( "RoutePoint" ) end  },
		
		{ data = {	this.CharacterID_E_Reinforce01, this.CharacterID_E_Reinforce02, this.CharacterID_E_Reinforce03, this.CharacterID_E_Reinforce04,
					this.CharacterID_E_Reinforce05, this.CharacterID_E_Reinforce06, this.CharacterID_E_Reinforce07, this.CharacterID_E_Reinforce08 },
																						message = "MessageRoutePoint",						commonFunc = function() commonEnemy_Reinforce_StateMove( "RoutePoint" ) end  },
		
		{ data = "Player",																message = "TryPicking",								commonFunc = function() commonOnPickingDoor() end  },
		{ data = "Player",																message = "OnVehicleRide_End",						commonFunc = function() commonOnVehicleRide("Start") end  },								
		{ data = "Player",																message = "OnVehicleGetOff_End",					commonFunc = function() commonOnVehicleRide("End") end	},									
		{ data = "Player",																message = "OnVehicleRideSneak_End",					commonFunc = function() commonOnVehicleRide("SneakStart") end  },							
		{ data = "Player",																message = "OnVehicleGetOffSneak_End",				commonFunc = function() commonOnVehicleRide("SneakEnd") end	},								
		{ data = "Player",																message = "OnPickUpItem", 							commonFunc = function() commonPlayerPickItem() end },										
		{ data = "Player",																message = "OnPickUpWeapon" ,						commonFunc = function() commonPickUpWeaopn() end  },										
		{ data = "Player",																message = "NotifyStartWarningFlare",				commonFunc = function() commonMbDvcActCallRescueHeli("SupportHelicopter", "flare") end },	
			
		{ data = { "Hostage_e20020_000", "Hostage_e20020_001" },						message = "HostageLaidOnVehicle",					commonFunc = function() commonOnLaidHostage() end  },
		{ data = { "Hostage_e20020_000", "Hostage_e20020_001" },						message = "Dead",									commonFunc = function() commonOnDeadHostage() end  },
		
		{ data = this.CharacterID_SupportHelicopter,									message = "ArriveToLandingZone",					commonFunc = function() commonHeliArrive() end },				
		{ data = this.CharacterID_SupportHelicopter,									message = "DepartureToMotherBase",					commonFunc = function() commonHeliTakeOff() end  },
		{ data = this.CharacterID_SupportHelicopter,									message = "Dead",									commonFunc = function() commonHeliDead() end  },
		{ data = this.CharacterID_SupportHelicopter,									message = "DamagedByPlayer",						commonFunc = function() commonHeliDamagedByPlayer() end },		
		
		{ data = { "Tactical_Vehicle_WEST_001", "Tactical_Vehicle_WEST_002", "Tactical_Vehicle_WEST_003" },
																						message = "VehicleBroken",							commonFunc = function() commonGimmickBroken( "OFF" ) end },
		
		{ data = { "Cargo_Truck_WEST_000", "Cargo_Truck_WEST_001" },
																						message = "VehicleBroken",							commonFunc = function() commonGimmickBroken( "OFF" ) end },
		
		{ data = { "Armored_Vehicle_WEST_001", },
																						message = "StrykerDestroyed",						commonFunc = function() commonGimmickBroken( "OFF" ) end },
		
		{ data = this.cpID,																message = "VehicleMessageRoutePoint", 				commonFunc = function() GZCommon.Common_CenterBigGateVehicle( ) end  },
		{ data = this.cpID,																message = "EndRadio"				, 				commonFunc = function() GZCommon.Common_CenterBigGateVehicleEndCPRadio( ) end  },
		
		{ data = { "e20020_SecurityCamera_01", "e20020_SecurityCamera_02", "e20020_SecurityCamera_03", "e20020_SecurityCamera_05" },
																						message = "PowerON",								commonFunc = function() commonSecurityCamera("Poweron") end },
		{ data = { "e20020_SecurityCamera_01", "e20020_SecurityCamera_02", "e20020_SecurityCamera_03", "e20020_SecurityCamera_05" },
																						message = "PowerOFF",								commonFunc = function() commonSecurityCamera("Poweroff") end },
		{ data = { "e20020_SecurityCamera_01", "e20020_SecurityCamera_02", "e20020_SecurityCamera_03", "e20020_SecurityCamera_05" },
																						message = "Dead",									commonFunc = function() commonSecurityCamera("Dead") end },
	},
	Enemy = {
		{																				message = "MessageHumanEnemyCarriedStart",			commonFunc = function() commonCarriedEnemy("Start") end },
		{																				message = "MessageHumanEnemyCarriedEnd",			commonFunc = function() commonCarriedEnemy("End") end },
		{																				message = "EnemyRestraint",							commonFunc = function() commonRestraintEnemy() end },
		{																				message = { "EnemySleep", "EnemyFaint" },			commonFunc = function() commonSleepFaintEnemy() end },
		{																				message = "HostageLaidOnVehicle",					commonFunc = function() commonOnLaidEnemy() end },
		{																				message = "EnemyDead",								commonFunc = function() commonDeadEnemy() end },
		{																				message = "EnemyInterrogation",						commonFunc = function() commonInterrogationEnemy( false ) end },
		{																				message = "EnemyDamage",							commonFunc = function() commonDamagenEnemy() end },
	},
	Timer = {
		
		{ data = "Timer_SequenceChage",													message = "OnEnd", 									commonFunc = function() commonSequenceChageTimerEnd() end },
		
		{ data = "Timer_RouteChageTable01",												message = "OnEnd", 									commonFunc = function() commonTimerRouteChage( 1 ) end },
		{ data = "Timer_RouteChageTable02",												message = "OnEnd", 									commonFunc = function() commonTimerRouteChage( 3 ) end },
		{ data = "Timer_RouteChageTable03",												message = "OnEnd", 									commonFunc = function() commonTimerRouteChage( 5 ) end },
		{ data = "Timer_RouteChageTable04",												message = "OnEnd", 									commonFunc = function() commonTimerRouteChage( 7 ) end },
		{ data = "Timer_RouteChageTable05",												message = "OnEnd", 									commonFunc = function() commonTimerRouteChage( 9 ) end },
		{ data = "Timer_RouteChageTable06",												message = "OnEnd", 									commonFunc = function() commonTimerRouteChage( 11 ) end },
		{ data = "Timer_RouteChageTable07",												message = "OnEnd", 									commonFunc = function() commonTimerRouteChage( 13 ) end },
		{ data = "Timer_RouteChageTable08",												message = "OnEnd", 									commonFunc = function() commonTimerRouteChage( 15 ) end },
		{ data = "Timer_RouteChageTable09",												message = "OnEnd", 									commonFunc = function() commonTimerRouteChage( 17 ) end },
		{ data = "Timer_RouteChageTable10",												message = "OnEnd", 									commonFunc = function() commonTimerRouteChage( 19 ) end },
		
		{ data = "Timer_Enemy_Vehicle_StateMove_Timer",									message = "OnEnd",									commonFunc = function() commonEnemy_Vehicle_StateMove( "Timer" ) end  },
		{ data = "Timer_Enemy_Vehicle_StateMove_Init",									message = "OnEnd",									commonFunc = function() commonEnemy_Vehicle_StateMove( "Init" ) end  },
		
		{ data = "Timer_Enemy_Imitation_StateMove_Timer",								message = "OnEnd",									commonFunc = function() commonEnemy_Imitation_StateMove( "Timer" ) end	},
		{ data = "Timer_Enemy_Imitation_StateMove_Init",								message = "OnEnd",									commonFunc = function() commonEnemy_Imitation_StateMove( "Init" ) end  },
		
		{ data = "Timer_Enemy_Western01_StateMove_Timer",								message = "OnEnd",									commonFunc = function() commonEnemy_Western01_StateMove( "Timer" ) end	},
		{ data = "Timer_Enemy_Western01_StateMove_Init",								message = "OnEnd",									commonFunc = function() commonEnemy_Western01_StateMove( "Init" ) end  },
		
		{ data = "Timer_MT_Squad_StateMove_Timer", 										message = "OnEnd",									commonFunc = function() commonMT_Squad_StateMove( "Timer" ) end  },
		{ data = "Timer_MT_Squad_StateMove_Init", 										message = "OnEnd",									commonFunc = function() commonMT_Squad_StateMove( "Init" ) end	},
		{ data = "Timer_MT_Squad_StateMove_Dead", 										message = "OnEnd",									commonFunc = function() commonMT_Center_StateMove( "MTSquadDead" ) end	},
		{ data = "Timer_MT_Squad_StateMove_Lost", 										message = "OnEnd",									commonFunc = function() commonMT_Squad_StateMove( "Lost" ) end	},
		{ data = "Timer_MT_Squad_StateMove_MarkerOn",									message = "OnEnd",									commonFunc = function() commonAreaMarkerMTSquad( false, true, false, false, false, false ) end },
		{ data = "Timer_MT_Squad_StateMove_MarkerOff",									message = "OnEnd",									commonFunc = function() commonAreaMarkerMTSquad( false, true, true, false, false, false ) end },
		
		{ data = "Timer_MT_Center_StateMove_Timer", 									message = "OnEnd",									commonFunc = function() commonMT_Center_StateMove( "Timer" ) end  },
		{ data = "Timer_MT_Center_StateMove_Init", 										message = "OnEnd",									commonFunc = function() commonMT_Center_StateMove( "Init" ) end  },
		{ data = "Timer_MT_Center_StateMove_Dead", 										message = "OnEnd",									commonFunc = function() commonMT_Squad_StateMove( "MTCenterDead" ) end	},
		{ data = "Timer_MT_Center_StateMove_Lost", 										message = "OnEnd",									commonFunc = function() commonMT_Center_StateMove( "Lost" ) end  },
		{ data = "Timer_MT_Center_StateMove_MarkerOn",									message = "OnEnd",									commonFunc = function() commonAreaMarkerMTCenter( false, true, false, false, false, false ) end  },
		{ data = "Timer_MT_Center_StateMove_MarkerOff",									message = "OnEnd",									commonFunc = function() commonAreaMarkerMTCenter( false, true, true, false, false, false ) end	},
		
		{ data = "Timer_Enemy_eastTent01_StateMove_Timer",							 	message = "OnEnd",									commonFunc = function() commonEnemy_eastTent01_StateMove( "Timer" ) end  },
		{ data = "Timer_Enemy_eastTent01_StateMove_Init", 								message = "OnEnd",									commonFunc = function() commonEnemy_eastTent01_StateMove( "Init" ) end	},
		
		{ data = "Timer_Enemy_eastTent02_StateMove_Timer",							 	message = "OnEnd",									commonFunc = function() commonEnemy_eastTent02_StateMove( "Timer" ) end  },
		{ data = "Timer_Enemy_eastTent02_StateMove_Init", 								message = "OnEnd",									commonFunc = function() commonEnemy_eastTent02_StateMove( "Init" ) end	},
		
		{ data = "Timer_Enemy_Reinforce_StateMove_Timer",							 	message = "OnEnd",									commonFunc = function() commonEnemy_Reinforce_StateMove( "Timer" ) end	},
		{ data = "Timer_Enemy_Reinforce_StateMove_Init", 								message = "OnEnd",									commonFunc = function() commonEnemy_Reinforce_StateMove( "Init" ) end  },
		
		{ data = "Timer_Alert_AreaMarkerOff", 											message = "OnEnd",									commonFunc = function() commonAlertAreaMarkerOff() end	},
		
		{ data = "Timer_CheckTargetPhoto",												message = "OnEnd",									commonFunc = function() commonCheckTargetPhoto() end },
		
		{ data = "Timer_pleaseLeaveHeli",												message = "OnEnd",									commonFunc = function() commonHeliLeaveJudge() end },
		
		{ data = "Timer_EscapeVehicleSound",											message = "OnEnd",									commonFunc = function() commonEscapeVehicleSound() end },
		
		{ data = "Timer_OutsideAreaCamera",												message = "OnEnd",									commonFunc = function() commonTimeOutsideAreaCamera() end },
		
		{ data = "Timer_FocusMapIcon",													message = "OnEnd",									commonFunc = function() commonTimeFocusMapIcon() end },
	},
	Trap = {
		
		{ data = "Trap_MTEventStart",													message = "Enter",									commonFunc = function() commonMT_Squad_StateMove( "Trap" ) end	},
		{ data = "Trap_VeicleEventStart",												message = "Enter",									commonFunc = function() commonEnemy_Vehicle_StateMove( "Trap" ) end  },
		{ data = "Trap_WesternEventStart",												message = "Enter",									commonFunc = function() commonEnemy_Imitation_StateMove( "Trap" ) end  },
		{ data = "Trap_WesternEventStart",												message = "Enter",									commonFunc = function() commonEnemy_Western01_StateMove( "Trap" ) end  },
		{ data = "Trap_eastTent01EventStart",											message = "Enter",									commonFunc = function() commonEnemy_eastTent01_StateMove( "Trap" ) end	},
		{ data = "Trap_eastTent02EventStart",											message = "Enter",									commonFunc = function() commonEnemy_eastTent02_StateMove( "Trap" ) end	},
		
		{ data = "Trap_RadioMissionOutline01",											message = "Enter",									commonFunc = function() commonMissionOutlineRadio01() end },
		{ data = "Trap_RadioMissionOutline02",											message = "Enter",									commonFunc = function() commonMissionOutlineRadio02() end },
		
		{ data = "Trap_WarningMissionArea",												message = "Enter", 									commonFunc = function() commonOutsideMissionWarningArea() end },
		{ data = "Trap_EscapeMissionArea",											 	message = "Enter", 									commonFunc = function() commonOutsideMissionEscapeArea() end },
		
		{ data = "Trap_HostageCallHelp",											 	message = "Enter", 									commonFunc = function() commonHostageHelp("Enter") end },
		{ data = "Trap_HostageCallHelp",											 	message = "Exit", 									commonFunc = function() commonHostageHelp("Exit") end },
		
		{ data = "Trap_Monologue_Hostage01",										 	message = "Enter", 									commonFunc = function() GZCommon.CallMonologueHostage( this.CharacterID_Hostage_PickingDoor08, "hostage_b", "e20020_trap", "Trap_Monologue_Hostage01" ) end },
		{ data = "Trap_Monologue_Hostage02",										 	message = "Enter", 									commonFunc = function() GZCommon.CallMonologueHostage( this.CharacterID_Hostage_PickingDoor22, "hostage_d", "e20020_trap", "Trap_Monologue_Hostage02" ) end },
		
		{ data = "Trap_Area_campEast", 													message = "Enter",									commonFunc = function() commonHeliRendezvousPointMarker( "RV_SeaSide" ) end },
		{ data = "Trap_Area_campWest", 													message = "Enter",									commonFunc = function() commonHeliRendezvousPointMarker( "RV_WareHouse" ) end },
		{ data = "Trap_Area_ControlTower", 												message = "Enter",									commonFunc = function() commonHeliRendezvousPointMarker( "RV_HeliPort" ) end },
		{ data = "Trap_Area_StartCliff", 												message = "Enter",									commonFunc = function() commonHeliRendezvousPointMarker( "RV_StartCliff" ) end },
	},
	Radio = {
		
		{ data = this.CharacterID_MT_Squad,												message = "EspionageRadioCandidate",				commonFunc = function() commonMT_Squad_StateMove( "Radio" ) end  },
		{ data = this.CharacterID_MT_Center,											message = "EspionageRadioCandidate",				commonFunc = function() commonMT_Center_StateMove( "Radio" ) end  },
		{ data = "Enemy_US_Seaside000",													message = "EspionageRadioCandidate",				commonFunc = function() commonEnemy_Vehicle_StateMove( "Radio" ) end  },
		{ data = this.CharacterID_E_Vehicle01,											message = "EspionageRadioCandidate",				commonFunc = function() commonEnemy_Vehicle_StateMove( "Radio" ) end  },
		{ data = this.CharacterID_E_Western01,											message = "EspionageRadioCandidate",				commonFunc = function() commonEnemy_Western01_StateMove( "Radio" ) end	},
		{ data = this.CharacterID_E_Imitation,											message = "EspionageRadioCandidate",				commonFunc = function() commonEnemy_Imitation_StateMove( "Radio" ) end	},
		{ data = "Enemy_US_Asylum000",													message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Asylum000") end},
		{ data = "Enemy_US_bridge000",													message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_bridge000") end},
		{ data = "Enemy_US_center000",													message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_center000") end},
		{ data = "Enemy_US_center001",													message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_center001") end},
		{ data = "Enemy_US_center002",													message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_center002") end},
		{ data = "Enemy_US_center003",													message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_center003") end},
		{ data = "Enemy_US_eastTentGroup_north000",										message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_eastTentGroup_north000") end},
		{ data = "Enemy_US_Heliport000",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Heliport000") end},
		{ data = "Enemy_US_Heliport001",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Heliport001") end},
		{ data = "Enemy_US_Heliport002",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Heliport002") end},
		{ data = "Enemy_US_Heliport003",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Heliport003") end},
		{ data = "Enemy_US_Heliport004",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Heliport004") end},
		{ data = "Enemy_US_MissionTargetSquad001",										message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_MissionTargetSquad001") end},
		{ data = "Enemy_US_Seaside000",													message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Seaside000") end},
		{ data = "Enemy_US_Stryker000",													message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Stryker000") end},
		{ data = "Enemy_US_WareHouse000",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_WareHouse000") end},
		{ data = "Enemy_US_WareHouse001",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_WareHouse001") end},
		{ data = "Enemy_US_westTentGroup_north000",										message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_westTentGroup_north000") end},
		{ data = "Enemy_US_westTentGroup_north001",										message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_westTentGroup_north001") end},
		{ data = "Enemy_US_WoodTurret000",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_WoodTurret000") end},
		{ data = "Enemy_US_MissionTargetCenterSquad000",								message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_MissionTargetCenterSquad000") end},
		{ data = "Enemy_US_MissionTargetCenterSquad001",								message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_MissionTargetCenterSquad001") end},
		{ data = "Enemy_US_Vehicle001",													message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Vehicle001") end},
		{ data = "Enemy_US_Western000",													message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Western000") end},
		{ data = "Enemy_US_eastTent_south000",											message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_eastTent_south000") end},
		{ data = "Enemy_US_IronTurret000",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_IronTurret000") end},
		{ data = "Enemy_US_WareHouse002",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_WareHouse002") end},
		{ data = "Enemy_US_eastTent_north000",											message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_eastTent_north000") end},
		{ data = "Enemy_US_eastTent_north001",											message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_eastTent_north001") end},
		{ data = "Enemy_US_westTent000",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_westTent000") end},
		{ data = "Enemy_US_westTent001",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_westTent001") end},
		{ data = "Enemy_US_IronTurret001",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_IronTurret001") end},
		{ data = "Enemy_US_Reinforce004",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Reinforce004") end},
		{ data = "Enemy_US_Reinforce005",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Reinforce005") end},
		{ data = "Enemy_US_Reinforce006",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Reinforce006") end},
		{ data = "Enemy_US_Reinforce007",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Reinforce007") end},
		{ data = "Enemy_US_Reinforce001",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Reinforce001") end},
		{ data = "Enemy_US_Reinforce000",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Reinforce000") end},
		{ data = "Enemy_US_Reinforce002",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Reinforce002") end},
		{ data = "Enemy_US_Reinforce003",												message = "EspionageRadioCandidate",				commonFunc = function() commonIntelCheck("Enemy_US_Reinforce003") end},
		
		{ data = "f0090_rtrg0130",														message = "RadioEventMessage",						commonFunc = function() commonHeliLeaveExtension() end },
		{ data = "f0090_rtrg0200",														message = "RadioEventMessage",						commonFunc = function() commonHeliLeaveExtension() end },
		{ data = "f0090_rtrg0210",														message = "RadioEventMessage",						commonFunc = function() commonHeliLeaveExtension() end },
	},
	Terminal = {
		{ 																				message = "MbDvcActWatchPhoto",						commonFunc = function() commonMbDvcActWatchPhotoRadio() end },
		{ 																				message = "MbDvcActOpenTop",						commonFunc = function() commonMbDvcActOpenTopRadio() end },
		{																				message = "MbDvcActFocusMapIcon",					commonFunc = function() commonFocusMapIcon() end },
		{																				message = "MbDvcActCallRescueHeli",					commonFunc = function() commonMbDvcActCallRescueHeli("SupportHelicopter", "MbDvc") end },
	},
	Gimmick = {
		
		{ data = "WoodTurret01",														message = "BreakGimmick",							commonFunc = function() commonGimmickBroken( "OFF" ) end },
		{ data = "WoodTurret02",														message = "BreakGimmick",							commonFunc = function() commonGimmickBroken( "OFF" ) end },
		{ data = "WoodTurret03",														message = "BreakGimmick", 							commonFunc = function() commonGimmickBroken( "OFF" ) end },
		{ data = "WoodTurret04",														message = "BreakGimmick", 							commonFunc = function() commonGimmickBroken( "OFF" ) end },
		{ data = "WoodTurret05",														message = "BreakGimmick", 							commonFunc = function() commonGimmickBroken( "OFF" ) end },
		
		{ data = "gntn_area01_antiAirGun_000",											message = "AntiAircraftGunBroken",					commonFunc = function() commonGimmickBroken( "OFF" ) end },
		{ data = "gntn_area01_antiAirGun_001",											message = "AntiAircraftGunBroken",					commonFunc = function() commonGimmickBroken( "OFF" ) end },
		{ data = "gntn_area01_antiAirGun_002",											message = "AntiAircraftGunBroken",					commonFunc = function() commonGimmickBroken( "OFF" ) end },
		{ data = "gntn_area01_antiAirGun_003",											message = "AntiAircraftGunBroken",					commonFunc = function() commonGimmickBroken( "OFF" ) end },
		
		{ data = "gntn_center_SwitchLight",												message = "SwitchOn",								commonFunc = SwitchLight_ON },	
		{ data = "gntn_center_SwitchLight",												message = "SwitchOff",								commonFunc = SwitchLight_OFF },	
	},
	Subtitles = {
		
		{ data = "suvv1000_101710",														message = "SubtitlesEventMessage",					commonFunc = function() commonCallButtonGuide( 0 ) end },
		
		{ data = "suvv1000_191010",														message = "SubtitlesFinishedEventMessage",			commonFunc = function() commonCallEscapMusic( "Start" ) end },
		{ data = "suvv1000_1a1010",														message = "SubtitlesFinishedEventMessage",			commonFunc = function() commonCallEscapMusic( "Start" ) end },
		
		{ data = this.InterrogationName_TargetA,										message = "SubtitlesEventMessage",					commonFunc = function() commonMissionTargetMarkerOn( this.CharacterID_MT_Center, true, true, false ) end },
		{ data = this.InterrogationName_TargetB,										message = "SubtitlesEventMessage",					commonFunc = function() commonMissionTargetMarkerOn( this.CharacterID_MT_Squad, true, true, false ) end },
		{ data = this.InterrogationName_TargetA,										message = "SubtitlesFinishedEventMessage",			commonFunc = function() commonMissionTargetMarkerOn( this.CharacterID_MT_Center, true, true, true ) end },
		{ data = this.InterrogationName_TargetB,										message = "SubtitlesFinishedEventMessage",			commonFunc = function() commonMissionTargetMarkerOn( this.CharacterID_MT_Squad, true, true, true ) end },
	},
	
	RadioCondition = {
		{																				message = "PlayerLifeLessThanHalf",					commonFunc = function() TppRadio.Play( "Miller_SpRecoveryLifeAdvice" ) end },
		{																				message = "PlayerHurt",								commonFunc = function() TppRadio.Play( "Miller_CuarAdvice" ) end },
		{																				message = "PlayerCureComplete",						commonFunc = function() TppRadio.Play( "Miller_SpRecoveryLifeAdvice" ) end },
		{																				message = "SuppressorIsBroken",						commonFunc = function() commonSuppressorIsBroken() end },
	},
	
	UI = {
		{																				message = "GetAllCassetteTapes" ,					commonFunc = function() TppRadio.DelayPlayEnqueue("Miller_AllGetTape", "mid" ) end },	
	},
	
	Demo = {
		{ data = "p11_020003_000",														message="invis_cam",								commonFunc = function() TppEnemyUtility.PowerOnSecurityCameraByCharacterId( "e20020_SecurityCamera_03", false ) end },
		{ data = "p11_020003_000",														message="lightOff",									commonFunc = function() TppGadgetUtility.SetSwitch( "gntn_center_SwitchLight", false ) end },
		{ data = "p11_020003_000",														message="lightOn",									commonFunc = function() TppGadgetUtility.SetSwitch( "gntn_center_SwitchLight", true ) end },
		{ data = "p11_020003_000",														message="under",									commonFunc = function() TppWeatherManager:GetInstance():RequestTag("under", 0 ) end },
		{ data = "p11_020003_000",														message="default",									commonFunc = function() TppWeatherManager:GetInstance():RequestTag("default", 0 ) end },
	},

}





this.Seq_MissionPrepare = {
	OnEnter = function( manager )
		
		commonMissionPrepare( manager )

		
		TppSequence.ChangeSequence( "Seq_MissionSetup" )
	end,
}


this.Seq_MissionSetup = {
	OnEnter = function()
		
		GZCommon.MissionSetup()
		
		commonMissionSetup()
		
		TppSequence.ChangeSequence( "Seq_OpeningDemoLoad" )
	end,
}


this.Seq_OpeningDemoLoad = {
	OnEnter = function()
		commonDemoBlockSetup()
	end,
	OnUpdate = function()
		if( IsDemoAndEventBlockActive() ) then
			TppSequence.ChangeSequence( "Seq_OpeningShowTransition" )
		end
	end,
}


this.Seq_OpeningShowTransition = {
	OnEnter = function()
		local localChangeSequence = {
			onOpeningBgEnd = function()
				TppSequence.ChangeSequence( "Seq_OpeningDemo" ) 
			end,
		}
		
		MissionManager.RegisterNotInGameRealizeCharacter( "Enemy_US_Seaside000" )
		
		TppMusicManager.PostJingleEvent( "MissionStart", "Play_bgm_gntn_op_default" )
		
		TppUI.ShowTransition( "opening", localChangeSequence )
	end,
}


this.Seq_MissionLoad = {
	OnEnter = function( manager )
		
		commonMissionLoadSetup( manager, false, false )
		
		TppSequence.ChangeSequence( "Seq_Waiting_KillMT_Squad_and_Center" )
	end,
}


this.Seq_MissionClearShowTransition = {
	MissionState = "clear",
	Messages = {
		UI = {
			
			{ message = "EndMissionTelopFadeIn" ,	localFunc = "OnFinishClearFade" },
			
			{ message = "EndMissionTelopRadioStop",	commonFunc = function() PlatformConfiguration.SetVideoRecordingEnabled( false ) end },
		},
	},
	
	OnFinishClearFade = function()
		
		TppSoundDaemon.SetMute( 'Result' )
		

		
		local Rank = PlayRecord.GetRank()
		if( Rank == 0 ) then



		elseif( Rank == 1 ) then
			TppMusicManager.PostJingleEvent( "MissionEnd", "Play_bgm_gntn_ed_default_s" )
		elseif( Rank == 2 ) then
			TppMusicManager.PostJingleEvent( "MissionEnd", "Play_bgm_gntn_ed_default_ab" )
		elseif( Rank == 3 ) then
			TppMusicManager.PostJingleEvent( "MissionEnd", "Play_bgm_gntn_ed_default_ab" )
		elseif( Rank == 4 ) then
			TppMusicManager.PostJingleEvent( "MissionEnd", "Play_bgm_gntn_ed_default_cd" )
		elseif( Rank == 5 ) then
			TppMusicManager.PostJingleEvent( "MissionEnd", "Play_bgm_gntn_ed_default_cd" )
		else
			TppMusicManager.PostJingleEvent( "MissionEnd", "Play_bgm_gntn_ed_default_e" )
		end
		
		SubtitlesCommand.SetIsEnabledUiPrioStrong( true )
		
		commonMissionClearRankRadio()
	end,
	OnEnter = function()
		local TelopEnd = {
			onEnd = function()
				TppSequence.ChangeSequence( "Seq_MissionEnd_Radio" )
			end,
		}
		
		commonRegisterRadioCondition( "OFF" )
		
		TppUI.ShowTransitionWithFadeOut( "ending", TelopEnd, 2 )
	end,
}


this.Seq_MissionFailed = {
	MissionState = "failed",
	Messages = {
		Timer = {
			{ data = "MissionFailedProductionTimer",	message = "OnEnd", 	localFunc="OnFinishMissionFailedProduction" },
		},
	},
	OnEnter = function( manager )
		
		TppTimer.Start( "MissionFailedProductionTimer", this.CounterList.GameOverFadeTime )
	end,
	
	OnFinishMissionFailedProduction = function( manager )
		
		TppSequence.ChangeSequence( "Seq_MissionGameOver" )
	end,
}


this.Seq_MissionGameOver = {
	
	MissionState = "gameOver",
	Messages = {
		UI = {
			
			{ message = "GameOverOpen" ,	localFunc = "OnFinishGameOverFade" },
		},
	},
	
	OnFinishGameOverFade = function()
		commonPrint2D("ゲームオーバー無線再生 RadioName:"..this.CounterList.GameOverRadioName )
		
		SubtitlesCommand.SetIsEnabledUiPrioStrong( true )
		
		TppRadio.DelayPlay( this.CounterList.GameOverRadioName, nil, "none" )
	end,
	OnEnter = function()
		
	end,
}


this.Seq_MissionEnd_Radio = {
	MissionState = "clear",
	OnEnter = function()




		PlatformConfiguration.SetShareScreenEnabled(false) 

		
		SubtitlesCommand.SetIsEnabledUiPrioStrong( true )
		local funcs = {
			onStart = function() TppMusicManager.PostJingleEvent( 'SingleShot', 'Set_Switch_bgm_gntn_ed_default_lp' ) end,
			onEnd = function()
				TppSequence.ChangeSequence( "Seq_ShowClearReward" )
				
				SubtitlesCommand.SetIsEnabledUiPrioStrong( false )
			end,
		}
		
		if( ( TppMission.GetFlag( "isMT_SquadKill" ) == 2 and TppMission.GetFlag( "isMT_CenterKill" ) == 2 and TppMission.GetFlag( "isSupportHelicopterDead" ) == false ) )  then
			TppRadio.Play( "Radio_MissionClear_Recovery", funcs, nil, nil, "none" )
		
		else
			TppRadio.Play( "Radio_MissionClear_Kill", funcs, nil, nil, "none" )
		end
	end,
	
	OnUpdate = function()
		local hudCommonData = HudCommonDataManager.GetInstance()
		if hudCommonData:IsPushRadioSkipButton() == true then
			
			
			local radioDaemon = RadioDaemon:GetInstance()
			radioDaemon:StopDirect()
			TppSequence.ChangeSequence( "Seq_ShowClearReward" )
		end
	end,
}


this.Seq_ShowClearReward = {
	MissionState = "clear",
	Messages = {
		UI = {
			
			
			
			{ message = "BonusPopupAllClose", commonFunc = function() TppSequence.ChangeSequence( "Seq_MissionEnd" ) end },
		},
	},
	OnEnter = function()



		PlatformConfiguration.SetShareScreenEnabled(true) 

		
		OnShowRewardPopupWindow()
	end,
}


this.Seq_MissionEnd = {
	
	
	OnEnter = function()
		
		GZCommon.MissionCleanup()
		
		this.commonMissionCleanUp()
		
		TppMusicManager.PostJingleEvent( "SingleShot", "Stop_bgm_gntn_ed_default" )
		TppMissionManager.SaveGame()		
		
		TppMission.ChangeState( "end" )
		
		PlatformConfiguration.SetVideoRecordingEnabled( true )
	end,
}





this.commonMissionFailure = function( manager, messageId, message )



	
	local hudCommonData = HudCommonDataManager.GetInstance()
	local radioDaemon = RadioDaemon:GetInstance()
	
	TppSoundDaemon.SetMute( 'GameOver' )
	
	this.CounterList.GameOverFadeTime = GZCommon.FadeOutTime_MissionFailed
	commonPrint2D("Mission Failed"..message.."" , 1 )
	
	radioDaemon:StopDirectNoEndMessage()
	
	SubtitlesCommand.StopAll()
	
	TppEnemyUtility.IgnoreCpRadioCall( true )	
	TppEnemyUtility.StopAllCpRadio( 0.5 )		
	
	if( message == "FailedPlayerRideHelicopter" )  then
		
		this.CounterList.GameOverRadioName = "Radio_MissionFailed_PlayerRideHelicopter"
		
		hudCommonData:CallFailedTelop( "gameover_reason_mission_abort" )
	
	elseif( message == "PlayerDead" ) then
		
		this.CounterList.GameOverRadioName = "Radio_MissionFailed_PlayerDead"
	
		elseif( message == "PlayerFallDead" )	then
		
		this.CounterList.GameOverRadioName = "Radio_MissionFailed_PlayerDead"
		
		this.CounterList.GameOverFadeTime = GZCommon.FadeOutTime_PlayerFallDead
	
	elseif( message == "PlayerDeadOnHeli" ) then
		this.CounterList.GameOverRadioName = "Radio_MissionFailed_PlayerHeliDead"
		
		hudCommonData:CallFailedTelop( "gameover_reason_heli_destroyed" )
	
	elseif( message == "FailedPlayerEscapeMissionArea" )  then
		
		GZCommon.isOutOfMissionEffectEnable = true
		
		this.CounterList.GameOverRadioName = "Radio_MissionFailed_PlayerEscapeMissionArea"
		
		GZCommon.OutsideAreaCamera()
		
		hudCommonData:CallFailedTelop( "gameover_reason_mission_outside" )
	
	elseif( message == "FailedMTEscapeMissionArea" )  then
		
		GZCommon.isOutOfMissionEffectEnable = true
		
		this.CounterList.GameOverRadioName = "Radio_MissionFailed_MTEscapeMissionArea"
		
		if ( this.CounterList.VipOnEscapeVehicleID ~= "NoRide" ) then
			
			if( this.CounterList.VipOnEscapeArea == "NoArea" ) then
				
				GZCommon.OutsideAreaCamera_Vehicle( this.CounterList.VipOnEscapeVehicleID, this.CounterList.VipOnEscapeCharacterID )
				
				TppTimer.Start( "Timer_EscapeVehicleSound", this.Timer_EscapeVehicleSound )
			else
				
				GZCommon.OutsideAreaCamera_Vehicle( this.CounterList.VipOnEscapeVehicleID, this.CounterList.VipOnEscapeCharacterID, this.CounterList.VipOnEscapeArea )
				
				TppTimer.Start( "Timer_EscapeVehicleSound", this.Timer_EscapeVehicleSound )
			end
			
			hudCommonData:CallFailedTelop( "gameover_reason_target_outside" )
		else
			if( TppMission.GetFlag( "isAlert" ) == true ) then
				
				if( this.CounterList.VipOnEscapeArea == "NoArea" ) then
					
					GZCommon.OutsideAreaCamera_Human( this.CounterList.VipOnEscapeCharacterID )
				else
					
					GZCommon.OutsideAreaCamera_Human( this.CounterList.VipOnEscapeCharacterID, this.CounterList.VipOnEscapeArea )
				end
				
				hudCommonData:CallFailedTelop( "gameover_reason_target_outside" )
			else
				
				for i,id in ipairs( this.AllEnemyDisableList ) do
					TppEnemyUtility.SetEnableCharacterId( this.AllEnemyDisableList[i], false )
				end
				
				TppTimer.Start( "Timer_OutsideAreaCamera", this.Timer_OutsideAreaCamera )
			end
		end
	end
	
	TppSequence.ChangeSequence( "Seq_MissionFailed" )
end


this.Seq_Mission_FailedPlayerRideHelicopter = {
	Messages = {
		Character = {
			{ data = this.CharacterID_SupportHelicopter,	message = "CloseDoor",		localFunc = "localCloseDoor" },
		},
	},
	localCloseDoor = function()



		
		TppMission.ChangeState( "failed", "FailedPlayerRideHelicopter" )
	end,
}

this.Seq_Mission_FailedPlayerEscapeMissionArea = {
	OnEnter = function()
		
		TppMission.ChangeState( "failed", "FailedPlayerEscapeMissionArea" )
	end,
}

this.Seq_Mission_FailedMTEscapeMissionArea = {
	OnEnter = function()
		
		commonCallAnnounceLog( this.AnnounceLogID_EnemyDecrease )
		
		TppMission.ChangeState( "failed", "FailedMTEscapeMissionArea" )
	end,
}






this.commonMissionClear = function( manager, messageId, message )



	local radioDaemon = RadioDaemon:GetInstance()
	
	radioDaemon:StopDirectNoEndMessage()
	
	SubtitlesCommand.StopAll()
	
	TppEnemyUtility.IgnoreCpRadioCall( true )	
	TppEnemyUtility.StopAllCpRadio( 0.5 )		
	
	if( message == "RideHeli_Clear" )  then
		
		TppSequence.ChangeSequence( "Seq_MissionClearShowTransition" )
	
	elseif( message == "ClearPlayerEscapeMissionArea" )  then
		
		GZCommon.isOutOfMissionEffectEnable = false
		
		GZCommon.OutsideAreaCamera()
		
		TppSequence.ChangeSequence( "Seq_MissionClearEscapeMissionAreaEnd" )
	end
end


this.Seq_MissionClearEscapeMissionArea = {
	OnEnter = function()
		
		if( TppMission.GetFlag( "isMT_SquadKill" ) == 2 and TppMission.GetFlag( "isMT_CenterKill" ) == 2 ) then
			
			commonSetMissionChallenge()
			
			Trophy.TrophyUnlock( this.TrophyID_GZ_VipRecovery )
		end
		
		commonMissionClearRequest( "ClearPlayerEscapeMissionArea" )
	end,
}


this.Seq_MissionClearEscapeMissionAreaEnd = {
	MissionState = "clear",
	Messages = {
		Timer = {
			{ data = "MissionClearProductionTimer",		message = "OnEnd", 	localFunc = "OnFinishMissionClearProduction" },
		},
	},
	OnEnter = function()
		
		
		TppTimer.Start( "MissionClearProductionTimer", GZCommon.FadeOutTime_MissionClear )
	end,
	
	OnFinishMissionClearProduction = function()



		TppSequence.ChangeSequence( "Seq_MissionClearShowTransition" )
	end,
}


this.Seq_MissionClearPlayerRideHelicopter = {
	Messages = {
		Character = {
			{ data = this.CharacterID_SupportHelicopter,		message = "CloseDoor",		localFunc = "localCloseDoor" },
		},
	},
	localCloseDoor = function()



		
		if( TppMission.GetFlag( "isMT_SquadKill" ) == 2 and TppMission.GetFlag( "isMT_CenterKill" ) == 2 ) then
			
			commonSetMissionChallenge()
			
			Trophy.TrophyUnlock( this.TrophyID_GZ_VipRecovery )
		end
		
		commonMissionClearRequest( "RideHeli_Clear" )
	end,
}





this.Seq_OpeningDemo = {
	OnEnter = function()
		TppDemo.Play( "Demo_Opening", { onStart = function() TppUI.FadeIn( 0.7 ) end, onEnd = function() TppSequence.ChangeSequence( "Seq_MissionLoad" ) end } )
	end,
}






this.Seq_Waiting_KillMT_Squad_and_Center = {
	
	checkingsOnThisSequence = {
		"CheckLookingTarget"
	},
	Messages = {
		Character = {
			SupportHeliMessages.Character[1],			
		},
		Myself = {
			SearchTargetMessages.Myself[1],				
			SearchTargetMessages.Myself[2],				
		},
	},
	OnEnter = function( manager )
		local funcs = {
			onStart = function()
				TppMission.SetFlag( "isRadio_MissionStartPlay", true )
			end,
			onEnd = function()
				TppMusicManager.PostJingleEvent( "SingleShot", "Stop_bgm_gntn_op_default" )
				TppMission.SetFlag( "isRadio_MissionStartPlay", false )
				
				commonCheckTargetPhotoTimeSetup( "Start" )
			end,
		}
		
		commonRegisterOptionalRadioSetup( false, false )
		
		if( TppMission.GetFlag( "isRadio_MissionStart" ) == false )  then
			
			TppRadio.DelayPlay( "Radio_MissionStart", nil, "end", funcs )
			TppMission.SetFlag( "isRadio_MissionStart", true )
		else
			
			TppRadio.DelayPlay( "Radio_MissionStartContinue", "mid", nil, funcs )
		end
		
		commonSequenceSave( false, "10" )
		
		commonUiMissionSubGoalNo( this.MissionSubGoal_VipKillTwo )
		
		commonSearchTargetSetup( manager )
	end,
}



this.Seq_Waiting_KillMT_Center = {
	
	checkingsOnThisSequence = {
		"CheckLookingTarget"
	},
	Messages = {
		Character = {
			SupportHeliMessages.Character[1],			
		},
		Enemy = {
			EnemyMessages.Enemy[1],						
		},
		Myself = {
			SearchTargetMessages.Myself[2],				
		},
	},
	OnEnter = function( manager )
		local lifeStaus = TppEnemyUtility.GetLifeStatus( this.CharacterID_MT_Center )
		
		TppMission.SetFlag( "isSeq_Advance", 1 )
		
		commonRegisterVipMember_MTSquad()
		
		commonUiMissionPhotoChange( this.CharacterID_MT_Squad )
		
		if( lifeStaus == "Dead" ) then
			
			commonCallAnnounceLogEnemy( "NoRadio", this.CharacterID_MT_Squad )
			
			commonMT_Center_StateMove( "Kill" )
			
			commonUnsetMissionChallenge()
			
			TppSequence.ChangeSequence( "Seq_Waiting_MissionClearPlayerRideHelicopter" )
			
			if( this.CounterList.NextSequenceName ~= "NoName" ) then
				this.CounterList.NextSequenceName = "Seq_MissionClearPlayerRideHelicopter"
			end
		else
			
			commonCallAnnounceLogEnemy( 0, this.CharacterID_MT_Squad )
			
			commonRegisterOptionalRadioSetup( false, false )
			
			commonCheckTargetPhotoTimeSetup( "Start" )
			
			commonSequenceSave( true )
			
			commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
			
			commonCallAnnounceLog( this.AnnounceLogID_MissionInfoUpdate )
			
			commonUiMissionSubGoalNo( this.MissionSubGoal_VipKillOne )
			
			commonSearchTargetSetup( manager )
			
			commonSequenceChageTimerStart()
			
			commonSequenceChangeMissionWarningArea()
		end
	end,
}


this.Seq_Waiting_KillMT_Squad = {
	
	checkingsOnThisSequence = {
		"CheckLookingTarget"
	},
	Messages = {
		Character = {
			SupportHeliMessages.Character[1],			
		},
		Enemy = {
			EnemyMessages.Enemy[1],						
		},
		Myself = {
			SearchTargetMessages.Myself[1],				
		},
	},
	OnEnter = function( manager )
		local lifeStaus = TppEnemyUtility.GetLifeStatus( this.CharacterID_MT_Squad )
		
		TppMission.SetFlag( "isSeq_Advance", 2 )
		
		commonRegisterVipMember_MTCenter()
		
		commonUiMissionPhotoChange( this.CharacterID_MT_Center )
		
		if( lifeStaus == "Dead" ) then
			
			commonCallAnnounceLogEnemy( "NoRadio", this.CharacterID_MT_Center )
			
			commonMT_Squad_StateMove( "Kill" )
			
			commonUnsetMissionChallenge()
			
			TppSequence.ChangeSequence( "Seq_Waiting_MissionClearPlayerRideHelicopter" )
			if( this.CounterList.NextSequenceName ~= "NoName" ) then
				this.CounterList.NextSequenceName = "Seq_MissionClearPlayerRideHelicopter"
			end
		else
			
			commonCallAnnounceLogEnemy( 0, this.CharacterID_MT_Center )
			
			commonRegisterOptionalRadioSetup( false, false )
			
			commonCheckTargetPhotoTimeSetup( "Start" )
			
			commonSequenceSave( true )
			
			commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
			
			commonCallAnnounceLog( this.AnnounceLogID_MissionInfoUpdate )
			
			commonUiMissionSubGoalNo( this.MissionSubGoal_VipKillOne )
			
			commonSearchTargetSetup( manager )
			
			commonSequenceChageTimerStart()
			
			commonSequenceChangeMissionWarningArea()
		end
	end,
}


this.Seq_Waiting_MissionClearPlayerRideHelicopter = {
	Messages = {
		Character = {
			SupportHeliMessages.Character[2],			
		},
		Enemy = {
			EnemyMessages.Enemy[1],						
		},
	},
	OnEnter = function( manager )
		
		commonRegisterOptionalRadioSetup( false, false )
		
		commonSequenceSave( true )
		
		commonKeepPhaseAlert( "OFF" )
		
		if( TppMission.GetFlag( "isSeq_Advance" ) == 1 )  then
			
			commonRegisterVipMember_MTCenter()
			
			commonCallAnnounceLogEnemy( 1, this.CharacterID_MT_Center )
			
			commonUiMissionPhotoChange( this.CharacterID_MT_Center )
		
		elseif( TppMission.GetFlag( "isSeq_Advance" ) == 2 )  then
			
			commonRegisterVipMember_MTSquad()
			
			commonCallAnnounceLogEnemy( 1, this.CharacterID_MT_Squad )
			
			commonUiMissionPhotoChange( this.CharacterID_MT_Squad )
		end
		
		commonCheckTargetPhotoTimeSetup( "End" )
		
		commonCallAnnounceLog( this.AnnounceLogID_MissionGoal )
		
		commonCallAnnounceLog( this.AnnounceLogID_MapUpdate )
		
		commonCallAnnounceLog( this.AnnounceLogID_MissionInfoUpdate )
		
		commonEscapeMarker()
		
		commonUiMissionSubGoalNo( this.MissionSubGoal_Escape )
		
		commonSearchTargetSetup( manager )
		
		commonSequenceChageTimerStart()
		
		commonSequenceChangeMissionWarningArea()
	end,
}




return this
